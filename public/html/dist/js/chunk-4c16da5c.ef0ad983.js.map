{"version":3,"sources":["webpack:///./src/designerComponents/myDesign.vue?9105","webpack:///src/designerComponents/myDesign.vue","webpack:///./src/designerComponents/myDesign.vue?9005","webpack:///./src/designerComponents/myDesign.vue","webpack:///./src/designerComponents/myDesign.vue?58b9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","pageIndex","projectArr","length","_l","item","index","key","id","style","backgroundImage","api","on","$event","hoverFunc","outFunc","changeProject","submit","_e","showTagFunc","online","status","attrs","tempData","name","tag","handleClose","answer_t","selectTagFunc","saveTag","staticRenderFns","data","showTag","dynamicTags","inputVisible","inputValue","tagPool","computed","created","mounted","me","getTempData","$set","methods","user_id","user_data","method","url","template_audit_list","postData","res","i","select","outLine","push","onLine","newArr","empty","temp_change_status","parseInt","author","show","find_label_list","label_id","img","path","template_name","splice","tagIn","some","Array","tagArr","add_template_label","JSON","stringify","$message","message","type","$router","complete_template_audit","component"],"mappings":"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","file":"js/chunk-4c16da5c.ef0ad983.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myDesign\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.pageIndex==0?'未提交':'')+_vm._s(_vm.pageIndex==1?'已提交':'')+\" \"),_c('span',[_vm._v(_vm._s(_vm.projectArr.length))])]),_c('div',{staticClass:\"designArea\"},_vm._l((_vm.projectArr),function(item,index){return _c('div',{key:item.id,staticClass:\"designProject\",style:({backgroundImage:(\"url('\" + (_vm.api.images) + (item.path) + \"')\")}),on:{\"mouseover\":function($event){return _vm.hoverFunc(index)},\"mouseleave\":function($event){return _vm.outFunc(index)}}},[(item.select)?_c('div',{staticClass:\"hoverBlock\"},[(_vm.pageIndex==0)?_c('div',{staticClass:\"blockBtn\"},[_c('div',{staticClass:\"designBtn\",on:{\"click\":function($event){return _vm.changeProject(item.id,index)}}},[_vm._v(\"修改项目\")]),_c('div',{staticClass:\"designBtn\",on:{\"click\":function($event){return _vm.submit(item.id,index)}}},[_vm._v(\"提交审核\")]),_c('div',{staticClass:\"designBtn\"},[_vm._v(\"删除\")])]):_vm._e(),(_vm.pageIndex==1)?_c('p',{staticClass:\"projectState\"},[_vm._v(\"审核通过\")]):_vm._e(),(_vm.pageIndex==1)?_c('div',{staticClass:\"blockBtn\"},[_c('div',{staticClass:\"designBtn\",on:{\"click\":function($event){return _vm.showTagFunc(true,index)}}},[_vm._v(\"设置标签\")]),_c('div',{staticClass:\"designBtn\",on:{\"click\":function($event){return _vm.online(item.id,item.status==3?1:3)}}},[_vm._v(_vm._s(item.status==3?'上线':'下线'))]),(item.status==3)?_c('div',{staticClass:\"designBtn\",on:{\"click\":function($event){return _vm.online(item.id,0)}}},[_vm._v(\"撤回提交\")]):_vm._e()]):_vm._e()]):_vm._e(),(_vm.pageIndex==1)?_c('el-badge',{staticClass:\"itemNew\",attrs:{\"value\":item.status==3?'未上线':'已上线',\"type\":item.status==3?'primary':'success'}}):_vm._e()],1)}),0),(_vm.showTag)?_c('div',{staticClass:\"alertBg\"},[_c('div',{staticClass:\"alertTag\"},[_c('div',{staticClass:\"theDesign\",style:({backgroundImage:(\"url('\" + (_vm.api.images) + (_vm.tempData.img) + \"')\")})}),_c('div',{staticClass:\"theMsg\"},[_c('div',{staticClass:\"msgBlock\"},[_c('p',[_vm._v(\"名称：\"+_vm._s(_vm.tempData.name))]),_c('p',[_vm._v(\"id：\"+_vm._s(_vm.tempData.id))]),_c('p',[_vm._v(\"状态：\"+_vm._s(_vm.tempData.status))])])]),_c('div',{staticClass:\"theTag\"},[_c('div',{staticClass:\"designTagPool\"},[_c('p',[_vm._v(\"模板标签：\")]),_vm._l((_vm.dynamicTags),function(tag,index){return _c('el-tag',{key:tag.id,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(index)}}},[_vm._v(_vm._s(tag.answer_t))])})],2),_c('p',{staticClass:\"textleft\"},[_vm._v(\"标签池：\")]),_c('div',{staticClass:\"tagPool\"},_vm._l((_vm.tagPool),function(tag){return _c('el-tag',{key:tag[0],staticClass:\"selectTag\",attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.selectTagFunc(tag)}}},[_vm._v(_vm._s(tag[1]))])}),1),_c('el-button',{staticClass:\"saveBtn\",attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.saveTag}},[_vm._v(\"保存\")]),_c('el-button',{staticClass:\"cancelBtn\",attrs:{\"type\":\"info\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.showTagFunc(false)}}},[_vm._v(\"取消\")])],1)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"myDesign\">\r\n    <h2>\r\n      {{pageIndex==0?'未提交':''}}{{pageIndex==1?'已提交':''}}\r\n      <span>{{projectArr.length}}</span>\r\n    </h2>\r\n    <div class=\"designArea\">\r\n      <div\r\n        class=\"designProject\"\r\n        v-for=\"(item,index) in projectArr\"\r\n        :key=\"item.id\"\r\n        v-bind:style=\"{backgroundImage:`url('${api.images}${item.path}')`}\"\r\n        @mouseover=\"hoverFunc(index)\"\r\n        @mouseleave=\"outFunc(index)\"\r\n      >\r\n        <div class=\"hoverBlock\" v-if=\"item.select\">\r\n          <div v-if=\"pageIndex==0\" class=\"blockBtn\">\r\n            <div class=\"designBtn\" @click=\"changeProject(item.id,index)\">修改项目</div>\r\n            <div class=\"designBtn\" @click=\"submit(item.id,index)\">提交审核</div>\r\n            <div class=\"designBtn\">删除</div>\r\n          </div>\r\n          <p class=\"projectState\" v-if=\"pageIndex==1\">审核通过</p>\r\n          <div v-if=\"pageIndex==1\" class=\"blockBtn\">\r\n            <div class=\"designBtn\" @click=\"showTagFunc(true,index)\">设置标签</div>\r\n            <div\r\n              class=\"designBtn\"\r\n              @click=\"online(item.id,item.status==3?1:3)\"\r\n            >{{item.status==3?'上线':'下线'}}</div>\r\n            <div class=\"designBtn\" v-if=\"item.status==3\" @click=\"online(item.id,0)\">撤回提交</div>\r\n          </div>\r\n        </div>\r\n        <el-badge\r\n          :value=\"item.status==3?'未上线':'已上线'\"\r\n          class=\"itemNew\"\r\n          v-if=\"pageIndex==1\"\r\n          v-bind:type=\"item.status==3?'primary':'success'\"\r\n        ></el-badge>\r\n      </div>\r\n    </div>\r\n    <div class=\"alertBg\" v-if=\"showTag\">\r\n      <div class=\"alertTag\">\r\n        <div\r\n          class=\"theDesign\"\r\n          v-bind:style=\"{backgroundImage:`url('${api.images}${tempData.img}')`}\"\r\n        ></div>\r\n        <div class=\"theMsg\">\r\n          <div class=\"msgBlock\">\r\n            <p>名称：{{tempData.name}}</p>\r\n            <p>id：{{tempData.id}}</p>\r\n            <p>状态：{{tempData.status}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"theTag\">\r\n          <div class=\"designTagPool\">\r\n            <p>模板标签：</p>\r\n            <el-tag\r\n              :key=\"tag.id\"\r\n              v-for=\"(tag,index) in dynamicTags\"\r\n              closable\r\n              :disable-transitions=\"false\"\r\n              @close=\"handleClose(index)\"\r\n            >{{tag.answer_t}}</el-tag>\r\n          </div>\r\n          <p class=\"textleft\">标签池：</p>\r\n          <div class=\"tagPool\">\r\n            <el-tag\r\n              type=\"info\"\r\n              v-for=\"tag in tagPool\"\r\n              :key=\"tag[0]\"\r\n              class=\"selectTag\"\r\n              @click=\"selectTagFunc(tag)\"\r\n            >{{tag[1]}}</el-tag>\r\n          </div>\r\n          <!--           <el-input class=\"input-new-tag\" v-if=\"inputVisible\" v-model=\"inputValue\" ref=\"saveTagInput\" size=\"small\" @keyup.enter.native=\"handleInputConfirm\" @blur=\"handleInputConfirm\">\r\n          </el-input>\r\n          <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ New Tag</el-button>-->\r\n          <el-button type=\"primary\" round class=\"saveBtn\" @click=\"saveTag\" size=\"small\">保存</el-button>\r\n          <el-button type=\"info\" round class=\"cancelBtn\" @click=\"showTagFunc(false)\" size=\"small\">取消</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style type=\"text/css\" lang='less' scoped>\r\n@margin-top: 100px;\r\n.myDesign {\r\n  width: 100%;\r\n  height: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: @margin-top;\r\n}\r\n\r\nh2 {\r\n  padding-left: 2.5%;\r\n  text-align: left;\r\n  span {\r\n    font-size: 14px;\r\n    color: gray;\r\n    margin-left: 4%;\r\n  }\r\n}\r\n\r\n.designArea {\r\n  width: 100%;\r\n  margin-left: 1.25%;\r\n  height: calc(100% - 200px);\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n}\r\n\r\n.designProject {\r\n  width: 30%;\r\n  float: left;\r\n  margin: 0 1.25%;\r\n  height: 34%;\r\n  border-radius: 15px;\r\n  background-color: white;\r\n  margin-bottom: 25px;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  position: relative;\r\n}\r\n\r\n.hoverBlock {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  border-radius: 15px;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.blockBtn {\r\n  width: 100%;\r\n  height: 35px;\r\n  position: absolute;\r\n  bottom: 5%;\r\n  text-align: center;\r\n}\r\n\r\n.designBtn {\r\n  width: 22%;\r\n  height: 35px;\r\n  background-color: rgb(205, 57, 56);\r\n  border-radius: 35px;\r\n  line-height: 35px;\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  color: white;\r\n  margin: 0 5%;\r\n  cursor: pointer;\r\n}\r\n\r\n.projectState {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 35px;\r\n  left: 0;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  text-align: center;\r\n  color: white;\r\n  font-size: 20px;\r\n  line-height: 35px;\r\n}\r\n\r\n.itemNew {\r\n  float: right;\r\n}\r\n.alertBg {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.alertTag {\r\n  width: 1200px;\r\n  height: 500px;\r\n  background-color: white;\r\n  border-radius: 30px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translateX(-50%) translateY(-50%);\r\n}\r\n\r\n.theDesign {\r\n  width: 30%;\r\n  height: 100%;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n\r\n.theMsg {\r\n  width: 15%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 30%;\r\n}\r\n\r\n.msgBlock {\r\n  width: 100%;\r\n  position: absolute;\r\n  bottom: 10px;\r\n}\r\n\r\n.msgBlock p {\r\n  font-size: 13px;\r\n  line-height: 25px;\r\n  text-align: left;\r\n}\r\n\r\n.theTag {\r\n  width: 55%;\r\n  height: 100%;\r\n  position: absolute;\r\n  right: 0;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* /标签 ***************************/\r\n.el-tag + .el-tag,\r\n.el-tag {\r\n  margin-left: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.button-new-tag {\r\n  margin-left: 10px;\r\n  margin-bottom: 10px;\r\n  height: 32px;\r\n  line-height: 30px;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n}\r\n\r\n.input-new-tag {\r\n  width: 90px;\r\n  margin-left: 10px;\r\n  vertical-align: bottom;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* /标签 ***************************/\r\n.designTagPool {\r\n  width: 100%;\r\n  height: 40%;\r\n  overflow-y: auto;\r\n  /* border-bottom: 1px solid rgb(205, 57, 56) */\r\n}\r\n\r\n.tagPool {\r\n  width: 100%;\r\n  height: 40%;\r\n  overflow-y: auto;\r\n  padding-top: 10px;\r\n}\r\n\r\n.selectTag {\r\n  cursor: pointer;\r\n}\r\n\r\n.tagPool p,\r\n.designTagPool p,\r\n.textleft {\r\n  text-align: left;\r\n  font-size: 15px;\r\n}\r\n\r\n.saveBtn {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  left: 20%;\r\n  width: 100px;\r\n  margin: 0;\r\n}\r\n\r\n.cancelBtn {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  right: 20%;\r\n  width: 100px;\r\n  margin: 0;\r\n}\r\n</style>\r\n<script>\r\n// @ is an alias to /src\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\nimport bus from '@/eventBus.js'\r\nimport axios from 'axios'\r\nimport _ from 'lodash'\r\nexport default {\r\n  name: 'myDesign',\r\n  data: function() {\r\n    return {\r\n      pageIndex: 0,\r\n      projectArr: [\r\n        {\r\n          img: '',\r\n          id: '1',\r\n          select: false\r\n        },\r\n        {\r\n          img: '',\r\n          id: '2',\r\n          select: false\r\n        },\r\n        {\r\n          img: '',\r\n          id: '3',\r\n          select: false\r\n        }\r\n      ],\r\n      tempData: null,\r\n      showTag: false,\r\n      dynamicTags: [[0, '标签一'], [1, '标签一as'], [2, '标签一12wer3']],\r\n      inputVisible: false,\r\n      inputValue: '',\r\n      tagPool: [[0, '标签一'], [1, '标签一as'], [2, '标签一12wer3'], [3, '标签一123erter']]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user_type: state => state.user.user_type,\r\n      user_data: state => state.user.user_data,\r\n      api: state => state.api\r\n    })\r\n  },\r\n  created: function() {},\r\n  mounted: function() {\r\n    const me = this\r\n    me.getTempData(0)\r\n    bus.$off('myDesignIndex').$on('myDesignIndex', function(index) {\r\n      if (index == me.pageIndex) {\r\n      } else {\r\n        me.getTempData(index)\r\n        me.$set(me, 'pageIndex', index)\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    getTempData: function(index) {\r\n      const me = this\r\n      // 我的设计tab切换\r\n      let postData = {\r\n        user_id: me.user_data.id,\r\n        status: index == 1 ? '1,3' : `${index}`\r\n      }\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.template_audit_list,\r\n        data: postData\r\n      }).then(function(res) {\r\n        res = res.data\r\n        // 处理设计师用户的模板项目\r\n        if (res.data.length > 0) {\r\n          let projectArr = res.data\r\n          let outLine = []\r\n          let onLine = []\r\n          for (let i = 0; i < projectArr.length; i++) {\r\n            projectArr[i].select = false\r\n            if (projectArr[i].status == 3 || projectArr[i].status == 0) {\r\n              outLine.push(projectArr[i])\r\n            }\r\n            if (projectArr[i].status == 1) {\r\n              onLine.push(projectArr[i])\r\n            }\r\n          }\r\n          let newArr = [...outLine, ...onLine]\r\n          me.$set(me, 'projectArr', newArr)\r\n        } else {\r\n          let empty = []\r\n          me.$set(me, 'projectArr', empty)\r\n        }\r\n      })\r\n    },\r\n    hoverFunc: function(index) {\r\n      const me = this\r\n      // let project=me.projectArr.map((item)=>{item.select=false;\r\n      //   return item\r\n      // })\r\n      // me.$set(me,'projectArr',project)\r\n      me.$set(me['projectArr'][index], 'select', true)\r\n    },\r\n    outFunc: function(index) {\r\n      const me = this\r\n      me.$set(me['projectArr'][index], 'select', false)\r\n    },\r\n    submit: function(id, index) {\r\n      const me = this\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.temp_change_status,\r\n        data: {\r\n          id: parseInt(id),\r\n          status: 3,\r\n          author: me.user_data.id\r\n        }\r\n      })\r\n        .then(function(res) {\r\n          me.projectArr.splice(index, 1)\r\n          me.$message({\r\n            message: '项目提交成功，请前往“已提交”查看',\r\n            type: 'success'\r\n          })\r\n        })\r\n        .catch(function() {\r\n          me.$message.error('提交错误请稍后再试')\r\n        })\r\n    },\r\n    showTagFunc: function(show, index = 0) {\r\n      const me = this\r\n      if (show) {\r\n        // 查看标签池\r\n        axios({\r\n          method: 'get',\r\n          url: me.api.find_label_list\r\n        }).then(function(res) {\r\n          res = res.data\r\n          if (res.data.length > 0) {\r\n            let tagPool = []\r\n            for (let i = 0; i < res.data.length; i++) {\r\n              let item = []\r\n              item.push(parseInt(res.data[i].id))\r\n              item.push(res.data[i].answer_t)\r\n              tagPool.push(item)\r\n            }\r\n            me.$set(me, 'tagPool', tagPool)\r\n          }\r\n        })\r\n        // 更新此模板数据\r\n        me.$set(me, 'dynamicTags', me.projectArr[index].label_id)\r\n        me.$set(me, 'tempData', {\r\n          img: me.projectArr[index].path,\r\n          name: me.projectArr[index].template_name,\r\n          id: me.projectArr[index].id,\r\n          status: me.projectArr[index].status == 1 ? '已上线' : '未上线'\r\n        })\r\n        //\r\n      }\r\n      me.$set(me, 'showTag', show)\r\n    },\r\n    handleClose(index) {\r\n      this.dynamicTags.splice(index, 1)\r\n    },\r\n    selectTagFunc: function(tag) {\r\n      const me = this\r\n      let tagIn = false\r\n      if (me.dynamicTags && me.dynamicTags.length > 0) {\r\n        tagIn = me.dynamicTags.some(item => item.id == tag[0])\r\n      } else {\r\n      }\r\n      if (!tagIn) {\r\n        let data = _.cloneDeep(me.dynamicTags)\r\n        if (!(data instanceof Array)) data = []\r\n        data.push({ id: tag[0], answer_t: tag[1] })\r\n        me.$set(me, 'dynamicTags', data)\r\n        data = null\r\n      }\r\n    },\r\n    saveTag: function() {\r\n      const me = this\r\n      // 保存标签\r\n      let tagArr = []\r\n      for (let i = 0; i < me.dynamicTags.length; i++) {\r\n        tagArr.push(parseInt(me.dynamicTags[i].id))\r\n      }\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.add_template_label,\r\n        data: {\r\n          id: me.tempData.id,\r\n          label_id: JSON.stringify(tagArr)\r\n        }\r\n      }).then(function(res) {\r\n        me.getTempData(me.pageIndex)\r\n        me.$message({\r\n          message: '标签保存成功',\r\n          type: 'success'\r\n        })\r\n      })\r\n    },\r\n    changeProject: function(id) {\r\n      const me = this\r\n      // me.$router.push({ path: `/canvas?userType=designer&tempId=1520` })\r\n      me.$router.push({\r\n        path: `/canvas?userType=designer&tempId=${parseInt(id)}`\r\n      })\r\n    },\r\n    online: function(id, status) {\r\n      const me = this\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.complete_template_audit,\r\n        data: {\r\n          id: parseInt(id),\r\n          status: status,\r\n          author: me.user_data.id\r\n        }\r\n      })\r\n        .then(function(res) {\r\n          if (status === 1) {\r\n            me.$message({\r\n              message: '项目上线成功',\r\n              type: 'success'\r\n            })\r\n          } else if (status === 0) {\r\n            me.$message({\r\n              message: '撤销成功，回到《未提交》',\r\n              type: 'success'\r\n            })\r\n          } else if (status === 3) {\r\n            me.$message({\r\n              message: '下线成功',\r\n              type: 'success'\r\n            })\r\n          }\r\n\r\n          me.getTempData(1)\r\n        })\r\n        .catch(function() {\r\n          me.$message.error('提交错误请稍后再试')\r\n        })\r\n    }\r\n    // showInput() {\r\n    //   this.inputVisible = true;\r\n    //   this.$nextTick(_ => {\r\n    //     this.$refs.saveTagInput.$refs.input.focus();\r\n    //   });\r\n    // },\r\n\r\n    // handleInputConfirm() {\r\n    //   let inputValue = this.inputValue;\r\n    //   if (inputValue) {\r\n    //     this.dynamicTags.push(inputValue);\r\n    //   }\r\n    //   this.inputVisible = false;\r\n    //   this.inputValue = '';\r\n    // }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myDesign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myDesign.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myDesign.vue?vue&type=template&id=7b948716&scoped=true&\"\nimport script from \"./myDesign.vue?vue&type=script&lang=js&\"\nexport * from \"./myDesign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myDesign.vue?vue&type=style&index=0&id=7b948716&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b948716\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myDesign.vue?vue&type=style&index=0&id=7b948716&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myDesign.vue?vue&type=style&index=0&id=7b948716&lang=less&scoped=true&\""],"sourceRoot":""}