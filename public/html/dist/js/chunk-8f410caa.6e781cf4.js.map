{"version":3,"sources":["webpack:///./src/homeComponents/mould-func.vue?2cd8","webpack:///src/homeComponents/mould-func.vue","webpack:///./src/homeComponents/mould-func.vue?7bc0","webpack:///./src/homeComponents/mould-func.vue","webpack:///./src/homeComponents/mould-func.vue?8c36"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","saveTextRule","on","change","model","value","callback","$$v","textval","expression","_l","textRepalceF","tag","key","$event","handleClose","_s","ref","handleInputConfirm","nativeOn","type","indexOf","_k","keyCode","$set","showInput","saveTextPosition","hideTextFunc","_e","staticRenderFns","name","props","openBlock","String","textPositionArr","Array","Boolean","prop","event","computed","data","showText","inputVisible","inputValue","beforeDestroy","created","me","mounted","_","cloneDeep","methods","$emit","val","splice","$nextTick","push","component"],"mappings":"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","file":"js/chunk-8f410caa.6e781cf4.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"shadow\"},[(_vm.showText)?_c('div',{staticClass:\"setTextPositionBlock\"},[_c('h4',[_vm._v(\"配置文本替换位置\")]),_c('div',{staticClass:\"textSwitch\"},[_c('el-switch',{attrs:{\"checked\":_vm.saveTextRule,\"active-text\":\"上传规则\",\"inactive-text\":\"不上传规则\"},on:{\"change\":_vm.change},model:{value:(_vm.textval),callback:function ($$v) {_vm.textval=$$v},expression:\"textval\"}})],1),_vm._l((_vm.textRepalceF.textPositionArr),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(tag)}}},[_vm._v(_vm._s(tag))])}),(_vm.textRepalceF.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.textRepalceF.inputValue),callback:function ($$v) {_vm.$set(_vm.textRepalceF, \"inputValue\", $$v)},expression:\"textRepalceF.inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ New Tag\")]),_c('div',{staticClass:\"buttonBlock\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.saveTextPosition}},[_vm._v(\"保存\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.hideTextFunc}},[_vm._v(\"取消\")])],1)],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"shadow\">\n    <div class=\"setTextPositionBlock\" v-if=\"showText\">\n      <h4>配置文本替换位置</h4>\n      <div class=\"textSwitch\">\n        <el-switch\n          v-bind:checked=\"saveTextRule\"\n          active-text=\"上传规则\"\n          inactive-text=\"不上传规则\"\n          v-on:change=\"change\"\n          v-model=\"textval\"\n        ></el-switch>\n      </div>\n      <el-tag\n        :key=\"tag\"\n        v-for=\"tag in textRepalceF.textPositionArr\"\n        closable\n        :disable-transitions=\"false\"\n        @close=\"handleClose(tag)\"\n      >{{tag}}</el-tag>\n      <el-input\n        class=\"input-new-tag\"\n        v-if=\"textRepalceF.inputVisible\"\n        v-model=\"textRepalceF.inputValue\"\n        ref=\"saveTagInput\"\n        size=\"small\"\n        @keyup.enter.native=\"handleInputConfirm\"\n        @blur=\"handleInputConfirm\"\n      ></el-input>\n      <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\">+ New Tag</el-button>\n      <div class=\"buttonBlock\">\n        <el-button type=\"primary\" round size=\"medium\" @click=\"saveTextPosition\">保存</el-button>\n        <el-button type=\"primary\" round @click=\"hideTextFunc\" size=\"medium\">取消</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n<style type=\"text/css\" lang='less' scoped>\n.textSwitch {\n  margin-bottom: 10px;\n}\n.el-tag + .el-tag {\n  margin-left: 10px;\n  margin-top: 10px;\n}\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n.shadow {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 10;\n}\n.setTextPositionBlock {\n  width: 500px;\n  height: 400px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  background-color: white;\n  border-radius: 10px;\n  padding: 10px;\n  box-sizing: border-box;\n\n  .buttonBlock {\n    display: flex;\n    position: absolute;\n    width: 100%;\n    height: 50px;\n    left: 0;\n    bottom: 10px;\n    justify-content: space-around;\n    align-items: center;\n  }\n  h4 {\n    margin-bottom: 10px;\n  }\n}\n</style>\n<script type=\"text/javascript\">\nimport { mapState, mapActions, mapGetters } from 'vuex'\n// import bus from '@/eventBus.js'\n// import axios from 'axios'\nexport default {\n  name: 'mouldFunc',\n  props: {\n    openBlock: String, // 打开哪个功能模板\n    textPositionArr: Array, // 文案替换功能的数据数组\n    saveTextRule: Boolean // 文案规则是否保存\n  },\n  model: {\n    prop: 'saveTextRule',\n    event: 'change'\n  },\n  computed: {\n    ...mapState({\n      user_data: state => state.user.user_data,\n      api: state => state.api\n    })\n  },\n  data: function() {\n    return {\n      showText: false,\n      textRepalceF: {\n        textPositionArr: [],\n        inputVisible: false,\n        inputValue: ''\n      },\n      textval: false\n    }\n  },\n  beforeDestroy: function() {},\n  created: function() {\n    const me = this\n    me.$set(me, 'textval', me.saveTextRule)\n  },\n  mounted: function() {\n    const me = this\n    if (me.openBlock === 'text') {\n      me.$set(me, 'showText', true)\n      me.$set(me.textRepalceF, 'textPositionArr', _.cloneDeep(me.textPositionArr))\n      // $set是浅拷贝，\n    }\n  },\n  methods: {\n    change: function(val) {\n      this.$emit('change', val)\n    },\n    hideTextFunc: function() {\n      // 关闭文案位置设置面板\n      const me = this\n      // if (me.textRepalceF.textPositionArr.length === 0) {\n      //   // 发出事件，让canvas取消textReplacePosition\n      // }\n      me.$set(me, 'showText', false)\n      me.$emit('close-mould-funcshow')\n    },\n    saveTextPosition: function() {\n      // 保存文案位置信息\n      const me = this\n      me.$emit('update-text-position', me.textRepalceF.textPositionArr)\n      me.$emit('close-mould-funcshow')\n      // me.$emit(\"changeSaveRule\",me.saveTextRule)\n    },\n    handleClose(tag) {\n      this.textRepalceF.textPositionArr.splice(this.textRepalceF.textPositionArr.indexOf(tag), 1)\n    },\n    showInput() {\n      this.textRepalceF.inputVisible = true\n      this.$nextTick(_ => {\n        this.$refs.saveTagInput.$refs.input.focus()\n      })\n    },\n    handleInputConfirm() {\n      let inputValue = this.textRepalceF.inputValue\n      if (inputValue) {\n        this.textRepalceF.textPositionArr.push(inputValue)\n      }\n      this.textRepalceF.inputVisible = false\n      this.inputValue = ''\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./mould-func.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./mould-func.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mould-func.vue?vue&type=template&id=3c009140&scoped=true&\"\nimport script from \"./mould-func.vue?vue&type=script&lang=js&\"\nexport * from \"./mould-func.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mould-func.vue?vue&type=style&index=0&id=3c009140&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c009140\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./mould-func.vue?vue&type=style&index=0&id=3c009140&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./mould-func.vue?vue&type=style&index=0&id=3c009140&lang=less&scoped=true&\""],"sourceRoot":""}