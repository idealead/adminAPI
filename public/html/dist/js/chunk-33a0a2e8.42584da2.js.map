{"version":3,"sources":["webpack:///./src/homeComponents/addPop.vue?4bf2","webpack:///./src/homeComponents/addPop.vue?37c3","webpack:///src/homeComponents/addPop.vue","webpack:///./src/homeComponents/addPop.vue?1d65","webpack:///./src/homeComponents/addPop.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","name","rawName","value","expression","on","$event","addChose","_v","domProps","target","composing","textC","add_element","edit_mode","_e","back","uploadUrl","on_success","add_element_image","mydata","before_upload","_l","fileList","item","index","key","src","closePop","staticRenderFns","props","msg","String","computed","key_entf","entf","press","release","data","addBtn_show","text_block_show","image_block_show","list","dialogImageUrl","dialogVisible","disabled","image_change","upload_file_once","beforeDestroy","created","me","$set","text","getImg","methods","type","method","url","api","find_file","id","reset","m_comp_name","file_id","file","handleRemove","handlePictureCardPreview","response","code","$message","error","size","arc","status","Object","assign","keyboard","keyCode","isDown","isUp","undefined","downHandler","event","preventDefault","upHandler","window","addEventListener","bind","component"],"mappings":"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","file":"js/chunk-33a0a2e8.42584da2.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./addPop.vue?vue&type=style&index=0&id=faa5fcee&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./addPop.vue?vue&type=style&index=0&id=faa5fcee&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"upDown\",\"appear\":\"\"}},[_c('div',{staticClass:\"addPop\"},[_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addBtn_show),expression:\"addBtn_show\"}],staticClass:\"addPop_block\"},[_c('div',{staticClass:\"addPop_btn addPop_textBtn\",on:{\"click\":function($event){return _vm.addChose('text')}}},[_c('div',{staticClass:\"addPop_addText addPop_addBtn\"}),_c('p',[_vm._v(\"添加文字\")])]),_c('div',{staticClass:\"addPop_btn addPop_imageBtn\",on:{\"click\":function($event){return _vm.addChose('image')}}},[_c('div',{staticClass:\"addPop_addImage addPop_addBtn\"}),_c('p',[_vm._v(\"添加图片\")])])])]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.text_block_show),expression:\"text_block_show\"}],staticClass:\"addPop_text_block\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.textC),expression:\"textC\"}],attrs:{\"type\":\"text\",\"name\":\"\"},domProps:{\"value\":(_vm.textC)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.textC=$event.target.value}}}),_c('div',{staticClass:\"addPop_submit\",on:{\"click\":function($event){return _vm.add_element('text')}}},[_vm._v(\"确定\")]),(!_vm.edit_mode)?_c('p',{staticClass:\"addPop_back\",on:{\"click\":_vm.back}},[_vm._v(\"返回\")]):_vm._e()])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.image_block_show),expression:\"image_block_show\"}],staticClass:\"addPop_image_blcok\"},[_c('div',{staticClass:\"addPop_upload_demo\"},[_c('div',{staticClass:\"el-upload-list\"},[_c('el-upload',{staticClass:\"uploadbtn\",attrs:{\"action\":_vm.uploadUrl,\"list-type\":\"picture-card\",\"on-success\":_vm.on_success,\"on-preview\":_vm.add_element_image,\"data\":_vm.mydata,\"before-upload\":_vm.before_upload,\"show-file-list\":false}},[_c('i',{staticClass:\"el-icon-plus\"}),_c('p',[_vm._v(\"本地上传\")])]),_vm._l((_vm.fileList.list),function(item,index){return _c('div',{key:index,staticClass:\"chosseImg\",on:{\"click\":function($event){return _vm.add_element_image(item)}}},[_c('img',{attrs:{\"src\":item.src}})])})],2)])]),_c('div',{staticClass:\"addPop_close\",on:{\"click\":_vm.closePop}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"upDown\" appear>\r\n    <div class=\"addPop\">\r\n      <transition name=\"fade\">\r\n        <div class=\"addPop_block\" v-show=\"addBtn_show\">\r\n          <div class=\"addPop_btn addPop_textBtn\" @click=\"addChose('text')\">\r\n            <div class=\"addPop_addText addPop_addBtn\"></div>\r\n            <p>添加文字</p>\r\n          </div>\r\n          <div class=\"addPop_btn addPop_imageBtn\" @click=\"addChose('image')\">\r\n            <div class=\"addPop_addImage addPop_addBtn\"></div>\r\n            <p>添加图片</p>\r\n          </div>\r\n        </div>\r\n      </transition>\r\n      <transition name=\"fade\">\r\n        <div class=\"addPop_text_block\" v-show=\"text_block_show\">\r\n          <input type=\"text\" name v-model=\"textC\" />\r\n          <div class=\"addPop_submit\" @click=\"add_element('text')\">确定</div>\r\n          <p class=\"addPop_back\" @click=\"back\" v-if=\"!edit_mode\">返回</p>\r\n        </div>\r\n      </transition>\r\n      <div class=\"addPop_image_blcok\" v-show=\"image_block_show\">\r\n        <div class=\"addPop_upload_demo\">\r\n          <div class=\"el-upload-list\">\r\n            <el-upload\r\n              class=\"uploadbtn\"\r\n              :action=\"uploadUrl\"\r\n              list-type=\"picture-card\"\r\n              :on-success=\"on_success\"\r\n              :on-preview=\"add_element_image\"\r\n              :data=\"mydata\"\r\n              :before-upload=\"before_upload\"\r\n              :show-file-list=\"false\"\r\n            >\r\n              <i class=\"el-icon-plus\"></i>\r\n              <p>本地上传</p>\r\n              <!-- <div slot=\"tip\" class=\"el-upload__tip\">\r\n            <p slot=\"tip\" class=\"addPop_back\" @click=\"back\" v-if=\"!image_change\">返回</p>\r\n              </div>-->\r\n            </el-upload>\r\n            <div\r\n              class=\"chosseImg\"\r\n              v-for=\"(item, index) in fileList.list\"\r\n              :key=\"index\"\r\n              @click=\"add_element_image(item)\"\r\n            >\r\n              <img :src=\"item.src\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"addPop_close\" @click=\"closePop\"></div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n<style type=\"text/css\" lang=\"less\" scoped>\r\n.uploadbtn {\r\n  text-align: center;\r\n  display: inline-block;\r\n  overflow: hidden;\r\n  margin: 5px;\r\n  position: relative;\r\n  p {\r\n    position: absolute;\r\n    bottom: 5px;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    width: 100%;\r\n    line-height: 12px;\r\n  }\r\n}\r\n.chosseImg {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 5px;\r\n  display: inline-block;\r\n  margin: 5px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-color: rgb(203, 203, 203);\r\n  cursor: pointer;\r\n  img {\r\n    object-fit: contain;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n.addPop_upload_demo .el-upload-list__item {\r\n  width: 17.7%;\r\n  margin: 0 1%;\r\n  /*   transform: translateX(-8.5px); */\r\n  display: inline-block;\r\n  border: 1px solid #ce3939;\r\n  margin-bottom: 5px;\r\n}\r\n.el-upload-list__item-thumbnail {\r\n  width: auto;\r\n}\r\n.el-upload-list__item-name {\r\n  margin-right: 10px;\r\n}\r\n.addPop_upload_demo .el-upload__tip {\r\n  margin: 7px 0 15px 0;\r\n}\r\n\r\n.el-upload__tip {\r\n  display: inline-block;\r\n  position: absolute;\r\n  right: 10%;\r\n}\r\n\r\n.addPop_upload_demo .el-upload-list {\r\n  width: calc(100% + 18px);\r\n  height: calc(100% - 50px);\r\n  overflow-y: auto;\r\n  margin-top: 10px;\r\n  // transform: translatex(-8.5px);\r\n}\r\n\r\n.uploadbtn .el-button {\r\n  background-color: #fff;\r\n  color: #ce3939;\r\n  border: 1px solid #ce3939;\r\n}\r\n\r\n.uploadbtn .el-button:hover {\r\n  background-color: #ce3939;\r\n  color: #fff;\r\n}\r\n\r\n.addPop_upload_demo {\r\n  width: 90%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  display: inline-block;\r\n  box-sizing: border-box;\r\n  transform: translateX(-9px);\r\n}\r\n\r\n.addPop_back {\r\n  display: inline-block;\r\n  font-size: 10px;\r\n  color: #c9c9c9;\r\n  margin-left: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.addPop_text_block,\r\n.addPop_image_blcok {\r\n  width: 100%;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.addPop_image_blcok {\r\n  height: 100%;\r\n}\r\n\r\n.addPop_text_block input {\r\n  outline: none;\r\n  width: 800px;\r\n  height: 30px;\r\n  border: none;\r\n  border-bottom: 2px solid #ce3939;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  padding: 0 5px;\r\n}\r\n\r\n.addPop_submit {\r\n  width: 80px;\r\n  height: 30px;\r\n  background-color: #ce3939;\r\n  border-radius: 30px;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  line-height: 30px;\r\n  color: white;\r\n  margin-left: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.addPop {\r\n  width: 1300px;\r\n  height: 300px;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%) translateZ(0);\r\n  border-top-right-radius: 20px;\r\n  border-top-left-radius: 20px;\r\n  background-color: white;\r\n  box-shadow: 0px 0px 25px rgba(133, 93, 93, 0.5);\r\n  // background-image: url(\"../assets/canvas/addPop.png\");\r\n  // background-repeat: no-repeat;\r\n  // background-size: cover;\r\n  z-index: 10;\r\n}\r\n\r\n@media screen and (max-width: 1700px) {\r\n  .addPop {\r\n    width: 1100px;\r\n    height: 300px;\r\n  }\r\n\r\n  .addPop_text_block input {\r\n    width: 600px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 1500px) {\r\n  .addPop {\r\n    width: 1000px;\r\n    height: 270px;\r\n  }\r\n\r\n  .addPop_text_block input {\r\n    width: 450px;\r\n  }\r\n}\r\n\r\n.addPop_block {\r\n  width: 100%;\r\n  text-align: center;\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n}\r\n\r\n.addPop_btn {\r\n  display: inline-block;\r\n  margin: 0 30px;\r\n  text-align: center;\r\n  color: #c9c9c9;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.addPop_btn:hover {\r\n  color: #ce3939;\r\n}\r\n\r\n.addPop_textBtn:hover .addPop_addText {\r\n  background-image: url('../assets/canvas/addText_active.png');\r\n}\r\n\r\n.addPop_imageBtn:hover .addPop_addImage {\r\n  background-image: url('../assets/canvas/addImage_active.png');\r\n}\r\n\r\n.addPop_addBtn {\r\n  width: 93px;\r\n  height: 93px;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  margin-bottom: 10px;\r\n  transition: background-image 0.4s;\r\n}\r\n\r\n.addPop_addText {\r\n  background-image: url('../assets/canvas/addText.png');\r\n}\r\n\r\n.addPop_addImage {\r\n  background-image: url('../assets/canvas/addImage.png');\r\n}\r\n\r\n.addPop_close {\r\n  position: absolute;\r\n  width: 62px;\r\n  height: 62px;\r\n  right: -20px;\r\n  top: -20px;\r\n  background-image: url('../assets/canvas/addPop_close.png');\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  cursor: pointer;\r\n  transition: background-image 0.5s;\r\n}\r\n\r\n.addPop_close:hover {\r\n  background-image: url('../assets/canvas/addPop_close_active.png');\r\n}\r\n\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to\r\n\r\n/* .fade-leave-active below version 2.1.8 */\r\n {\r\n  opacity: 0;\r\n}\r\n\r\n.upDown-enter-active,\r\n.upDown-leave-active {\r\n  transition: bottom 0.5s;\r\n}\r\n\r\n.upDown-enter,\r\n.upDown-leave-to {\r\n  bottom: -350px;\r\n}\r\n</style>\r\n<script type=\"text/javascript\">\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\nimport bus from '@/eventBus.js'\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'addPop',\r\n  props: {\r\n    msg: String // 例子\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user_data: state => state.user.user_data,\r\n      api: state => state.api\r\n    }),\r\n    key_entf: function() {\r\n      let entf = this.keyboard(13)\r\n      entf.press = () => {}\r\n      entf.release = () => {}\r\n      return entf\r\n    },\r\n    uploadUrl: function() {\r\n      // return `http://dev.cyrd.gdinsight.com/api/files/upload_file_once/author_id/${this.user_data.id}.html`\r\n      return `${this.api.upload_file_once}${this.user_data.id}.html`\r\n    }\r\n  },\r\n  data: function() {\r\n    return {\r\n      edit_mode: false,\r\n      textC: '',\r\n      addBtn_show: true,\r\n      text_block_show: false,\r\n      image_block_show: false,\r\n      fileList: {\r\n        list: []\r\n        // list: [{ name: 'food.jpeg', src: \"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1343015815,2335192405&fm=26&gp=0.jpg\", url: \"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1343015815,2335192405&fm=26&gp=0.jpg\", id: 'qweqweq' }, { name: 'food2.jpeg', url: require('../assets/canvas/Lighthouse.jpg'), src: require('../assets/canvas/Lighthouse.jpg') }, { name: 'food2.jpeg', url: require('../assets/canvas/Lighthouse.jpg'), src: require('../assets/canvas/Lighthouse.jpg') }]\r\n      },\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      image_change: false,\r\n      mydata: {\r\n        upload_file_once: {}\r\n      }\r\n    }\r\n  },\r\n  beforeDestroy: function() {},\r\n  created: function() {\r\n    const me = this\r\n    bus.$off('text_edit_mode').$on('text_edit_mode', function(text) {\r\n      me.$set(me, 'edit_mode', true)\r\n      me.$set(me, 'textC', text)\r\n      me.$set(me, 'addBtn_show', false)\r\n      me.$set(me, 'text_block_show', true)\r\n    })\r\n    bus.$off('image_change').$on('image_change', function() {\r\n      me.$set(me, 'edit_mode', true)\r\n      me.$set(me, 'addBtn_show', false)\r\n      me.$set(me, 'image_block_show', true)\r\n      me.$set(me, 'image_change', true)\r\n    })\r\n    me.key_entf.press = function() {\r\n      // 快捷键监听\r\n      if (me.text_block_show) {\r\n        me.add_element('text')\r\n      }\r\n    }\r\n    // 获取上传过的图片\r\n    me.getImg()\r\n  },\r\n  methods: {\r\n    addChose: function(type) {\r\n      const me = this\r\n      me.$set(me, 'addBtn_show', false)\r\n      if (type == 'text') {\r\n        me.$set(me, 'text_block_show', true)\r\n      } else if (type == 'image') {\r\n        me.$set(me, 'image_block_show', true)\r\n      }\r\n    },\r\n    getImg: function() {\r\n      const me = this\r\n      let id = me.user_data.id\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.find_file,\r\n        data: {\r\n          id: id\r\n        }\r\n      })\r\n        .then(function(response) {\r\n          if (response.data.code == '200') {\r\n            let imgA = response.data.data\r\n            for (let i = 0; i < imgA.length; i++) {\r\n              imgA[i].file_id = imgA[i].id\r\n              imgA[i].url = `${me.api.images}${imgA[i].path}`\r\n              imgA[i].src = `${me.api.images}${imgA[i].path}`\r\n              imgA[i].name = 'qwe'\r\n            }\r\n            imgA.reverse()\r\n            me.$set(me.fileList, 'list', imgA)\r\n          }\r\n        })\r\n        .catch(function() {})\r\n    },\r\n    closePop: function() {\r\n      const me = this\r\n      me.reset()\r\n      bus.$emit('addPopShow', false)\r\n    },\r\n    back: function() {\r\n      const me = this\r\n      me.$set(me, 'image_block_show', false)\r\n      me.$set(me, 'text_block_show', false)\r\n      me.$set(me, 'addBtn_show', true)\r\n      me.$set(me, 'textC', '')\r\n    },\r\n    add_element: function(type) {\r\n      const me = this\r\n      if (me.textC !== '') {\r\n        if (type == 'text' && !me.edit_mode) {\r\n          let id = `text_${new Date().valueOf()}`\r\n          let data = {\r\n            id: id,\r\n            src: '',\r\n            text: me.textC,\r\n            m_comp_name: 'product'\r\n          }\r\n          bus.$emit('add_element_func', data)\r\n        } else if (me.edit_mode) {\r\n          // 向canvas.vue发送通知\r\n          bus.$emit('change_text', me.textC)\r\n        }\r\n        me.reset()\r\n        me.closePop()\r\n        me.textC = ''\r\n      }\r\n    },\r\n    add_element_image: function(file) {\r\n      const me = this\r\n      if (me.image_change) {\r\n        // 替换图片\r\n        let data = {\r\n          file_id: file.id,\r\n          src: file.src\r\n        }\r\n        bus.$emit('change_in_move_image', data)\r\n      } else {\r\n        // 新增图片\r\n        let time = new Date().getTime()\r\n        let data = {\r\n          file_id: file.id,\r\n          id: `${file.id}${time}`,\r\n          src: file.src,\r\n          text: '',\r\n          m_comp_name: 'product'\r\n        }\r\n        console.log(data.src)\r\n        bus.$emit('add_element_func', data)\r\n      }\r\n      me.reset()\r\n      me.closePop()\r\n      me.textC = ''\r\n    },\r\n    handleRemove: function(file) {\r\n      const me = this\r\n      let u_id = file.uid\r\n      let list = me.fileList.list.filter(item => item.uid != u_id)\r\n      me.$set(me.fileList, 'list', list)\r\n    },\r\n    handlePictureCardPreview: function(file) {\r\n      this.dialogImageUrl = file.url\r\n      this.dialogVisible = true\r\n    },\r\n    on_success: function(response, file, fileList) {\r\n      const me = this\r\n      if (response.code !== 0) {\r\n        me.$message.error(`${response.data.msg}`)\r\n        return false\r\n      }\r\n      let item = {\r\n        size: null,\r\n        arc: null,\r\n        status: 1,\r\n        name: 'userup'\r\n      }\r\n      Object.assign(\r\n        item,\r\n        { src: me.api.images + response.data.savepath },\r\n        { url: me.api.images + response.data.savepath },\r\n        { file_id: parseInt(response.data.file_id) },\r\n        { id: parseInt(response.data.file_id) }\r\n      )\r\n      this.$set(this.fileList, 'list', [item, ...this.fileList.list])\r\n    },\r\n    before_upload: function(file) {\r\n      this.$set(this.mydata, 'upload_file_once', file)\r\n    },\r\n    reset: function() {\r\n      const me = this\r\n      me.$set(me, 'edit_mode', false)\r\n      me.$set(me, 'textC', '')\r\n      me.$set(me, 'text_block_show', false)\r\n      me.$set(me, 'image_block_show', false)\r\n      me.$set(me, 'addBtn_show', true)\r\n      me.$set(me, 'image_change', false)\r\n    },\r\n    keyboard: function(keyCode) {\r\n      let key = {}\r\n      key.code = keyCode\r\n      key.isDown = false\r\n      key.isUp = true\r\n      key.press = undefined\r\n      key.release = undefined\r\n      // The `downHandler`\r\n      key.downHandler = event => {\r\n        if (event.keyCode === key.code) {\r\n          if (key.isUp && key.press) key.press()\r\n          key.isDown = true\r\n          key.isUp = false\r\n          event.preventDefault()\r\n        }\r\n      }\r\n      // The `upHandler`\r\n      key.upHandler = event => {\r\n        if (event.keyCode === key.code) {\r\n          if (key.isDown && key.release) key.release()\r\n          key.isDown = false\r\n          key.isUp = true\r\n          event.preventDefault()\r\n        }\r\n      }\r\n      // Attach event listeners\r\n      window.addEventListener('keydown', key.downHandler.bind(key), false)\r\n      window.addEventListener('keyup', key.upHandler.bind(key), false)\r\n      return key\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./addPop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./addPop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addPop.vue?vue&type=template&id=faa5fcee&scoped=true&\"\nimport script from \"./addPop.vue?vue&type=script&lang=js&\"\nexport * from \"./addPop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addPop.vue?vue&type=style&index=0&id=faa5fcee&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"faa5fcee\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}