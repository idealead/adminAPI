{"version":3,"sources":["webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.array.fill.js","webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.array.slice.js","webpack:///./src/assets/rotate.png","webpack:///./node_modules/_core-js@3.6.0@core-js/internals/parse-float.js","webpack:///./src/assets/scale.png","webpack:///./src/homeComponents/Canvas.vue?9950","webpack:///./src/homeComponents/pixiFunc/computational_function.js","webpack:///./src/homeComponents/pixiFunc/element_function.js","webpack:///./src/homeComponents/pixiFunc/container_function.js","webpack:///./src/homeComponents/pixiFunc/other_function.js","webpack:///src/homeComponents/Canvas.vue","webpack:///./src/homeComponents/Canvas.vue?0723","webpack:///./src/homeComponents/Canvas.vue","webpack:///./src/assets/stretch.png","webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.string.link.js","webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.parse-float.js","webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.array.index-of.js","webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.string.starts-with.js","webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.map.js","webpack:///./node_modules/_core-js@3.6.0@core-js/modules/es.array.join.js"],"names":["$","fill","addToUnscopables","target","proto","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","arrayMethodHasSpeciesSupport","wellKnownSymbol","SPECIES","nativeSlice","slice","max","Math","forced","start","end","Constructor","result","n","O","this","length","k","fin","undefined","constructor","Array","prototype","call","module","exports","global","trim","whitespaces","nativeParseFloat","parseFloat","FORCED","Infinity","string","trimmedString","String","charAt","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","fullscreenLoading","firstEdit","expression","modifiers","attrs","right_block","staticClass","style","left","rb_left","top","rb_top","right_block_ass","user_type","menu","ass","on","onRightAss","_v","onRight_unAss","_e","lock","lockFunc","_s","lock_text","unlockFunc","unlock_text","new_structure_id","$event","moveIndex","edit_text","onEdit","change","changeImage","toImage","del","in_move","structure","onRightDelete","type","role","setRole","_l","item","index","replacePosition","key","setPosition","position","position_name","tempRoleMsg","bg","handleCommand","slot","textReverse","edit_bar","btn","class","text_btn_active","currentTarget","show_text_block","showFontFamily","ffName","fontSize_change","model","text","callback","$$v","$set","fontStyle","fontStyle_change","fontWeight","fontWeightChange","staticStyle","letterSpacing_change","leading_change","fontFamily_change","color_btn_active","edit_color","showColorBlock","fontColor_change","align_btn_active","edit_align","showEditAlign","alignChange","shadow_btn_active","edit_shadow","showEditShadow","dropShadow","dropShadowColorChange","dropShadowBlurChange","dropShadowDistanceChange","location_btn_active","edit_location","showEditLocation","locationMove","rotation_btn_active","edit_rotation","show_rotation_block","rotationChange","rotation","skew_btn_active","edit_skew","show_skew_block","skewChange","opacity_btn_active","edit_opacity","show_opacity_block","opacity_change","opacity","hue_btn_active","edit_hue","show_hue_block","changeHue","upDown_btn_active","edit_layer","showLayerBlock","setReplaceText","addPopShow","openF","textPositionArr","updateTextPosition","mouldFuncShow","saveTextRule","canvas_ratio_arr","showRuler","moveActiveLog","canvasScale","parseInt","canvas_scale","staticRenderFns","computed_func","LENGTH_SIZE","i","e","x","t","y","a","sqrt","AFTER_ROTATE","param","tha1","cos1","sin1","cos2","cos","sin2","sin","cos3","sin3","methods","onRightC","event","me","stopped","browser_w","document","body","clientWidth","browser_h","clientHeight","mouse_x","window_w","data","mouse_y","getElementById","scrollTop","inorNot","has_noass","ctrl_arr","association_name","f_parm","onRightFunc","normalStart","that","clearTemporary","containerLine","dragging","newPosition","getLocalPosition","mainStage_container","deviationX","parent","deviationY","showEdit","onDragStart","sprite","key_ctrlf","isDown","isUp","inorNot1","temporary_rect","cancelInMove","addACtrlarr","click_ass_id","ctrlDeviation","aSingleClick","onAssociationStart","removeLine","splice","push","findMinAndAdd","ass_name_arr","setCtrlArrAssname","ctrlAddAss","inarr","ctrlDisAss","onDragMove","obj","width","height","centerX","centerY","moveOutLine","set","onDragEnd","aSingleClickBorder","pushActiveLog","onScaleStart","can_scale","num","fontSize","text_num","onScaleMove","textTime","scaleAll","$nextTick","after_scale","x1","x2","originalw","originalh","original_scale","scale","fs","ofonts","newStyle","clone","wordWrapWidth","letterSpacing","floor","lineHeight","lineHeightM","svg","texture","baseTexture","resource","moveIcon","forChangeAssociation","onScaleEnd","scaleTextEnd","updateSvgScale","onRotateStart","can_rotate","onRotateMove","a1","r_btn_h","a2","numerator","denominator","rotateOBj","acos","outLine_container","getChildByName","onRotateEnd","rotation_num","onStretchStart","can_stretch","onStretchMove","centerx","onStretchEnd","onTemporaryStart","onTemporaryEnd","setTimeout","vertexData","canvas_width","window_h","canvas_height","onTScaleStart","ctrl_arr_pivot","oScale","ratio","pivotX","pivotY","temporary_rectX","temporary_rectY","onTScaleMove","tScaleAll","present_w","onTScaleEnd","renderTLine","onTRotateStart","beforeRX","beforeRY","pivot","onTRotateMove","tRotateOBj","onTRotateEnd","param1","param2","right","onAScaleStart","association_rectX","association_rectY","owidth","oheight","onAScaleMove","aScaleAll","onAScaleEnd","changeAssociation","onARotateStart","ass_r_data","associationH","association_centerX","association_centerY","onARotateMove","aRotateOBj","onARotateEnd","ass_id","src","res","mypixi","resources","SVGResource","autoLoad","load","then","destroy","setResource","update","t_r","tem_move","newPosition1","ass_name","createBorder","renderTemplate","firstLoad","render_data","img_src","font_family","children","ass_children","src_from","arc_obj","p_app","loader","defaultTextFamily","includes","fontFamily","thistext_obj","Object","keys","getfontFamilyBack","from","Set","add","crossOrigin","afterLoad","fontPost","postD","user_id","user_data","id","font_name","axios","method","url","api","cutFont","getAllfontFamily","allArr","all","element_data","association_id","newContainer","newContainerText","arc_title","arc_titleImg","wordArr","split","textReplace","renderARC","arc_subtitle","arc_subtitleImg","renderStage","ass_arr_obj","j","container_arr","cont","keys_arr","l","createAssociation","m_comp_name","updateLayer","stage","removeChildren","addChild","outLine","interactive","hitArea","Rectangle","addCancleRect","rectangle","Graphics","beginFill","alpha","drawRect","endFill","cancleStage","Container","accessible","maskInit","rectangle1","rectangle2","rectangle3","ruler","ruler_container","line","lineStyle","moveTo","lineTo","Text","line2","set_data","render_add","func","img_loading","alert","addContainer","loadSprite","my_set_data","_","cloneDeep","test","loadSvgImg","Sprite","addImg","BaseTexture","texture1","Texture","anchor","cursor","file_id","srcData","skew","hueNumber","filter","filters","ColorMatrixFilter","hue","findCont","addText","saveLog","richText","leading","stroke","strokeThickness","dropShadowColor","dropShadowAngle","PI","dropShadowBlur","dropShadowDistance","wordWrap","breakWords","padding","textBaseline","whiteSpace","textPosition","title_obj","subtitle_obj","off","container","containerArrAdd","final_index","findFinalIndex","arr1","arr2","arr3","sortContainerArr","clear_rotation","map","array","t_a","remove","a_r_btn","show_btn","sprite_Border","addScaleIcon","addRotateIcon","addStretchIcon","createBorderLine","color","outLineC","rotate","stretch","a_length","a_name","index_arr","clearTemAss","sort","b","findRect","x_arr","y_arr","removeObj","removeChild","hide_edit_f","removeChildAt","clear_association","index_c","render_create","index_min","createAssociationRect","upDownMove","up","arr4","upindex","self_f_index","change_f_index","sa_name","change_first_index","renderUpDown","buttonMode","deleteSomeone","way","active_index","active_log","first","titleType","setData","imgSetData","size","arc","m","mtext","newD","eachDeg","arc_deg","x0","y0","newDeg","newx","newy","direction","centerToTop","radius","arrToAss","element_arr","time","Date","valueOf","same","every","clear","downloadImg","imgsrc","fetch","blob","createElement","window","URL","createObjectURL","filename","href","download","click","revokeObjectURL","toImage2","returnFile","img_arr","img_app","Application","backgroundColor","antialias","addImgTwo","img","renderer","plugins","extract","base64","dataURLtoFile","reverse","idToImg","idArr","file","formdata","FormData","append","upload_file_once","response","dataurl","arr","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","File","containerName","d_value","point","tPoint","moveStep","aPoint","assIndex","layer_data","traget","select","some","bus","$emit","permit","after_move","after_rotate","after_stretch","layer_data_example","obj_data_example","log_data","search","align","resetCanvas","browser_ratio","canvas_ratio","transform","onresize","resize","clearTimeout","visible","json_f","JSON","stringify","obj_f","json","parse","moveStructureText","up_d","left_d","content","recommendText","textmap","Map","get","re","join","Promise","resolve","reject","aarr","code","getCssWoff","path","woffPath","dynamicLoadCss","file_path","catch","hastext","oncontextmenu","returnValue","mixins","props","msg","reRender","association","addPop","show","bot","cop","show_lock","delete_type","location","updown","delete","shadow","edit","change_image","edit_fontFamily_select","skewX","skewY","father_id","thisTempLevel","computed","u","indexOf","second","ctrlf","press","release","key_zf","zf","key_yf","yf","key_upf","upf","key_downf","downf","key_leftf","leftf","key_rightf","rightf","localStorage","getItem","mounted","watch","beforeDestroy","$store","dispatch","created","$destroy","show_click","loadCutFont","fontData","saveMould","mould_name","link","leave","changeInMoveImage","textarr","tf","moveInMove","tempId","structure_id","getTemplateData","initPixiApp","xy","xw","setSkew","head","getElementsByTagName","rel","appendChild","getNewFont","mouldImg","ClippingImage","base64Result","Image","base64Codes","canvas","ctx","getContext","createw","createAttribute","createh","nodeValue","setAttributeNode","onload","drawImage","toDataURL","quality","getMaterialData","last","getMd","material_children","material_type","author","preview","uploadMaterial","uploadAllMaterial","material_data","renderARCF","deleteARCF","len","c_len","uploadTemp","beforeAlpha","subBeforeAlpha","base64Img","uploadImgF","axiosTempF","material_id","material_content","funcData","t_width","t_height","level","has_product","has_logo","has_title","has_subtitle","condition","tempData","framework_id","main","logo","title","subtitle","upload_template","uploadMF","view","cancel_something","mainStage","rule_name","startsWith","edit_btn","change_edit_bar","updateText","text_data","inMoveChangeBorder","colorRGB2Hex","rgb","r","g","hex","toString","project_m_comp","canvasToimg","keyboard","keyCode","secondCode","downHandler","isMac","preventDefault","upHandler","addEventListener","bind","components","component","createHTML","forcedStringHTMLMethod","parseFloatImplementation","$indexOf","sloppyArrayMethod","nativeIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","searchElement","apply","arguments","getOwnPropertyDescriptor","f","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","nativeStartsWith","min","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","writable","searchString","collection","collectionStrong","init","IndexedObject","nativeJoin","ES3_STRINGS","separator"],"mappings":"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","file":"js/chunk-35665c82.cc1a343f.js","sourcesContent":["var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !arrayMethodHasSpeciesSupport('slice') }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAolBMVEUAAAD////////////////////////////////////////////////////////////////////////OOjr99/fdc3P++/v55ubxxsbssrLoo6Pnnp7kk5P88/P78PD66+vhg4Pfe3vbb2/ZY2PXXV3RQkLPPT344OD009Pz0NDzy8vtuLjaaGjVV1fTTEz22dnuuLjqqqrmmZnllpbUUFDTTU3YS6/8AAAAEnRSTlMABvrg2olbVKwDUvPk46umlFZnj7jmAAAA10lEQVQY02WQ6XLCMAyEZTs4CbSFriENScuRixYoN+//aijCw4Th+yF719boIEF9Do0eBMNQ0YN+AE/Q91bcQ4deLKZ4SZrl07m4xIRgDrum3F7d4ofvIdd45zN351auq/8Z8KbIskjdBsK4nHC09MGxWsDz1fwCERm+uT3rv+mY4/IbMKSR1u4y4xfHGhnnaxoAhTvi2eRhVmXynC6FWHnmtRSyrTlZQ0gKaene/KnJ2t+r7b15P+ZmVxfLyo/ZWUjeXQjFI3QYxa9LDumBspHR2kRWibwBtLoaS04h8oYAAAAASUVORK5CYII=\"","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar nativeParseFloat = global.parseFloat;\nvar FORCED = 1 / nativeParseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = nativeParseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : nativeParseFloat;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAUVBMVEUAAAD////////////////////////////////////////////////////////////////////OOTn00dHffX3ji4vTTEz+/Pzhh4fTTk7ffn5WcD3NAAAAEXRSTlMAVPjgBqyJ5NumXFtR15SKB9ublw4AAACKSURBVBjTZc9ZEoMgEEXRZlBxyPCY1Ox/oQGRpJXzeQvqVdNBi1FJ+RiFpp/F4GSW2nowfdtqFcic3+3uHRKRNgYAa7BFWIFB04xks9UGYKIu/7V/DuhIpfhh0QOKZIqRxQhIYkptYnmpmujzEFPXp3sMwPDm8bxIEBeP2190gexJTTSCblQ3a8q+NJ8PB92GL/gAAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:((_vm.fullscreenLoading&&_vm.firstEdit)),expression:\"(fullscreenLoading&&firstEdit)\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"id\":\"mainCanvas\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.right_block.show),expression:\"right_block.show\"}],staticClass:\"mouse_right_block\",style:({ left: _vm.right_block.rb_left, top: _vm.right_block.rb_top })},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.right_block_ass && _vm.user_type != 'designer'),expression:\"right_block_ass && user_type != 'designer'\"}],staticClass:\"mouse_right_btn right_btn_association\"},[(_vm.right_block.menu.ass == 1)?_c('div',{on:{\"click\":_vm.onRightAss}},[_vm._v(\"组合\")]):(_vm.right_block.menu.ass == 2)?_c('div',{on:{\"click\":_vm.onRight_unAss}},[_vm._v(\"取消组合\")]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.right_block.menu.show_lock),expression:\"right_block.menu.show_lock\"}],staticClass:\"mouse_right_btn\"},[(!_vm.right_block.menu.lock)?_c('div',{on:{\"click\":_vm.lockFunc}},[_vm._v(_vm._s(_vm.right_block.lock_text))]):_vm._e(),(_vm.right_block.menu.lock)?_c('div',{on:{\"click\":_vm.unlockFunc}},[_vm._v(_vm._s(_vm.right_block.unlock_text))]):_vm._e()]),(_vm.new_structure_id != ''|| true)?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.moveIndex(true)}}},[_vm._v(\"上移\")]):_vm._e(),(_vm.new_structure_id != ''|| true)?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.moveIndex(false)}}},[_vm._v(\"下移\")]):_vm._e(),(_vm.new_structure_id != ''|| true)?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.moveIndex(true, 'maxUp')}}},[_vm._v(\"置顶\")]):_vm._e(),(_vm.new_structure_id != ''|| true)?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.moveIndex(false, 'maxDown')}}},[_vm._v(\"置底\")]):_vm._e(),(_vm.right_block.menu.edit_text && _vm.user_type != 'designer')?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":_vm.onEdit}},[_vm._v(\"更改文字\")]):_vm._e(),(_vm.right_block.menu.change && _vm.user_type != 'designer')?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":_vm.changeImage}},[_vm._v(\"更换图片\")]):_vm._e(),(_vm.user_type != 'designer')?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.toImage(false)}}},[_vm._v(\"导出图片\")]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.right_block.menu.del && _vm.in_move && !_vm.in_move.structure),expression:\"right_block.menu.del && in_move && !in_move.structure\"}],staticClass:\"mouse_right_btn right_btn_delete\",on:{\"click\":_vm.onRightDelete}},[_vm._v(\"删除\")]),(_vm.user_type == 'designer')?_c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.in_move && _vm.in_move.type == 'text' && _vm.in_move.role != 'arc_title'\n        ),expression:\"\\n          in_move && in_move.type == 'text' && in_move.role != 'arc_title'\\n        \"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('arc_title')}}},[_vm._v(\"设为弧形标题\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.in_move && _vm.in_move.type == 'text' && _vm.in_move.role != 'arc_subtitle'\n        ),expression:\"\\n          in_move && in_move.type == 'text' && in_move.role != 'arc_subtitle'\\n        \"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('arc_subtitle')}}},[_vm._v(\"设为弧形副标题\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.in_move && _vm.in_move.type == 'image' && _vm.in_move.role != 'logo'),expression:\"in_move && in_move.type == 'image' && in_move.role != 'logo'\"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('logo')}}},[_vm._v(\"设为logo\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.in_move && _vm.in_move.type == 'image' && _vm.in_move.role != 'main'),expression:\"in_move && in_move.type == 'image' && in_move.role != 'main'\"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('main')}}},[_vm._v(\"设为主图\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.in_move && _vm.in_move.type == 'image' && _vm.in_move.role != 'arc_titleImg'\n        ),expression:\"\\n          in_move && in_move.type == 'image' && in_move.role != 'arc_titleImg'\\n        \"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('arc_titleImg')}}},[_vm._v(\"设为弧形标题装饰\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.in_move &&\n            _vm.in_move.type == 'image' &&\n            _vm.in_move.role != 'arc_subtitleImg'\n        ),expression:\"\\n          in_move &&\\n            in_move.type == 'image' &&\\n            in_move.role != 'arc_subtitleImg'\\n        \"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('arc_subtitleImg')}}},[_vm._v(\"设为弧形副标题装饰\")]),_vm._l((_vm.structure_position),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.in_move &&\n            _vm.in_move.type == 'image' &&\n            _vm.in_move.replacePosition == null &&\n            _vm.new_structure_id != ''\n        ),expression:\"\\n          in_move &&\\n            in_move.type == 'image' &&\\n            in_move.replacePosition == null &&\\n            new_structure_id != ''\\n        \"}],key:index,staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setPosition(item.position)}}},[_vm._v(\"\\\"\"+_vm._s(item.position_name)+\"\\\"替换位置\")])}),(\n          _vm.in_move &&\n            _vm.in_move.type == 'image' &&\n            _vm.in_move.replacePosition >= 0 &&\n            _vm.new_structure_id != '' &&\n            (_vm.in_move.replacePosition || _vm.in_move.replacePosition == 0)\n        )?_c('div',{staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setPosition(null)}}},[_vm._v(\"取消替换位置\")]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(\n          _vm.in_move &&\n            _vm.in_move.type == 'image' &&\n            _vm.in_move.role != 'bg' &&\n            _vm.tempRoleMsg.bg == 0\n        ),expression:\"\\n          in_move &&\\n            in_move.type == 'image' &&\\n            in_move.role != 'bg' &&\\n            tempRoleMsg.bg == 0\\n        \"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('bg')}}},[_vm._v(\"设为背景\")]),_c('el-dropdown',{staticClass:\"mouse_right_btn\",on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" 文案替换 \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{staticClass:\"drodown-select\",attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_vm._l((_vm.textPositionArr),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":[index, item]}},[_vm._v(_vm._s(item))])}),_c('el-dropdown-item',{attrs:{\"command\":[-1, '']}},[_vm._v(\"取消替换位置\")])],2)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.in_move && _vm.in_move.role != 'normal'),expression:\"in_move && in_move.role != 'normal'\"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.setRole('normal')}}},[_vm._v(\"取消角色\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.in_move && _vm.in_move.type == 'text'),expression:\"in_move && in_move.type == 'text'\"}],staticClass:\"mouse_right_btn\",on:{\"click\":function($event){return _vm.textReverse(null)}}},[_vm._v(\"文本倒序\")])],2):_vm._e()]),_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.show),expression:\"edit_bar.btn.show\"}],staticClass:\"edit_bar\"},[_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"编辑\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.edit),expression:\"edit_bar.btn.edit\"}],staticClass:\"edit_btn editf_btn\",on:{\"click\":_vm.onEdit}})]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"编辑文字\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.text),expression:\"edit_bar.btn.text\"}],staticClass:\"edit_btn text_btn\",class:{ text_btn_active: _vm.edit_bar.edit_text },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.show_text_block($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_text),expression:\"edit_bar.edit_text\"}],staticClass:\"text_block\"},[_c('div',{staticClass:\"block_title block_title_text\"},[_vm._v(\"文 字\")]),_c('div',{staticClass:\"text_body_block\"},[_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\"字体\")]),_c('el-button',{staticClass:\"text_fontFamily\",on:{\"click\":_vm.showFontFamily}},[_vm._v(_vm._s(_vm.ffName))])],1)],1),_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\"字号\")]),_c('el-input-number',{staticClass:\"text_fontSize align_right\",attrs:{\"controls-position\":\"right\",\"min\":1,\"max\":500},on:{\"change\":_vm.fontSize_change},model:{value:(_vm.edit_bar.text.fontSize),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"fontSize\", $$v)},expression:\"edit_bar.text.fontSize\"}})],1)],1),_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\" 倾斜 \"),_c('el-switch',{staticClass:\"align_right\",attrs:{\"value\":_vm.edit_bar.text.fontStyle == 'normal' ? false : true,\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":_vm.fontStyle_change}})],1)])],1),_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\" 加粗 \"),_c('el-switch',{staticClass:\"align_right\",attrs:{\"value\":this.edit_bar.text.fontWeight == 'normal'\n                          ? false\n                          : true,\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":_vm.fontWeightChange}})],1)])],1),_c('el-row',{staticClass:\"text_row\",staticStyle:{\"padding-bottom\":\"0\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\" 字间距 \"),_c('el-slider',{attrs:{\"min\":-40,\"max\":50},on:{\"change\":_vm.letterSpacing_change},model:{value:(_vm.edit_bar.text.letterSpacing),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"letterSpacing\", $$v)},expression:\"edit_bar.text.letterSpacing\"}})],1)])],1),_c('el-row',{staticClass:\"text_row\",staticStyle:{\"padding-bottom\":\"0\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\" 行间距 \"),_c('el-slider',{attrs:{\"min\":-30,\"max\":100},on:{\"change\":_vm.leading_change},model:{value:(_vm.edit_bar.text.leading),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"leading\", $$v)},expression:\"edit_bar.text.leading\"}})],1)])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_fontFamily_select),expression:\"edit_bar.edit_fontFamily_select\"}],staticClass:\"fontFamily_select\"},[_c('div',{staticClass:\"block_title block_title_text\"},[_vm._v(\"字 体\")]),_c('div',{staticClass:\"fontFamily_body_block\"},_vm._l((_vm.edit_bar.fontFamily),function(item){return _c('div',{key:item.value,staticClass:\"fontFamily_option\",style:({ 'font-family': item.value }),on:{\"click\":function($event){return _vm.fontFamily_change(item.value)}}},[_vm._v(_vm._s(item.name))])}),0)])])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"颜色\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.color),expression:\"edit_bar.btn.color\"}],staticClass:\"edit_btn color_btn\",class:{ color_btn_active: _vm.edit_bar.edit_color },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorBlock($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_color),expression:\"edit_bar.edit_color\"}],staticClass:\"align_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"颜 色\")]),_c('div',{staticClass:\"align_body_block\"},[_c('el-row',{},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"block text_left\"},[_c('el-color-picker',{staticClass:\"align_right font_color_picker\",attrs:{\"popper-class\":\"font_color\"},on:{\"active-change\":_vm.fontColor_change},model:{value:(_vm.edit_bar.text.color),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"color\", $$v)},expression:\"edit_bar.text.color\"}})],1)])],1)],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"对齐\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.align),expression:\"edit_bar.btn.align\"}],staticClass:\"edit_btn align_btn\",class:{ align_btn_active: _vm.edit_bar.edit_align },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showEditAlign($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_align),expression:\"edit_bar.edit_align\"}],staticClass:\"align_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"对 齐\")]),_c('div',{staticClass:\"align_body_block\"},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn align_left\",on:{\"click\":function($event){return _vm.alignChange('left')}}})])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn align_center\",on:{\"click\":function($event){return _vm.alignChange('center')}}})])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn align_right_img\",on:{\"click\":function($event){return _vm.alignChange('right')}}})])])],1)],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"阴影\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.shadow),expression:\"edit_bar.btn.shadow\"}],staticClass:\"edit_btn shadow_btn\",class:{ shadow_btn_active: _vm.edit_bar.edit_shadow },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showEditShadow($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_shadow),expression:\"edit_bar.edit_shadow\"}],staticClass:\"shadow_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"阴 影\")]),_c('div',{staticClass:\"shadow_body_block\"},[_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\" 开启阴影 \"),_c('el-switch',{staticClass:\"align_right\",attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},on:{\"change\":_vm.dropShadow},model:{value:(_vm.edit_bar.text.dropShadow),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"dropShadow\", $$v)},expression:\"edit_bar.text.dropShadow\"}})],1)])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.text.dropShadow),expression:\"edit_bar.text.dropShadow\"}]},[_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"block text_left\"},[_vm._v(\" 阴影颜色 \"),_c('el-color-picker',{staticClass:\"align_right shadow_color_picker\",attrs:{\"color-format\":\"hex\",\"size\":\"small\",\"popper-class\":\"font_color shadow_color\"},on:{\"active-change\":_vm.dropShadowColorChange},model:{value:(_vm.edit_bar.text.dropShadowColor),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"dropShadowColor\", $$v)},expression:\"edit_bar.text.dropShadowColor\"}})],1)])],1),_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\" 阴影模糊 \"),_c('el-slider',{attrs:{\"min\":0,\"max\":20},on:{\"change\":_vm.dropShadowBlurChange},model:{value:(_vm.edit_bar.text.dropShadowBlur),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"dropShadowBlur\", $$v)},expression:\"edit_bar.text.dropShadowBlur\"}})],1)])],1),_c('el-row',{staticClass:\"text_row\"},[_c('el-col',{attrs:{\"span\":24}},[_c('div',{staticClass:\"grid-content text_left\"},[_vm._v(\" 阴影距离 \"),_c('el-slider',{attrs:{\"min\":0,\"max\":30},on:{\"change\":_vm.dropShadowDistanceChange},model:{value:(_vm.edit_bar.text.dropShadowDistance),callback:function ($$v) {_vm.$set(_vm.edit_bar.text, \"dropShadowDistance\", $$v)},expression:\"edit_bar.text.dropShadowDistance\"}})],1)])],1)],1)],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"更换图片\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.change_image),expression:\"edit_bar.btn.change_image\"}],staticClass:\"edit_btn changef_btn\",on:{\"click\":_vm.changeImage}})]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"位置\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.location),expression:\"edit_bar.btn.location\"}],staticClass:\"edit_btn location_btn\",class:{ location_btn_active: _vm.edit_bar.edit_location },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showEditLocation($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_location),expression:\"edit_bar.edit_location\"}],staticClass:\"location_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"位 置\")]),_c('div',{staticClass:\"location_body_block\"},[_c('el-row',{staticClass:\"row-bg\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn location_left\",on:{\"click\":function($event){return _vm.locationMove('left')}}})])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn location_center\",on:{\"click\":function($event){return _vm.locationMove('center')}}})])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn location_right\",on:{\"click\":function($event){return _vm.locationMove('right')}}})])])],1),_c('el-row',{staticClass:\"row-bg\",staticStyle:{\"margin-top\":\"2px\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn location_top\",on:{\"click\":function($event){return _vm.locationMove('up')}}})])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn location_middle\",on:{\"click\":function($event){return _vm.locationMove('middle')}}})])]),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"grid-content\"},[_c('div',{staticClass:\"location_in_btn location_bottom\",on:{\"click\":function($event){return _vm.locationMove('down')}}})])])],1)],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"旋转\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.rotation),expression:\"edit_bar.btn.rotation\"}],staticClass:\"edit_btn rotation_btn\",class:{ rotation_btn_active: _vm.edit_bar.edit_rotation },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.show_rotation_block($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_rotation),expression:\"edit_bar.edit_rotation\"}],staticClass:\"rotation_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"旋 转\")]),_c('div',{staticClass:\"rotation_body_block\"},[_c('el-slider',{attrs:{\"min\":-180,\"max\":180,\"show-tooltip\":false},on:{\"change\":_vm.rotationChange},model:{value:(_vm.edit_bar.rotation),callback:function ($$v) {_vm.$set(_vm.edit_bar, \"rotation\", $$v)},expression:\"edit_bar.rotation\"}}),_c('p',[_vm._v(_vm._s(_vm.edit_bar.rotation)+\"°\")])],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"倾斜\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.skew),expression:\"edit_bar.btn.skew\"}],staticClass:\"edit_btn skew_btn\",class:{ skew_btn_active: _vm.edit_bar.edit_skew },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.show_skew_block($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_skew),expression:\"edit_bar.edit_skew\"}],staticClass:\"skew_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"倾斜\")]),_c('div',{staticClass:\"skew_body_block\"},[_c('p',[_vm._v(\"X轴倾斜\")]),_c('el-slider',{attrs:{\"min\":-1,\"max\":1,\"show-tooltip\":true,\"step\":0.1},on:{\"change\":function($event){return _vm.skewChange('x')}},model:{value:(_vm.edit_bar.skewX),callback:function ($$v) {_vm.$set(_vm.edit_bar, \"skewX\", $$v)},expression:\"edit_bar.skewX\"}}),_c('p',[_vm._v(\"Y轴倾斜\")]),_c('el-slider',{attrs:{\"min\":-1,\"max\":1,\"show-tooltip\":true,\"step\":0.1},on:{\"change\":function($event){return _vm.skewChange('y')}},model:{value:(_vm.edit_bar.skewY),callback:function ($$v) {_vm.$set(_vm.edit_bar, \"skewY\", $$v)},expression:\"edit_bar.skewY\"}})],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"透明度\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.opacity),expression:\"edit_bar.btn.opacity\"}],staticClass:\"edit_btn opacity_btn\",class:{ opacity_btn_active: _vm.edit_bar.edit_opacity },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.show_opacity_block($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_opacity),expression:\"edit_bar.edit_opacity\"}],staticClass:\"opacity_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"透 明 度\")]),_c('div',{staticClass:\"opacity_body_block\"},[_c('el-slider',{staticClass:\"opacity_slider\",attrs:{\"show-tooltip\":false},on:{\"change\":_vm.opacity_change},model:{value:(_vm.edit_bar.opacity),callback:function ($$v) {_vm.$set(_vm.edit_bar, \"opacity\", $$v)},expression:\"edit_bar.opacity\"}}),_c('p',[_vm._v(_vm._s(_vm.edit_bar.opacity)+\"%\")])],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"色相\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.hue),expression:\"edit_bar.btn.hue\"}],staticClass:\"edit_btn hue_btn\",class:{ hue_btn_active: _vm.edit_bar.edit_hue },on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.show_hue_block($event)}}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_hue),expression:\"edit_bar.edit_hue\"}],staticClass:\"hue_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"色相\")]),_c('div',{staticClass:\"hue_body_block\"},[_c('el-slider',{staticClass:\"opacity_slider\",attrs:{\"show-tooltip\":true,\"min\":0,\"max\":1,\"step\":0.05},on:{\"change\":_vm.changeHue},model:{value:(_vm.edit_bar.hue),callback:function ($$v) {_vm.$set(_vm.edit_bar, \"hue\", $$v)},expression:\"edit_bar.hue\"}})],1)])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"层级\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.updown),expression:\"edit_bar.btn.updown\"}],staticClass:\"edit_btn upDown_btn\",class:{ upDown_btn_active: _vm.edit_bar.edit_layer },on:{\"click\":_vm.showLayerBlock}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.edit_layer),expression:\"edit_bar.edit_layer\"}],staticClass:\"layer_block\"},[_c('div',{staticClass:\"block_title\"},[_vm._v(\"图 层\")]),_c('div',{staticClass:\"layer_body_block\"},[_c('div',{staticClass:\"up_btn\",on:{\"click\":function($event){return _vm.moveIndex(true)}}},[_c('div',{staticClass:\"up_btn_logo\"}),_c('p',{staticClass:\"btn_p\"},[_vm._v(\"上移\")])]),_c('div',{staticClass:\"down_btn\",on:{\"click\":function($event){return _vm.moveIndex(false)}}},[_c('div',{staticClass:\"down_btn_logo\"}),_c('p',{staticClass:\"btn_p\"},[_vm._v(\"下移\")])]),_c('div',{staticClass:\"up_btn maxUp_btn\",on:{\"click\":function($event){return _vm.moveIndex(true, 'maxUp')}}},[_c('div',{staticClass:\"maxUp_btn_logo\"}),_c('p',{staticClass:\"btn_p\"},[_vm._v(\"置顶\")])]),_c('div',{staticClass:\"down_btn maxDown_btn\",on:{\"click\":function($event){return _vm.moveIndex(false, 'maxDown')}}},[_c('div',{staticClass:\"maxDown_btn_logo\"}),_c('p',{staticClass:\"btn_p\"},[_vm._v(\"置底\")])])])])])]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"light\",\"content\":\"删除\",\"placement\":\"right\",\"popper-class\":\"tooltip\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_bar.btn.delete),expression:\"edit_bar.btn.delete\"}],staticClass:\"edit_btn delete_btn\",on:{\"click\":_vm.onRightDelete}})])],1)]),_c('div',{staticClass:\"mouldFuncButton\"},[(_vm.user_type == 'designer')?_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"添加文案替换功能\",\"placement\":\"top\"}},[_c('div',{staticClass:\"replaceTextButton funcButton\",on:{\"click\":_vm.setReplaceText}})]):_vm._e(),_c('div',{staticClass:\"addButton funcButton\",on:{\"click\":function($event){return _vm.addPopShow(true)}}})],1),_c('addPop',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addPop),expression:\"addPop\"}]}),(_vm.mouldFuncShow)?_c('mould-func',{attrs:{\"open-block\":_vm.openF,\"text-position-arr\":_vm.textPositionArr},on:{\"update-text-position\":_vm.updateTextPosition,\"close-mould-funcshow\":function($event){_vm.mouldFuncShow = false}},model:{value:(_vm.saveTextRule),callback:function ($$v) {_vm.saveTextRule=$$v},expression:\"saveTextRule\"}}):_vm._e(),_c('div',{staticClass:\"bottom_f\"},[_c('div',{staticClass:\"bottom_f_btn\"},[_vm._v(_vm._s(_vm.canvas_ratio_arr[0])+\":\"+_vm._s(_vm.canvas_ratio_arr[1]))]),_c('div',{staticClass:\"bottom_f_btn\",on:{\"click\":_vm.showRuler}},[_c('div',{staticClass:\"ruler\"})]),_c('div',{staticClass:\"bottom_f_btn\",on:{\"click\":function($event){return _vm.moveActiveLog('prev')}}},[_c('div',{staticClass:\"prevBtn\"})]),_c('div',{staticClass:\"bottom_f_btn\",on:{\"click\":function($event){return _vm.moveActiveLog('next')}}},[_c('div',{staticClass:\"nextBtn\"})]),_c('div',{staticClass:\"bottom_f_btn\"},[_c('span',{staticClass:\"reduce_scale\",on:{\"click\":function($event){return _vm.canvasScale('reduce')}}},[_vm._v(\"-\")]),_c('span',[_vm._v(_vm._s(parseInt(_vm.canvas_scale * 100))+\"%\")]),_c('span',{staticClass:\"plus_scale\",on:{\"click\":function($event){return _vm.canvasScale('plus')}}},[_vm._v(\"+\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const computed_func = {\r\n  name: 'computed_func',\r\n  LENGTH_SIZE: function (i, e) {\r\n    var n = e.x - i.x\r\n    var t = e.y - i.y\r\n    var a = Math.sqrt(n * n + t * t)\r\n    return a\r\n  },\r\n  AFTER_ROTATE: function (param) {\r\n    // 此方法为逆时针旋转，顺时针时角度要为负\r\n    var x = param[0]\r\n    var y = param[1]\r\n    var tha1 = param[2]\r\n    var value = Math.sqrt(x * x + y * y)\r\n    var cos1 = x / value\r\n    var sin1 = y / value\r\n    var cos2 = Math.cos(tha1)\r\n    var sin2 = Math.sin(tha1)\r\n    var cos3 = cos1 * cos2 - sin1 * sin2\r\n    var sin3 = sin1 * cos2 + cos1 * sin2\r\n    param[0] = value * cos3\r\n    param[1] = value * sin3\r\n    return param\r\n  }\r\n}\r\n","import { computed_func } from '@/homeComponents/pixiFunc/computational_function.js'\r\nexport default {\r\n  methods: {\r\n    onRightC: function (event) {\r\n      const me = this\r\n      event.stopped = true\r\n      // 右键点击，如果是单独元素则有置顶，置底，删除，复制\r\n      // 如果有临时组合则，有删除，复制\r\n      // 如果有组合，是组合的置顶，置底，复制，删除功能\r\n      // 根据画布外canvas缩放等级来判断位置，显示右键弹窗\r\n      let browser_w = document.body.clientWidth\r\n      let browser_h = document.body.clientHeight\r\n      let canvas_scale = me.canvas_scale\r\n      let mouse_x = browser_w / 2 - (me.window_w * canvas_scale / 2) + (event.data.global.x * canvas_scale)\r\n      let mouse_y = event.data.global.y * canvas_scale\r\n      // let mouse_y = browser_h / 2 + ((70 / 2) - (me.window_h * canvas_scale / 2)) + (event.data.global.y * canvas_scale)\r\n      if (mouse_y + 300 + 80 >= browser_h + parseInt(document.getElementById('mainCanvas').scrollTop)) { mouse_y = browser_h - 310 + parseInt(document.getElementById('mainCanvas').scrollTop) }\r\n      if (mouse_x + 160 >= browser_w) mouse_x = browser_w - 160\r\n      // 右键面板展示\r\n      me.$set(me.right_block, 'rb_left', `${mouse_x}px`)\r\n      me.$set(me.right_block, 'rb_top', `${mouse_y}px`)\r\n      me.$set(me.right_block, 'show', true)\r\n      if (event.currentTarget.type == 'text' || event.currentTarget.type == 'image') {\r\n        // 右键点击的元素是图片或者文字\r\n        let inorNot = false\r\n        // let has_ass = false\r\n        let has_noass = false\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].name == event.currentTarget.name) {\r\n            inorNot = true\r\n          }\r\n          // if (me.ctrl_arr[i].association_name !== '') {\r\n          //   has_ass = true\r\n          // }\r\n          if (me.ctrl_arr[i].association_name == '') {\r\n            has_noass = true\r\n          }\r\n        }\r\n        if (event.currentTarget.association_name == '') {\r\n          // 右键的元素不在组合中\r\n          if (!inorNot) {\r\n            // 类型1 为单个元素的删除功能,模拟单个元素点击\r\n            let f_parm = {\r\n              type: 1,\r\n              currentTarget: event.currentTarget,\r\n              data: event.data\r\n            }\r\n            me.onRightFunc(f_parm)\r\n          } else if (inorNot) {\r\n            // 类型2 为临时组合的删除功能\r\n            let f_parm = {\r\n              type: 2\r\n            }\r\n            me.onRightFunc(f_parm, event)\r\n          }\r\n        } else {\r\n          if (has_noass) {\r\n            // 类型2 为临时组合的删除功能\r\n            let f_parm = {\r\n              type: 2\r\n            }\r\n            me.onRightFunc(f_parm, event)\r\n          } else {\r\n            // 类型3 为组合的删除功能，模拟组合点击\r\n            let f_parm = {\r\n              type: 3\r\n            }\r\n            me.onRightFunc(f_parm, event)\r\n          }\r\n        }\r\n      } else if (event.currentTarget.type == 'association_gap') {\r\n        // 类型2 为临时组合的删除功能\r\n        let f_parm = {\r\n          type: 2\r\n        }\r\n        me.onRightFunc(f_parm, event)\r\n      } else if (event.currentTarget.type == 'association_gap_notT') {\r\n        // 类型3 为组合的删除功能，模拟组合点击\r\n        let f_parm = {\r\n          type: 3\r\n        }\r\n        me.onRightFunc(f_parm, event)\r\n      }\r\n    },\r\n    normalStart: function (that, data) {\r\n      let me = this\r\n      me.clearTemporary()\r\n      me.in_move = that\r\n      if (!that.lock) {\r\n        that.data = data\r\n        that.dragging = true\r\n        // 偏差值，鼠标点击目标任何位置移动都不会闪烁\r\n        let newPosition = that.data.getLocalPosition(me.mainStage_container)\r\n        that.deviationX = newPosition.x - that.parent.x\r\n        that.deviationY = newPosition.y - that.parent.y\r\n        me.containerLine(that, false, true)\r\n        me.showEdit(that.type)\r\n      } else {\r\n        // 删除之前的边框按钮图层，增加此对象的边框按钮\r\n        me.containerLine(that, false, true, false, true)\r\n        me.$set(me.edit_bar.btn, 'show', false)\r\n      }\r\n    },\r\n    onDragStart: function (event) {\r\n      let me = this\r\n      let sprite = event.currentTarget\r\n      // 点击时判断是否是按着ctrl选择多个,且点击的不是带组合的元素\r\n      if (me.key_ctrlf.isDown && !me.key_ctrlf.isUp && !sprite.lock && !sprite.structure) {\r\n        // ctrl选择第二个元素或多个元素\r\n        if (me.ctrl_arr.length == 0 && me.in_move.name !== sprite.name && !me.in_move.lock && !me.in_move.structure) {\r\n          me.ctrl_arr.push(me.in_move)\r\n          // 如果是单个元素就加入，如果是组合元素就加入组合\r\n          if (sprite.association_name.length == 0) {\r\n            me.ctrl_arr.push(sprite)\r\n          }\r\n          // 新增临时组合,找出其中层级最低的容器，在它之前加入临时组合的空白区\r\n          me.findMinAndAdd(event.data)\r\n        } else if (me.ctrl_arr.length >= 2 && !me.ctrl_arr[0].lock) {\r\n          let inorNot = false\r\n          if (sprite.association_name.length == 0) {\r\n            // ctrl点击单个元素的\r\n            for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n              if (me.ctrl_arr[i].name == sprite.name) {\r\n                inorNot = true\r\n                me.removeLine(me.ctrl_arr[i].name)\r\n                me.ctrl_arr.splice(i, 1)\r\n              }\r\n            }\r\n            if (inorNot == false) {\r\n              me.ctrl_arr.push(sprite)\r\n            }\r\n            // 新增临时组合,找出其中层级最低的容器，在它之前加入临时组合的空白区\r\n            me.findMinAndAdd(event.data)\r\n          } else if (sprite.association_name !== '') {\r\n            // ctrl点击了其他组合,重复点击去除，否则添加\r\n            // 计算当期ctrl_arr有多少个组合，对ass名字查重\r\n            let ass_name_arr = me.setCtrlArrAssname()\r\n            if (ass_name_arr.length == 1) {\r\n              if (sprite.association_name !== ass_name_arr[0]) {\r\n                ass_name_arr = me.ctrlAddAss(sprite.association_name, ass_name_arr)\r\n                me.findMinAndAdd(event.data, ass_name_arr.length)\r\n              }\r\n            } else if (ass_name_arr.length > 1) {\r\n              // 重复的组合去掉，新的组合增加\r\n              let inarr = false\r\n              for (let i = 0; i < ass_name_arr.length; i++) {\r\n                if (ass_name_arr[i] == sprite.association_name) {\r\n                  inarr = true\r\n                  break\r\n                }\r\n              }\r\n              if (inarr) {\r\n                ass_name_arr = me.ctrlDisAss(sprite.association_name, ass_name_arr)\r\n              } else {\r\n                ass_name_arr = me.ctrlAddAss(sprite.association_name, ass_name_arr)\r\n              }\r\n              me.findMinAndAdd(event.data, ass_name_arr.length, ass_name_arr[0])\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (sprite.type == 'image' || sprite.type == 'text') {\r\n          me.in_move = sprite\r\n        }\r\n        // 普通元素点击判断是否在临时组合中\r\n        let inorNot1 = false\r\n        if (sprite.association_name !== '') {\r\n          // 如果有组合，将组合加入ctrl_arr\r\n          if (me.temporary_rect) {\r\n            me.cancelInMove()\r\n          }\r\n          me.ctrl_arr.length = 0\r\n          me.addACtrlarr(sprite.association_name)\r\n        } else {\r\n          me.click_ass_id = ''\r\n        }\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].name == sprite.name) {\r\n            inorNot1 = true\r\n            break\r\n          }\r\n        }\r\n        if (inorNot1) {\r\n          if (me.temporary_rect) {\r\n            me.ctrlDeviation(event.data, true)\r\n          } else if (!me.temporary_rect && sprite.association_name !== '') {\r\n            if (sprite.association_name == me.click_ass_id && me.click_ass_id !== '' && me.in_move) {\r\n              me.aSingleClick(sprite, event.data)\r\n            } else {\r\n              me.in_move = null\r\n              if (me.ctrl_arr[0].lock) {\r\n                me.onAssociationStart(event, true, true)\r\n              } else {\r\n                me.onAssociationStart(event)\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          me.normalStart(sprite, event.data)\r\n        }\r\n      }\r\n    },\r\n    onDragMove: function (event) {\r\n      let me = this\r\n      let obj = event.currentTarget\r\n      if (me.ctrl_arr && me.ctrl_arr.length > 0) {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].dragging) {\r\n            let newPosition = me.ctrl_arr[i].data.getLocalPosition(me.mainStage_container)\r\n            if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n              me.ctrl_arr[i].x = newPosition.x - me.ctrl_arr[i].deviationX\r\n              me.ctrl_arr[i].y = newPosition.y - me.ctrl_arr[i].deviationY\r\n              let param = [me.ctrl_arr[i].width / 2, me.ctrl_arr[i].height / 2, me.ctrl_arr[i].rotation]\r\n              param = computed_func.AFTER_ROTATE(param)\r\n              // me.ctrl_arr[i].centerX = (me.ctrl_arr[i].vertexData[0] + me.ctrl_arr[i].vertexData[6]) / 2 - (me.window_w - me.canvas_width) / 2;\r\n              // me.ctrl_arr[i].centerY = (me.ctrl_arr[i].vertexData[1] + me.ctrl_arr[i].vertexData[7]) / 2 - (me.window_h - me.canvas_height) / 2;\r\n              me.ctrl_arr[i].centerX = me.ctrl_arr[i].x + parseFloat(param[0])\r\n              me.ctrl_arr[i].centerY = me.ctrl_arr[i].y + parseFloat(param[1])\r\n              me.moveOutLine(me.ctrl_arr[i].centerX, me.ctrl_arr[i].centerY, me.ctrl_arr[i])\r\n            } else {\r\n              me.ctrl_arr[i].parent.x = newPosition.x - me.ctrl_arr[i].deviationX\r\n              me.ctrl_arr[i].parent.y = newPosition.y - me.ctrl_arr[i].deviationY\r\n              // 移动icon线框位置\r\n              me.moveOutLine(me.ctrl_arr[i].parent.x, me.ctrl_arr[i].parent.y, me.ctrl_arr[i])\r\n              // me.$set(me, 'after_move', true)\r\n            }\r\n            newPosition = null\r\n          }\r\n        }\r\n        // 如果是单独移动组合中的元素，组合矩形需要变化\r\n        if (obj.association_name == me.click_ass_id && obj.dragging) {\r\n          me.click_ass_id = ''\r\n          // me.for_changeAssociation(obj.association_name)\r\n        }\r\n        if (me.temporary_rect && me.temporary_rect.dragging) {\r\n          let newPosition = me.temporary_rect.data.getLocalPosition(me.mainStage_container)\r\n          me.temporary_rect.x = newPosition.x - me.temporary_rect.deviationX\r\n          me.temporary_rect.y = newPosition.y - me.temporary_rect.deviationY\r\n          // 利用向量旋转计算出矩形中心点，如果临时组合未旋转则角度为0\r\n          let param = [me.temporary_rect.width / 2, me.temporary_rect.height / 2, me.temporary_rect.rotation]\r\n          param = computed_func.AFTER_ROTATE(param)\r\n          me.temporary_rect.centerX = me.temporary_rect.x + parseFloat(param[0])\r\n          me.temporary_rect.centerY = me.temporary_rect.y + parseFloat(param[1])\r\n          me.moveOutLine(me.temporary_rect.centerX, me.temporary_rect.centerY, me.temporary_rect)\r\n          newPosition = null\r\n        }\r\n      } else {\r\n        if (obj.dragging && !obj.structure) {\r\n          // structure为了防止骨架的标题移动（用不到了）\r\n          let newPosition = obj.data.getLocalPosition(me.mainStage_container)\r\n          obj.parent.position.set(newPosition.x - obj.deviationX, newPosition.y - obj.deviationY)\r\n          // 移动icon线框位置\r\n          me.moveOutLine(newPosition.x - obj.deviationX, newPosition.y - obj.deviationY, obj)\r\n\r\n          // btn_box.position.set(newPosition.x, newPosition.y);\r\n          newPosition = null\r\n        }\r\n      }\r\n      obj = null\r\n    },\r\n    onDragEnd: function (event) {\r\n      let me = this\r\n      let sprite = event.currentTarget\r\n      // 拖动结束\r\n      sprite.dragging = false\r\n      sprite.data = null\r\n      me.$set(me, 'after_move', true)\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].dragging = false\r\n        me.ctrl_arr[i].data = null\r\n      }\r\n      // 组合点击的逻辑\r\n      if (!sprite.lock) {\r\n        if (me.click_ass_id !== '' && me.click_ass_id == sprite.association_name && sprite.type !== 'btn' && sprite.type !== 'association_gap_notT') {\r\n          me.in_move = sprite\r\n          me.aSingleClickBorder(sprite.association_name)\r\n        }\r\n        if (me.click_ass_id == '' && sprite.association_name !== '') {\r\n          me.click_ass_id = sprite.association_name\r\n        }\r\n        // 如果是组合元素拖动结束，渲染组合边框\r\n        if (sprite.association_name !== '' && sprite.type !== 'association_gap_notT' && me.in_move) {\r\n          me.aSingleClickBorder(sprite.association_name)\r\n        }\r\n      }\r\n      if (me.temporary_rect && me.temporary_rect.dragging) {\r\n        me.temporary_rect.dragging = false\r\n        me.temporary_rect.data = null\r\n        // $('.association').removeClass('association_un_click');\r\n      }\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].dragging = false\r\n        me.ctrl_arr[i].data = null\r\n      }\r\n      // //存储进活动日志\r\n      me.pushActiveLog()\r\n      me = null\r\n      sprite = null\r\n    },\r\n    onScaleStart: function (event) {\r\n      let me = this\r\n      event.target.data = event.data\r\n      me.in_move.dragging = !1\r\n      me.can_scale = 1\r\n      //\r\n      if (me.in_move.association_name !== '') {\r\n        // 组合空白矩形\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT' && me.ctrl_arr[i].association_name == me.in_move.association_name) {\r\n            // 缩放结束后，改变组合空白矩形change\r\n            me.ctrl_arr[i].change = true\r\n            break\r\n          }\r\n        }\r\n      }\r\n      if (me.in_move.type == 'text') {\r\n        let num = me.in_move.width / me.in_move.style.fontSize\r\n        me.in_move.text_num = num\r\n      }\r\n      me = null\r\n    },\r\n    onScaleMove: function (btn, event) {\r\n      let me = this\r\n      console.log('缩放')\r\n      if (me.can_scale) {\r\n        let e = event.data.getLocalPosition(me.mainStage_container)\r\n        // 目前拉伸的到原点连线的长度\r\n        let n = computed_func.LENGTH_SIZE({\r\n          x: me.in_move.parent.position.x,\r\n          y: me.in_move.parent.position.y\r\n        }, e)\r\n        // 计算缩放值，并改变元素移动边框和icon\r\n        // let d_value = Math.abs(e.x - me.in_move.parent.position.x)\r\n        if (me.in_move.type == 'text') {\r\n          if (me.textTime) {\r\n            me.textTime = false\r\n            me.scaleAll(n, me.in_move.text_num)\r\n            me.$nextTick(() => {\r\n              me.textTime = true\r\n            })\r\n          }\r\n        } else {\r\n          me.scaleAll(n)\r\n        }\r\n        me.after_scale = true\r\n        e = null\r\n        n = null\r\n      }\r\n      // me = null\r\n    },\r\n    scaleAll: function (n, text_num = 0) {\r\n      let me = this\r\n      // let dw = 2 * d_value\r\n      if (n <= 0) {\r\n        return\r\n      }\r\n      // x1 x2为原始拉伸对象的长宽\r\n      let x1,\r\n        x2\r\n      x1 = me.in_move.originalw / 2\r\n      x2 = me.in_move.originalh / 2\r\n      let original_scale = Math.sqrt(x1 * x1 + x2 * x2)\r\n      let scale = n / original_scale\r\n      if (scale <= 0.1) {\r\n        scale = 0.1\r\n      }\r\n      if (me.in_move.type == 'text') {\r\n        let fs = me.in_move.ofonts * scale\r\n        let newStyle = me.in_move.style.clone()\r\n        newStyle.wordWrapWidth = (fs + me.in_move.style.letterSpacing) * text_num\r\n        newStyle.fontSize = Math.floor(fs)\r\n        newStyle.lineHeight = me.in_move.style.fontSize + me.in_move.lineHeightM\r\n        me.in_move.style = newStyle\r\n        fs = null\r\n        newStyle = null\r\n        // me.moveIcon(me.in_move)\r\n      } else {\r\n        if (me.in_move.svg) {\r\n          me.in_move.scale.set(scale / me.in_move.texture.baseTexture.resource.scale)\r\n        } else {\r\n          me.in_move.scale.set(scale)\r\n        }\r\n        // 删除边框、旋转按钮，保留缩放按钮，拉伸结束恢复\r\n        me.moveIcon(me.in_move)\r\n      }\r\n      me.forChangeAssociation(me.in_move.association_name)\r\n      original_scale = null\r\n      scale = null\r\n      x2 = null\r\n      x1 = null\r\n      me = null\r\n    },\r\n    onScaleEnd: function () {\r\n      let me = this\r\n      me.can_scale = 0\r\n      // //改变组合空白矩形,在元素拖动方法中已经修改，放大后改change为假\r\n      if (me.in_move.association_name !== '') {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT' && me.ctrl_arr[i].change && me.in_move.association_name == me.ctrl_arr[i].association_name) {\r\n            me.$nextTick(() => {\r\n              me.aSingleClickBorder(me.ctrl_arr[i].association_name)\r\n            })\r\n          }\r\n        }\r\n      }\r\n      me.containerLine(me.in_move, false, true)\r\n\r\n      if (me.in_move.type == 'text') {\r\n        me.edit_bar.text.fontSize = me.in_move.style.fontSize\r\n        // me.$set(me.edit_bar.text, 'fontSize', me.in_move.style.fontSize)\r\n        me.scaleTextEnd(me.in_move)\r\n      } else if (me.in_move.svg) {\r\n        me.updateSvgScale(me.in_move)\r\n      }\r\n      // //存储进活动日志\r\n      me.pushActiveLog()\r\n      // me = this\r\n    },\r\n    onRotateStart: function () {\r\n      let me = this\r\n      me.in_move.dragging = !1\r\n      me.can_rotate = 1\r\n      if (me.in_move.association_name !== '') {\r\n        // 组合空白矩形\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT' && me.ctrl_arr[i].association_name == me.in_move.association_name) {\r\n            // 缩放结束后，改变组合空白矩形change\r\n            me.ctrl_arr[i].change = true\r\n            break\r\n          }\r\n        }\r\n      }\r\n      me = this\r\n    },\r\n    onRotateMove: function (event) {\r\n      let me = this\r\n      if (me.can_rotate) {\r\n        let e = event.data.getLocalPosition(me.mainStage_container)\r\n        // 计算向量夹角\r\n        let a1 = {}\r\n        a1.x = 0\r\n        a1.y = -me.in_move.height / 2 - me.r_btn_h\r\n        let a2 = {}\r\n        a2.x = e.x - me.in_move.parent.position.x\r\n        a2.y = e.y - me.in_move.parent.position.y\r\n        //\r\n        let cos\r\n        let numerator = a1.x * a2.x + a1.y * a2.y\r\n        let denominator = Math.sqrt(a1.x * a1.x + a1.y * a1.y) * Math.sqrt(a2.y * a2.y + a2.x * a2.x)\r\n        cos = numerator / denominator\r\n        // 反余弦值\r\n        me.rotateOBj(Math.acos(cos), e.x)\r\n        me.$set(me, 'after_rotate', true)\r\n      }\r\n      me = null\r\n    },\r\n    rotateOBj: function (num, x) {\r\n      let me = this\r\n      if (x - me.in_move.parent.position.x >= 0) {\r\n        me.in_move.rotation = num\r\n        me.outLine_container.getChildByName(me.in_move.name).rotation = num\r\n      } else {\r\n        me.in_move.rotation = -num\r\n        me.outLine_container.getChildByName(me.in_move.name).rotation = -num\r\n      }\r\n      me.forChangeAssociation(me.in_move.association_name)\r\n      me = null\r\n    },\r\n    onRotateEnd: function () {\r\n      let me = this\r\n      me.in_move.rotation_num = me.in_move.rotation\r\n      me.can_rotate = 0\r\n      // //改变组合空白矩形,在元素拖动方法中已经修改，放大后改change为假\r\n      if (me.in_move.association_name !== '') {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT' && me.in_move.association_name == me.ctrl_arr[i].association_name) {\r\n            me.aSingleClickBorder(me.ctrl_arr[i].association_name)\r\n          }\r\n        }\r\n      }\r\n      // //存储进活动日志\r\n      me.pushActiveLog()\r\n      me = null\r\n    },\r\n    onStretchStart: function (event) {\r\n      let me = this\r\n      me.in_move.dragging = false\r\n      me.can_scale = 0\r\n      me.can_rotate = 0\r\n      me.can_stretch = 1\r\n      me = null\r\n    },\r\n    onStretchMove: function (event) {\r\n      let me = this\r\n      if (me.can_stretch) {\r\n        let e = event.data.getLocalPosition(me.mainStage_container)\r\n        let centerx = me.in_move.parent.position.x\r\n        // 单行文字 wordWrapWidth可以拉很长，实际是能和鼠标拉的一样长\r\n        let wordWrapWidth = (e.x - centerx) * 2\r\n        if (wordWrapWidth > me.in_move.style.fontSize) {\r\n          me.in_move.style.wordWrapWidth = wordWrapWidth\r\n          // 移动文字icon\r\n          me.moveIcon(me.in_move)\r\n        }\r\n        me.$set(me, 'after_stretch', true)\r\n      }\r\n      me = null\r\n    },\r\n    onStretchEnd: function () {\r\n      let me = this\r\n      me.can_stretch = 0\r\n      me.in_move.originalw = me.in_move.width\r\n      me.in_move.originalh = me.in_move.height\r\n      me.in_move.ofonts = me.in_move.style.fontSize\r\n      me.containerLine(me.in_move, false, true)\r\n      if (me.in_move.association_name !== '') {\r\n        me.aSingleClickBorder(me.in_move.association_name)\r\n      }\r\n      // //存储进活动日志\r\n      me.pushActiveLog()\r\n      me = null\r\n    },\r\n    onTemporaryStart: function (event) {\r\n      // 计算临时组合的偏差值用于移动,布尔值表示移动临时组合矩形，false表示移动组合矩形(包含在ctrl_arr里)\r\n      let me = this\r\n      me.ctrlDeviation(event.data, true)\r\n      me = null\r\n    },\r\n    onTemporaryEnd: function () {\r\n      let me = this\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].dragging = false\r\n        me.ctrl_arr[i].data = null\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          setTimeout(function () {\r\n            me.ctrl_arr[i].centerX = (me.ctrl_arr[i].vertexData[0] + me.ctrl_arr[i].vertexData[6]) / 2 - (me.window_w - me.canvas_width) / 2\r\n            me.ctrl_arr[i].centerY = (me.ctrl_arr[i].vertexData[1] + me.ctrl_arr[i].vertexData[7]) / 2 - (me.window_h - me.canvas_height) / 2\r\n            me.moveOutLine(me.ctrl_arr[i].centerX, me.ctrl_arr[i].centerY, me.ctrl_arr[i])\r\n            me.ctrl_arr[i].change = false\r\n          }, 150)\r\n          if (me.click_ass_id == '') {\r\n            me.click_ass_id = me.ctrl_arr[i].association_name\r\n          }\r\n        }\r\n      }\r\n      if (me.temporary_rect) {\r\n        me.temporary_rect.dragging = false\r\n        me.temporary_rect.data = null\r\n        // 添加临时组合边框,vertexData数据返回可能有延迟，所以设个延迟时间\r\n        setTimeout(function () {\r\n          me.temporary_rect.centerX = (me.temporary_rect.vertexData[0] + me.temporary_rect.vertexData[6]) / 2 - (me.window_w - me.canvas_width) / 2\r\n          me.temporary_rect.centerY = (me.temporary_rect.vertexData[1] + me.temporary_rect.vertexData[7]) / 2 - (me.window_h - me.canvas_height) / 2\r\n          me.moveOutLine(me.temporary_rect.centerX, me.temporary_rect.centerY, me.temporary_rect)\r\n        }, 150)\r\n      }\r\n      // 存储进活动日志\r\n      me.pushActiveLog()\r\n      // 上次点击对象清空\r\n      // if (me.in_move && me.click_obj_name !== me.in_move.name) {\r\n      //   me.click_obj_name = '';\r\n      // } else if (!me.in_move) {\r\n      //   me.click_obj_name = '';\r\n      // }\r\n      // me = null\r\n    },\r\n    onTScaleStart: function (event) {\r\n      let me = this\r\n      event.target.data = event.data\r\n      me.can_scale = 1\r\n      let ctrl_arr_pivot = []\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].oScale = me.ctrl_arr[i].scale.x\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          ctrl_arr_pivot.push({\r\n            index: i,\r\n            x: me.ctrl_arr[i].position.x,\r\n            y: me.ctrl_arr[i].position.y\r\n          })\r\n        } else {\r\n          if (me.ctrl_arr[i].type == 'text') {\r\n            let num = me.ctrl_arr[i].width / me.ctrl_arr[i].style.fontSize\r\n            me.ctrl_arr[i].text_num = num\r\n            me.ctrl_arr[i].ratio = 2 * (-me.temporary_rect.x + me.temporary_rect.centerX) / me.ctrl_arr[i].width\r\n          }\r\n          ctrl_arr_pivot.push({\r\n            index: i,\r\n            x: me.ctrl_arr[i].parent.position.x,\r\n            y: me.ctrl_arr[i].parent.position.y\r\n          })\r\n        }\r\n      };\r\n      // 用于处理缩放时对称点不对影响错位，实时根据缩放改变位置\r\n      event.target.pivotX = me.temporary_rect.centerX\r\n      event.target.pivotY = me.temporary_rect.centerY\r\n      event.target.temporary_rectX = me.temporary_rect.x\r\n      event.target.temporary_rectY = me.temporary_rect.y\r\n      event.target.ctrl_arr_pivot = ctrl_arr_pivot\r\n      me.temporary_rect.oScale = me.temporary_rect.scale.x\r\n      me = null\r\n    },\r\n    onTScaleMove: function (btn, event) {\r\n      let me = this\r\n      if (me.can_scale) {\r\n        var e = event.data.getLocalPosition(me.mainStage_container)\r\n        // 目前拉伸的到原点连线的长度\r\n        var n = computed_func.LENGTH_SIZE({\r\n          x: me.temporary_rect.centerX,\r\n          y: me.temporary_rect.centerY\r\n        }, e)\r\n        // 计算缩放值，并改变元素移动边框和icon\r\n        me.tScaleAll(n, btn)\r\n        me.$set(me, 'after_scale', true)\r\n      }\r\n      me = null\r\n    },\r\n    tScaleAll: function (n, that, present_w) {\r\n      let me = this\r\n      if (n <= 0) {\r\n        return\r\n      }\r\n      // x1 x2为原始拉伸对象的长宽\r\n      var x1,\r\n        x2\r\n      x1 = me.temporary_rect.originalw / 2\r\n      x2 = me.temporary_rect.originalh / 2\r\n      let original_scale = Math.sqrt(x1 * x1 + x2 * x2)\r\n      let scale = n / original_scale\r\n      if (scale <= 0.1) {\r\n        scale = 0.1\r\n      }\r\n      me.temporary_rect.scale.set(scale * me.temporary_rect.oScale)\r\n      me.temporary_rect.x = that.pivotX - (that.pivotX - that.temporary_rectX) * scale\r\n      me.temporary_rect.y = that.pivotY - (that.pivotY - that.temporary_rectY) * scale\r\n      // 删除边框、旋转按钮，保留缩放按钮，拉伸结束恢复\r\n      me.moveIcon(me.temporary_rect)\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          me.ctrl_arr[i].scale.set(scale * me.ctrl_arr[i].oScale)\r\n          me.ctrl_arr[i].x = that.pivotX - (that.pivotX - that.ctrl_arr_pivot[i].x) * scale\r\n          me.ctrl_arr[i].y = that.pivotY - (that.pivotY - that.ctrl_arr_pivot[i].y) * scale\r\n        } else if (me.ctrl_arr[i].type == 'text') {\r\n          // let fs = me.temporary_rect.width / me.ctrl_arr[i].ratio / me.ctrl_arr[i].text_num\r\n          // me.ctrl_arr[i].style.wordWrapWidth = me.ctrl_arr[i].text_num * fs\r\n          // if (me.ctrl_arr[i].style.fontStyle == 'normal') {\r\n          //   me.ctrl_arr[i].style.wordWrapWidth += fs * 0.2\r\n          // }\r\n          // me.ctrl_arr[i].style.fontSize = fs;\r\n          // me.$set(me.edit_bar.text, 'fontSize', fs)\r\n          // me.ctrl_arr[i].style.lineHeight = me.ctrl_arr[i].style.fontSize + me.ctrl_arr[i].lineHeightM;\r\n          let fs = me.ctrl_arr[i].ofonts * scale\r\n          me.ctrl_arr[i].style.wordWrapWidth = (fs + me.ctrl_arr[i].style.letterSpacing) * me.ctrl_arr[i].text_num\r\n          me.ctrl_arr[i].style.fontSize = fs\r\n          me.$set(me.edit_bar.text, 'fontSize', fs)\r\n          me.ctrl_arr[i].style.lineHeight = me.ctrl_arr[i].style.fontSize + me.ctrl_arr[i].lineHeightM\r\n\r\n          me.ctrl_arr[i].parent.x = that.pivotX - (that.pivotX - that.ctrl_arr_pivot[i].x) * scale\r\n          me.ctrl_arr[i].parent.y = that.pivotY - (that.pivotY - that.ctrl_arr_pivot[i].y) * scale\r\n        } else {\r\n          if (me.ctrl_arr[i].svg) {\r\n            me.ctrl_arr[i].scale.set(scale)\r\n          } else {\r\n            me.ctrl_arr[i].scale.set(scale * me.ctrl_arr[i].oScale)\r\n          }\r\n          // 补充位移\r\n          me.ctrl_arr[i].parent.x = that.pivotX - (that.pivotX - that.ctrl_arr_pivot[i].x) * scale\r\n          me.ctrl_arr[i].parent.y = that.pivotY - (that.pivotY - that.ctrl_arr_pivot[i].y) * scale\r\n        }\r\n      }\r\n      that = null\r\n      me = null\r\n    },\r\n    onTScaleEnd: function () {\r\n      let me = this\r\n      me.can_scale = 0\r\n      me.temporary_rect.originalw = me.temporary_rect.width\r\n      me.temporary_rect.originalh = me.temporary_rect.height\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type == 'text') {\r\n          me.scaleTextEnd(me.ctrl_arr[i])\r\n        } else if (me.ctrl_arr[i].svg) {\r\n          me.updateSvgScale(me.ctrl_arr[i])\r\n        }\r\n        setTimeout(function () {\r\n          me.ctrl_arr[i].centerX = (me.ctrl_arr[i].vertexData[0] + me.ctrl_arr[i].vertexData[6]) / 2 - (me.window_w - me.canvas_width) / 2\r\n          me.ctrl_arr[i].centerY = (me.ctrl_arr[i].vertexData[1] + me.ctrl_arr[i].vertexData[7]) / 2 - (me.window_h - me.canvas_height) / 2\r\n          if (i == me.ctrl_arr.length - 1) me.renderTLine(true)\r\n        }, 150)\r\n      }\r\n      // 存储进活动日志\r\n      me.pushActiveLog()\r\n      // me = null\r\n    },\r\n    onTRotateStart: function (event = null) {\r\n      let me = this\r\n      me.temporary_rect.dragging = false\r\n      me.temporary_rect.beforeRX = me.temporary_rect.x\r\n      me.temporary_rect.beforeRY = me.temporary_rect.y\r\n      // 临时组合元素设置pivot点是从自己锚点开始的相对位置，将其设置到空白矩形中点\r\n      // 再将元素的位置补差值，维持原位(差值涉及缩放比例)\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].dragging = false\r\n        me.ctrl_arr[i].data = null\r\n        // 元素线框,旋转后直接重新渲染线框，所以结束时不用恢复pivot\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          me.ctrl_arr[i].beforeRX = me.ctrl_arr[i].x\r\n          me.ctrl_arr[i].beforeRY = me.ctrl_arr[i].y\r\n          me.ctrl_arr[i].pivot.set((me.temporary_rect.centerX - me.ctrl_arr[i].x) / me.ctrl_arr[i].scale.x, (me.temporary_rect.centerY - me.ctrl_arr[i].y) / me.ctrl_arr[i].scale.y)\r\n          me.ctrl_arr[i].x = me.temporary_rect.centerX\r\n          me.ctrl_arr[i].y = me.temporary_rect.centerY\r\n        } else {\r\n          me.ctrl_arr[i].beforeRX = me.ctrl_arr[i].parent.x\r\n          me.ctrl_arr[i].beforeRY = me.ctrl_arr[i].parent.y\r\n          me.ctrl_arr[i].parent.pivot.set((me.temporary_rect.centerX - me.ctrl_arr[i].parent.position.x) / 1, (me.temporary_rect.centerY - me.ctrl_arr[i].parent.position.y) / 1)\r\n          me.ctrl_arr[i].parent.x = me.temporary_rect.centerX\r\n          me.ctrl_arr[i].parent.y = me.temporary_rect.centerY\r\n        }\r\n      }\r\n      // (相对位置不计算角度)\r\n      me.temporary_rect.pivot.set((me.temporary_rect.width / 2) / me.temporary_rect.scale.x, (me.temporary_rect.height / 2) / me.temporary_rect.scale.y)\r\n      me.temporary_rect.x = me.temporary_rect.centerX\r\n      me.temporary_rect.y = me.temporary_rect.centerY\r\n      me.can_rotate = 1\r\n      me = null\r\n    },\r\n    onTRotateMove: function (event) {\r\n      let me = this\r\n      if (me.can_rotate) {\r\n        let e = event.data.getLocalPosition(me.mainStage_container)\r\n        // 计算向量夹角\r\n        let a1 = {}\r\n        a1.x = 0\r\n        a1.y = -me.temporary_rect.height / 2 - me.r_btn_h\r\n        let a2 = {}\r\n        a2.x = e.x - (me.temporary_rect.centerX)\r\n        a2.y = e.y - (me.temporary_rect.centerY)\r\n        //\r\n        let cos\r\n        let numerator = a1.x * a2.x + a1.y * a2.y\r\n        let denominator = Math.sqrt(a1.x * a1.x + a1.y * a1.y) * Math.sqrt(a2.y * a2.y + a2.x * a2.x)\r\n        cos = numerator / denominator\r\n        // 反余弦值\r\n        me.tRotateOBj(Math.acos(cos), e.x)\r\n        me.$set(me, 'after_rotate', true)\r\n      }\r\n      me = null\r\n    },\r\n    tRotateOBj: function (num, x) {\r\n      let me = this\r\n      if (x - (me.temporary_rect.centerX) >= 0) {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n            me.ctrl_arr[i].rotation = num\r\n          } else {\r\n            me.ctrl_arr[i].parent.rotation = num - me.ctrl_arr[i].parent.rotation_num\r\n          }\r\n          // outLine_container.getChildByName(ctrl_arr[i].name).rotation = num- ctrl_arr[i].parent.rotation_num;\r\n        }\r\n        me.temporary_rect.rotation = num\r\n        me.outLine_container.getChildByName(me.temporary_rect.name).rotation = num\r\n        // outLine_container.getChildByName(temporary_rect.name).rotation = num;\r\n      } else {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n            me.ctrl_arr[i].rotation = -num\r\n          } else {\r\n            me.ctrl_arr[i].parent.rotation = -num - me.ctrl_arr[i].parent.rotation_num\r\n          }\r\n          // outLine_container.getChildByName(ctrl_arr[i].name).rotation = -num-ctrl_arr[i].parent.rotation_num;\r\n        }\r\n        me.temporary_rect.rotation = -num\r\n        me.outLine_container.getChildByName(me.temporary_rect.name).rotation = -num\r\n        // outLine_container.getChildByName(temporary_rect.name).rotation = -num;\r\n      }\r\n      // outLine_container.getChildByName(temporary_rect.name).getChildByName('line').alpha=0;\r\n      me = null\r\n    },\r\n    onTRotateEnd: function () {\r\n      let me = this\r\n      let temporary_rect = me.temporary_rect\r\n      let ctrl_arr = me.ctrl_arr\r\n      temporary_rect.pivot.set(0)\r\n      let param1 = [-temporary_rect.width / 2, -temporary_rect.height / 2, temporary_rect.rotation]\r\n      param1 = computed_func.AFTER_ROTATE(param1)\r\n      temporary_rect.x = parseFloat(param1[0]) + (temporary_rect.centerX)\r\n      temporary_rect.y = parseFloat(param1[1]) + (temporary_rect.centerY)\r\n      me.can_rotate = 0\r\n      for (let i = 0; i < ctrl_arr.length; i++) {\r\n        if (ctrl_arr[i].type !== 'association_gap_notT') {\r\n          ctrl_arr[i].rotation_num = ctrl_arr[i].rotation + ctrl_arr[i].parent.rotation\r\n          /// /将临时组合元素恢复位置,将父级的旋转取消，本身旋转\r\n          ctrl_arr[i].parent.pivot.set(0)\r\n          let param\r\n          param = [ctrl_arr[i].beforeRX - (temporary_rect.centerX), ctrl_arr[i].beforeRY - (temporary_rect.centerY), ctrl_arr[i].parent.rotation]\r\n          param = computed_func.AFTER_ROTATE(param)\r\n          ctrl_arr[i].parent.x = parseFloat(param[0]) + (temporary_rect.centerX)\r\n          ctrl_arr[i].parent.y = parseFloat(param[1]) + (temporary_rect.centerY)\r\n          ctrl_arr[i].parent.rotation_num += ctrl_arr[i].parent.rotation // 记录父级旋转的角度，\r\n          ctrl_arr[i].parent.rotation = 0\r\n          ctrl_arr[i].rotation = ctrl_arr[i].rotation_num\r\n        } else if (ctrl_arr[i].type == 'association_gap_notT') {\r\n          ctrl_arr[i].pivot.set(0)\r\n          let param2\r\n          param2 = [ctrl_arr[i].beforeRX - (temporary_rect.centerX), ctrl_arr[i].beforeRY - (temporary_rect.centerY), ctrl_arr[i].rotation - ctrl_arr[i].rotation_num]\r\n          param2 = computed_func.AFTER_ROTATE(param2)\r\n          ctrl_arr[i].x = parseFloat(param2[0]) + (temporary_rect.centerX)\r\n          ctrl_arr[i].y = parseFloat(param2[1]) + (temporary_rect.centerY)\r\n          ctrl_arr[i].rotation_num = ctrl_arr[i].rotation\r\n          setTimeout(function () {\r\n            ctrl_arr[i].centerX = (ctrl_arr[i].vertexData[0] + ctrl_arr[i].vertexData[6]) / 2 - (me.window_w - me.canvas_width) / 2\r\n            ctrl_arr[i].centerY = (ctrl_arr[i].vertexData[1] + ctrl_arr[i].vertexData[7]) / 2 - (me.window_h - me.canvas_height) / 2\r\n          }, 50)\r\n        }\r\n      }\r\n      // 渲染边框\r\n      setTimeout(function () {\r\n        me.renderTLine(true)\r\n      }, 130)\r\n      // 存储进活动日志\r\n      me.pushActiveLog()\r\n      // me = null\r\n    },\r\n    onAssociationStart: function (event, right = false, lock = false) {\r\n      const me = this\r\n      if (me.key_ctrlf.isDown && !me.key_ctrlf.isUp) {\r\n        me.onDragStart(event)\r\n      } else {\r\n        me.clearTemporary()\r\n        me.addACtrlarr(event.target.association_name)\r\n        if (event.target.lock) {\r\n          lock = true\r\n          right = true\r\n        }\r\n        if (!right) me.ctrlDeviation(event.data, false)\r\n        // 添加组合边框给组合矩形加按钮,不渲染临时边框\r\n        me.renderTLine(false, true, event.target.association_name, lock)\r\n      }\r\n    },\r\n    onAScaleStart: function (event) {\r\n      const me = this\r\n      me.can_scale = 1\r\n      let ctrl_arr_pivot = []\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].oScale = me.ctrl_arr[i].scale.x\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          event.target.pivotX = me.ctrl_arr[i].centerX\r\n          event.target.pivotY = me.ctrl_arr[i].centerY\r\n          event.target.association_rectX = me.ctrl_arr[i].x\r\n          event.target.association_rectY = me.ctrl_arr[i].y\r\n          event.target.owidth = me.ctrl_arr[i].width\r\n          event.target.oheight = me.ctrl_arr[i].height\r\n          // 充数用的\r\n          ctrl_arr_pivot.push({\r\n            index: i,\r\n            x: me.ctrl_arr[i].position.x,\r\n            y: me.ctrl_arr[i].position.y\r\n          })\r\n        } else {\r\n          if (me.ctrl_arr[i].type == 'text') { }\r\n          ctrl_arr_pivot.push({\r\n            index: i,\r\n            x: me.ctrl_arr[i].parent.position.x,\r\n            y: me.ctrl_arr[i].parent.position.y\r\n          })\r\n        }\r\n      };\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type == 'text') {\r\n          let num = me.ctrl_arr[i].width / me.ctrl_arr[i].style.fontSize\r\n          me.ctrl_arr[i].text_num = num\r\n          me.ctrl_arr[i].ratio = event.target.owidth / me.ctrl_arr[i].width\r\n        }\r\n      }\r\n      event.target.ctrl_arr_pivot = ctrl_arr_pivot\r\n    },\r\n    onAScaleMove: function (btn, event) {\r\n      const me = this\r\n      if (me.can_scale) {\r\n        var e = event.data.getLocalPosition(me.mainStage_container)\r\n        // 目前拉伸的到原点连线的长度\r\n        var n = computed_func.LENGTH_SIZE({\r\n          x: btn.pivotX,\r\n          y: btn.pivotY\r\n        }, e)\r\n        // 计算缩放值，并改变元素移动边框和icon\r\n        me.aScaleAll(n, btn)\r\n        me.$set(me, 'after_scale', true)\r\n      }\r\n    },\r\n    aScaleAll: function (n, that) {\r\n      const me = this\r\n      if (n <= 0) {\r\n        return\r\n      }\r\n      // x1 x2为原始拉伸对象的长宽\r\n      var x1,\r\n        x2\r\n      x1 = that.owidth / 2\r\n      x2 = that.oheight / 2\r\n      let original_scale = Math.sqrt(x1 * x1 + x2 * x2)\r\n      let scale = n / original_scale\r\n      if (scale <= 0.1) {\r\n        scale = 0.1\r\n      }\r\n      let ass_width = 0\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          me.ctrl_arr[i].scale.set(scale * me.ctrl_arr[i].oScale)\r\n          me.ctrl_arr[i].x = that.pivotX - (that.pivotX - that.association_rectX) * scale\r\n          me.ctrl_arr[i].y = that.pivotY - (that.pivotY - that.association_rectY) * scale\r\n          me.moveIcon(me.ctrl_arr[i])\r\n          ass_width = me.ctrl_arr[i].width\r\n        } else if (me.ctrl_arr[i].type !== 'text') {\r\n          if (me.ctrl_arr[i].svg) {\r\n            me.ctrl_arr[i].scale.set(scale)\r\n          } else {\r\n            me.ctrl_arr[i].scale.set(scale * me.ctrl_arr[i].oScale)\r\n          }\r\n          me.ctrl_arr[i].parent.x = that.pivotX - (that.pivotX - that.ctrl_arr_pivot[i].x) * scale\r\n          me.ctrl_arr[i].parent.y = that.pivotY - (that.pivotY - that.ctrl_arr_pivot[i].y) * scale\r\n        }\r\n      }\r\n      for (let k = 0; k < me.ctrl_arr.length; k++) {\r\n        if (me.ctrl_arr[k].type == 'text') {\r\n          // let fs = ass_width / me.ctrl_arr[k].ratio / me.ctrl_arr[k].text_num\r\n          // me.ctrl_arr[k].style.wordWrapWidth = me.ctrl_arr[k].text_num * fs\r\n          // if (me.ctrl_arr[k].style.fontStyle == 'normal') {\r\n          //   me.ctrl_arr[k].style.wordWrapWidth += fs * 0.2\r\n          // }\r\n          // me.ctrl_arr[k].style.fontSize = fs;\r\n          // me.$set(me.edit_bar.text, 'fontSize', fs)\r\n          // me.ctrl_arr[k].style.lineHeight = me.ctrl_arr[k].style.fontSize + me.ctrl_arr[k].lineHeightM;\r\n          // \r\n          let fs = me.ctrl_arr[k].ofonts * scale\r\n          me.ctrl_arr[k].style.wordWrapWidth = (fs + me.ctrl_arr[k].style.letterSpacing) * me.ctrl_arr[k].text_num\r\n          me.ctrl_arr[k].style.fontSize = fs\r\n          me.$set(me.edit_bar.text, 'fontSize', fs)\r\n          me.ctrl_arr[k].style.lineHeight = me.ctrl_arr[k].style.fontSize + me.ctrl_arr[k].lineHeightM\r\n\r\n          me.ctrl_arr[k].parent.x = that.pivotX - (that.pivotX - that.ctrl_arr_pivot[k].x) * scale\r\n          me.ctrl_arr[k].parent.y = that.pivotY - (that.pivotY - that.ctrl_arr_pivot[k].y) * scale\r\n        }\r\n      }\r\n    },\r\n    onAScaleEnd: function () {\r\n      const me = this\r\n      me.can_scale = 0\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type == 'text') {\r\n          me.scaleTextEnd(me.ctrl_arr[i])\r\n        } else if (me.ctrl_arr[i].svg) {\r\n          me.updateSvgScale(me.ctrl_arr[i])\r\n        }\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          me.ctrl_arr[i].change = true\r\n          me.changeAssociation(me.ctrl_arr[i])\r\n          setTimeout(function () {\r\n            me.renderTLine(false, true, me.ctrl_arr[i].association_name)\r\n          }, 150)\r\n        }\r\n      }\r\n      // 存储进活动日志\r\n      me.pushActiveLog()\r\n    },\r\n    onARotateStart: function (event = null) {\r\n      const me = this\r\n      // 组合旋转\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].dragging = false\r\n        me.ctrl_arr[i].data = null\r\n        // 元素线框,旋转后直接重新渲染线框，所以结束时不用恢复pivot\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          // 更新矩形中心点\r\n          me.ctrl_arr[i].centerX = (me.ctrl_arr[i].vertexData[0] + me.ctrl_arr[i].vertexData[6]) / 2 - (me.window_w - me.canvas_width) / 2\r\n          me.ctrl_arr[i].centerY = (me.ctrl_arr[i].vertexData[1] + me.ctrl_arr[i].vertexData[7]) / 2 - (me.window_h - me.canvas_height) / 2\r\n          me.ctrl_arr[i].beforeRX = me.ctrl_arr[i].x\r\n          me.ctrl_arr[i].beforeRY = me.ctrl_arr[i].y\r\n          me.ctrl_arr[i].pivot.set((me.ctrl_arr[i].width / 2) / me.ctrl_arr[i].scale.x, (me.ctrl_arr[i].height / 2) / me.ctrl_arr[i].scale.y)\r\n          me.ctrl_arr[i].x = me.ctrl_arr[i].centerX\r\n          me.ctrl_arr[i].y = me.ctrl_arr[i].centerY\r\n          // 更多数据\r\n          me.ass_r_data.associationH = me.ctrl_arr[i].height\r\n          me.ass_r_data.association_centerX = me.ctrl_arr[i].centerX\r\n          me.ass_r_data.association_centerY = me.ctrl_arr[i].centerY\r\n          me.ass_r_data.association_name = me.ctrl_arr[i].association_name\r\n        }\r\n      }\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type !== 'association_gap_notT') {\r\n          me.ctrl_arr[i].beforeRX = me.ctrl_arr[i].parent.x\r\n          me.ctrl_arr[i].beforeRY = me.ctrl_arr[i].parent.y\r\n          me.ctrl_arr[i].parent.pivot.set((me.ass_r_data.association_centerX - me.ctrl_arr[i].parent.position.x) / 1, (me.ass_r_data.association_centerY - me.ctrl_arr[i].parent.position.y) / 1)\r\n          me.ctrl_arr[i].parent.x = me.ass_r_data.association_centerX\r\n          me.ctrl_arr[i].parent.y = me.ass_r_data.association_centerY\r\n        }\r\n      }\r\n      me.can_rotate = 1\r\n    },\r\n    onARotateMove: function (event = null) {\r\n      const me = this\r\n      if (me.can_rotate) {\r\n        let e = event.data.getLocalPosition(me.mainStage_container)\r\n        // 计算向量夹角\r\n        let a1 = {}\r\n        a1.x = 0\r\n        a1.y = -me.ass_r_data.associationH / 2 - me.r_btn_h\r\n\r\n        let a2 = {}\r\n        a2.x = e.x - (me.ass_r_data.association_centerX)\r\n        a2.y = e.y - (me.ass_r_data.association_centerY)\r\n        //\r\n        let cos\r\n        let numerator = a1.x * a2.x + a1.y * a2.y\r\n        let denominator = Math.sqrt(a1.x * a1.x + a1.y * a1.y) * Math.sqrt(a2.y * a2.y + a2.x * a2.x)\r\n        cos = numerator / denominator\r\n        // 反余弦值\r\n        me.aRotateOBj(Math.acos(cos), e.x, me.ass_r_data.association_centerX)\r\n        me.$set(me, 'after_rotate', true)\r\n      }\r\n    },\r\n    aRotateOBj: function (num, x, centerX) {\r\n      const me = this\r\n      if (x - (centerX) >= 0) {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n            me.ctrl_arr[i].rotation = num\r\n            me.outLine_container.getChildByName(me.ctrl_arr[i].name).rotation = num\r\n          } else {\r\n            me.ctrl_arr[i].parent.rotation = num\r\n          }\r\n        }\r\n      } else {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n            me.ctrl_arr[i].rotation = -num\r\n            me.outLine_container.getChildByName(me.ctrl_arr[i].name).rotation = -num\r\n          } else {\r\n            me.ctrl_arr[i].parent.rotation = -num\r\n          }\r\n        }\r\n      }\r\n    },\r\n    onARotateEnd: function () {\r\n      const me = this\r\n      me.can_rotate = 0\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type !== 'association_gap_notT') {\r\n          me.ctrl_arr[i].rotation_num = me.ctrl_arr[i].rotation + me.ctrl_arr[i].parent.rotation\r\n          /// /将临时组合元素恢复位置,将父级的旋转取消，本身旋转\r\n          me.ctrl_arr[i].parent.pivot.set(0)\r\n          let param\r\n          param = [me.ctrl_arr[i].beforeRX - (me.ass_r_data.association_centerX), me.ctrl_arr[i].beforeRY - (me.ass_r_data.association_centerY), me.ctrl_arr[i].parent.rotation]\r\n          param = computed_func.AFTER_ROTATE(param)\r\n          me.ctrl_arr[i].parent.x = parseFloat(param[0]) + (me.ass_r_data.association_centerX)\r\n          me.ctrl_arr[i].parent.y = parseFloat(param[1]) + (me.ass_r_data.association_centerY)\r\n          // me.ctrl_arr[i].parent.rotation_num += me.ctrl_arr[i].parent.rotation; //记录父级旋转的角度，\r\n          me.ctrl_arr[i].parent.rotation = 0\r\n          me.ctrl_arr[i].rotation = me.ctrl_arr[i].rotation_num\r\n        } else if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          me.ctrl_arr[i].pivot.set(0)\r\n          let param2\r\n          param2 = [-me.ctrl_arr[i].width / 2, -me.ctrl_arr[i].height / 2, me.ctrl_arr[i].rotation]\r\n          param2 = computed_func.AFTER_ROTATE(param2)\r\n          me.ctrl_arr[i].x = parseFloat(param2[0]) + (me.ass_r_data.association_centerX)\r\n          me.ctrl_arr[i].y = parseFloat(param2[1]) + (me.ass_r_data.association_centerY)\r\n          me.ctrl_arr[i].rotation_num = me.ctrl_arr[i].rotation\r\n        }\r\n      }\r\n      // 渲染边框\r\n      me.forChangeAssociation()\r\n      setTimeout(() => {\r\n        me.renderTLine(false, true, me.ass_r_data.association_name)\r\n      }, 100)\r\n      // 存储进活动日志\r\n      me.pushActiveLog()\r\n    },\r\n    forChangeAssociation: function (ass_id = undefined) {\r\n      const me = this\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          if (ass_id == undefined || ass_id == me.ctrl_arr[i].association_name) {\r\n            me.ctrl_arr[i].change = true\r\n            me.changeAssociation(me.ctrl_arr[i])\r\n            break\r\n          }\r\n        }\r\n      }\r\n    },\r\n    updateSvgScale: function (obj) {\r\n      let me = this\r\n      let src = obj.texture.baseTexture.resource.svg\r\n      let res = new me.mypixi.resources.SVGResource(src, { scale: obj.scale.x * obj.texture.baseTexture.resource.scale, autoLoad: true })\r\n      res.load().then(function () {\r\n        obj.texture.baseTexture.destroy()\r\n        obj.texture.baseTexture.setResource(res)\r\n        obj.texture.baseTexture.update()\r\n        obj.scale.set(1)\r\n      })\r\n      me = null\r\n    },\r\n    scaleTextEnd: function (text) {\r\n      // const me = this\r\n      // text.style.wordWrapWidth = text.width;\r\n      text.ofonts = text.style.fontSize\r\n      text.originalw = text.width\r\n      text.originalh = text.height\r\n      // 存储进活动日志\r\n      // me.pushActiveLog()\r\n    },\r\n    ctrlDeviation: function (data, t_r, tem_move = true) {\r\n      let me = this\r\n      me.in_move = null\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        me.ctrl_arr[i].data = data\r\n        me.ctrl_arr[i].dragging = tem_move\r\n        // 偏差值，鼠标点击目标任何位置移动都不会闪烁\r\n        let newPosition = me.ctrl_arr[i].data.getLocalPosition(me.mainStage_container)\r\n        if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n          me.ctrl_arr[i].deviationX = newPosition.x - me.ctrl_arr[i].x\r\n          me.ctrl_arr[i].deviationY = newPosition.y - me.ctrl_arr[i].y\r\n          me.showEdit('association')\r\n        } else {\r\n          me.ctrl_arr[i].deviationX = newPosition.x - me.ctrl_arr[i].parent.x\r\n          me.ctrl_arr[i].deviationY = newPosition.y - me.ctrl_arr[i].parent.y\r\n        }\r\n      }\r\n      // 临时组合矩形\r\n      if (t_r) {\r\n        me.temporary_rect.data = data\r\n        me.temporary_rect.dragging = tem_move\r\n        let newPosition1 = me.temporary_rect.data.getLocalPosition(me.mainStage_container)\r\n        me.temporary_rect.deviationX = newPosition1.x - me.temporary_rect.x\r\n        me.temporary_rect.deviationY = newPosition1.y - me.temporary_rect.y\r\n        me.showEdit('temporary')\r\n      }\r\n      me = null\r\n    },\r\n    moveIcon: function (obj) {\r\n      let me = this\r\n      me.outLine_container.getChildByName(obj.name).getChildByName('scale-btn').position.set(obj.width / 2, -obj.height / 2)\r\n      me.outLine_container.getChildByName(obj.name).getChildByName('rotate-btn').position.set(0, (-obj.height / 2) - me.r_btn_h)\r\n      if (obj.type == 'text') {\r\n        me.outLine_container.getChildByName(me.in_move.name).getChildByName('stretch-btn').position.set(me.in_move.width / 2, 0)\r\n      }\r\n      me = null\r\n    },\r\n    aSingleClick: function (that, data) {\r\n      // 单机组合中的元素\r\n      let me = this\r\n      me.in_move = that\r\n      if (!me.in_move.lock) {\r\n        that.data = data\r\n        that.dragging = true\r\n        // 偏差值，鼠标点击目标任何位置移动都不会闪烁\r\n        let newPosition = that.data.getLocalPosition(me.mainStage_container)\r\n        that.deviationX = newPosition.x - that.parent.x\r\n        that.deviationY = newPosition.y - that.parent.y\r\n        // 组合内的元素不能上下层级移动\r\n        // 组合空白矩形\r\n        if (me.ctrl_arr) me.ctrl_arr.length = 0\r\n        me.addACtrlarr(me.in_move.association_name)\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT' && me.ctrl_arr[i].association_name == that.association_name) {\r\n            // 矩形变化方法\r\n            me.ctrl_arr[i].data = data\r\n            // 加边框和改变矩形方法\r\n            me.aSingleClickBorder(me.ctrl_arr[i].association_name)\r\n            break\r\n          }\r\n        }\r\n        if (me.in_move.type == 'image') {\r\n          me.showEdit('image_in')\r\n        } else if (me.in_move.type == 'text') {\r\n          me.showEdit('text_in')\r\n        }\r\n      }\r\n      me = null\r\n    },\r\n    aSingleClickBorder: function (ass_name) {\r\n      let me = this\r\n      me.$nextTick(() => {\r\n        me.removeLine()\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT' && me.ctrl_arr[i].association_name == ass_name) {\r\n            me.ctrl_arr[i].change = true\r\n            me.changeAssociation(me.ctrl_arr[i])\r\n            // 加边框\r\n            me.createBorder(me.ctrl_arr[i], true, true, false)\r\n          } else if (me.ctrl_arr[i].name == me.in_move.name) {\r\n            me.createBorder(me.ctrl_arr[i], false, false)\r\n          } else { }\r\n        }\r\n        me = null\r\n      })\r\n    }\r\n  }\r\n}","import _ from 'lodash'\r\nimport axios from 'axios'\r\nexport default {\r\n  methods: {\r\n    renderTemplate: function (firstLoad = false) {\r\n      const me = this\r\n      let data = me.render_data\r\n      // me.p_app.stage.children[1].removeChildren()\r\n      me.$set(me, 'container_arr', [])\r\n      me.$set(me, 'in_move', null)\r\n      me.$set(me, 'ctrl_arr', [])\r\n      me.$set(me, 'temporary_rect', null)\r\n      // 获取数据，先渲染图片和文字，再对相应的组合进行渲染\r\n      // 收集模版中每个模块的首要组合的资源进入缓存\r\n      let img_src = []\r\n      let font_family = {} // 文字字体集合\r\n      for (let i = 0; i < data.length; i++) {\r\n        for (let k = 0; k < data[i].children[0].ass_children.length; k++) {\r\n          if (\r\n            data[i].children[0].ass_children[k].type == 'image' ||\r\n            data[i].children[0].ass_children[k].type == 'svg'\r\n          ) {\r\n            let src_from = data[i].children[0].ass_children[k].src\r\n            if (data[i].children[0].ass_children[k].role == 'logo' && firstLoad) { me.$set(me.tempRoleMsg, 'logo', (me.tempRoleMsg['logo'] += 1)) }\r\n            if (data[i].children[0].ass_children[k].role == 'main' && firstLoad) { me.$set(me.tempRoleMsg, 'main', (me.tempRoleMsg['main'] += 1)) }\r\n            if (data[i].children[0].ass_children[k].role == 'arc_titleImg') {\r\n              // 获取弧形文字装饰的参数\r\n              // console.log(`弧形装饰${data[i].children[0].ass_children[k]}`)\r\n              me.$set(\r\n                me.arc_obj,\r\n                'arc_titleImg',\r\n                data[i].children[0].ass_children[k]\r\n              )\r\n            }\r\n            if (data[i].children[0].ass_children[k].role == 'arc_subtitleImg') {\r\n              // 获取弧形文字装饰的参数\r\n              // console.log(`弧形装饰${data[i].children[0].ass_children[k]}`)\r\n              me.$set(\r\n                me.arc_obj,\r\n                'arc_subtitleImg',\r\n                data[i].children[0].ass_children[k]\r\n              )\r\n            }\r\n            if (!me.p_app.loader.resources[src_from]) {\r\n              img_src.push(src_from)\r\n            }\r\n          }\r\n          // 获取模板中的字体，进行加载\r\n          if (data[i].children[0].ass_children[k].type == 'text' && !me.defaultTextFamily.includes(data[i].children[0].ass_children[k].style.fontFamily)) {\r\n            let thistext_obj = data[i].children[0].ass_children[k]\r\n            font_family[`${thistext_obj.style.fontFamily}`] =\r\n              (font_family[`${thistext_obj.style.fontFamily}`] ? font_family[`${thistext_obj.style.fontFamily}`] : '') +\r\n              thistext_obj.text\r\n          }\r\n        }\r\n      }\r\n      if (Object.keys(font_family).length === 0 || !firstLoad) {\r\n        img_src = Array.from(new Set(img_src))\r\n        me.p_app.loader\r\n          .add(img_src, {\r\n            crossOrigin: 'Anonymous'\r\n          })\r\n          .load(function () {\r\n            me.afterLoad(data, firstLoad)\r\n          })\r\n      } else {\r\n        me.getfontFamilyBack(font_family).then(() => {\r\n          setTimeout(() => {\r\n            // 字体加载完毕回调\r\n            img_src = Array.from(new Set(img_src))\r\n            me.p_app.loader\r\n              .add(img_src, {\r\n                crossOrigin: 'Anonymous'\r\n              })\r\n              .load(function () {\r\n                me.afterLoad(data, firstLoad)\r\n              })\r\n          }, 300)\r\n        })\r\n      }\r\n    },\r\n    fontPost: function (data) {\r\n      const me = this\r\n      let postD = {\r\n        user_id: me.user_data.id,\r\n        font_name: data.font_name,\r\n        text: data.text\r\n      }\r\n      // 压缩字体接口函数\r\n      return axios({\r\n        method: 'post',\r\n        url: me.api.cutFont,\r\n        data: postD\r\n      })\r\n    },\r\n    getAllfontFamily: function (font_family) {\r\n      const me = this\r\n      let allArr = []\r\n      for (let key in font_family) {\r\n        if (!me.defaultTextFamily.includes(key)) {\r\n          allArr.push(\r\n            me.fontPost({\r\n              font_name: `${key}`,\r\n              text: font_family[key]\r\n            })\r\n          )\r\n        }\r\n      }\r\n      return axios.all(allArr)\r\n    },\r\n    afterLoad: function (data, firstLoad) {\r\n      const me = this\r\n      for (let i = 0; i < data.length; i++) {\r\n        for (let k = 0; k < data[i].children[0].ass_children.length; k++) {\r\n          let element_data = data[i].children[0].ass_children[k]\r\n          element_data.association_id = data[i].children[0].association_id\r\n          if (\r\n            data[i].children[0].ass_children[k].type == 'image' ||\r\n            data[i].children[0].ass_children[k].type == 'svg'\r\n          ) {\r\n            // 增加图片父级，添加图片并设置图片\r\n            me.newContainer(element_data, true)\r\n          } else if (data[i].children[0].ass_children[k].type == 'text') {\r\n            // if (element_data.role == 'title' && me.changeTitle !== '') element_data.text = me.changeTitle\r\n            // if (element_data.role == 'subtitle' && me.changeSubtitle !== '') element_data.text = me.changeSubtitle\r\n            if (element_data.role == 'title') { me.$set(me.tempRoleMsg, 'title', (me.tempRoleMsg['title'] += 1)) }\r\n            if (element_data.role == 'subtitle') {\r\n              me.$set(\r\n                me.tempRoleMsg,\r\n                'subtitle',\r\n                (me.tempRoleMsg['subtitle'] += 1)\r\n              )\r\n            }\r\n            // 弧形文字↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓↓ 只是记录数据\r\n            if (\r\n              element_data.role == 'arc_title' ||\r\n              element_data.role == 'arc_subtitle'\r\n            ) { me.$set(me.arc_obj, element_data.role, element_data) }\r\n            if (\r\n              me.user_type == 'client' &&\r\n              (element_data.role == 'arc_title' ||\r\n                element_data.role == 'arc_subtitle')\r\n            ) {\r\n              // 用户编辑状态，渲染弧形文字\r\n            } else {\r\n              // 弧形文字↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑↑\r\n              me.newContainerText(element_data, true)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // 判断有没有弧形文字，渲染弧形文字******************************************************************************************************************************\r\n      if (\r\n        me.arc_obj.arc_title &&\r\n        me.arc_obj.arc_titleImg &&\r\n        me.user_type == 'client'\r\n      ) {\r\n        let wordArr = me.arc_obj.arc_title.text.split('')\r\n        let textReplace = typeof (me.arc_obj.arc_title.textReplace) === 'number' ? me.arc_obj.arc_title.textReplace : null\r\n        me.renderARC('arc_title', wordArr, textReplace)\r\n      }\r\n      if (\r\n        me.arc_obj.arc_subtitle &&\r\n        me.arc_obj.arc_subtitleImg &&\r\n        me.user_type == 'client'\r\n      ) {\r\n        let wordArr = me.arc_obj.arc_subtitle.text.split('')\r\n        let textReplace = typeof (me.arc_obj.arc_subtitle.textReplace) === 'number' ? me.arc_obj.arc_subtitle.textReplace : null\r\n        me.renderARC('arc_subtitle', wordArr, textReplace)\r\n      }\r\n      // 判断有没有弧形文字，渲染弧形文字********************************************************************************************************************************\r\n      me.renderStage()\r\n      // 渲染组合矩形\r\n      let ass_arr_obj = {}\r\n      for (let j = 0; j < me.container_arr.length; j++) {\r\n        if (me.container_arr[j].cont.children[0].association_name !== '') {\r\n          let ass_id = me.container_arr[j].cont.children[0].association_name\r\n          if (ass_arr_obj[ass_id]) {\r\n          } else {\r\n            ass_arr_obj[ass_id] = []\r\n          }\r\n          ass_arr_obj[ass_id].push(me.container_arr[j].cont.children[0])\r\n        }\r\n      }\r\n      let keys_arr = Object.keys(ass_arr_obj)\r\n      if (keys_arr.length > 0) {\r\n        for (let l = 0; l < keys_arr.length; l++) {\r\n          let key = keys_arr[l]\r\n          me.ctrl_arr = ass_arr_obj[key]\r\n          me.createAssociation(key, ass_arr_obj[key][0].m_comp_name, true)\r\n        }\r\n        me.renderStage()\r\n      }\r\n      // 渲染组合矩形\r\n      if (firstLoad) {\r\n        console.log('渲染模板')\r\n        // 存储进活动日志\r\n        me.pushActiveLog(true)\r\n        me.fullscreenLoading = false\r\n        // setTimeout(() => {\r\n        //   if (me.user_type == 'render') {\r\n        //     me.saveMould(me.mould_name, '', false)\r\n        //   }\r\n        // }, 20)\r\n      }\r\n      if (me.ctrl_arr) me.ctrl_arr.length = 0\r\n      me.updateLayer()\r\n    },\r\n    renderStage: function () {\r\n      const me = this\r\n      me.p_app.stage.children[1].removeChildren()\r\n      //\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        // 按顺序渲染容器\r\n        me.mainStage_container.addChild(me.container_arr[i].cont)\r\n        // me.container_arr[i].cont.buttonMode = false\r\n      }\r\n      // 增加按钮线框容器\r\n      me.outLine()\r\n      // me.p_app.renderer.render(me.p_app.stage);\r\n      me.p_app.stage.interactive = true\r\n      me.p_app.stage.hitArea = null\r\n      me.p_app.stage.hitArea = new me.mypixi.Rectangle(0, 0, me.window_w, me.window_h)\r\n      console.log('渲染舞台完毕')\r\n    },\r\n    addCancleRect: function () {\r\n      const me = this\r\n      // 创建矩形\r\n      let rectangle = new me.mypixi.Graphics()\r\n      rectangle.interactive = true\r\n      rectangle.width = me.window_w\r\n      rectangle.height = me.window_h\r\n      rectangle.beginFill(0xff3300)\r\n      rectangle.alpha = 0\r\n      rectangle.drawRect(0, 0, me.window_w, me.window_h)\r\n      rectangle.endFill()\r\n      rectangle.name = 'cancel_block'\r\n      rectangle.rotation_num = 0\r\n      rectangle.x = -(me.window_w - me.canvas_width) / 2\r\n      rectangle.y = -(me.window_h - me.canvas_height) / 2\r\n      // 监听事件\r\n      rectangle.on('click', me.cancelInMove)\r\n      let cancleStage = new me.mypixi.Container()\r\n      cancleStage.width = me.canvas_width\r\n      cancleStage.height = me.canvas_height\r\n      cancleStage.position.set((me.window_w - me.canvas_width) / 2, (me.window_h - me.canvas_height) / 2)\r\n      cancleStage.accessible = true\r\n      cancleStage.addChild(rectangle)\r\n      me.p_app.stage.addChild(cancleStage)\r\n    },\r\n    outLine: function () {\r\n      const me = this\r\n      me.outLine_container = null\r\n      me.outLine_container = new me.mypixi.Container()\r\n      me.outLine_container.type = 'outLine'\r\n      me.outLine_container.name = 'outLine'\r\n      me.mainStage_container.addChild(me.outLine_container)\r\n      // me.outLine_container = container\r\n      // container = null\r\n    },\r\n    maskInit: function () {\r\n      const me = this // 遮罩\r\n      let rectangle = new me.mypixi.Graphics()\r\n      rectangle.beginFill(0xdbdbdb, 0.5)\r\n      rectangle.drawRect(0, 0, me.window_w, (me.window_h - me.canvas_height) / 2)\r\n      rectangle.endFill()\r\n      rectangle.x = 0\r\n      rectangle.y = 0\r\n      rectangle.interactive = false\r\n      me.p_app.stage.addChild(rectangle)\r\n      let rectangle1 = new me.mypixi.Graphics()\r\n      rectangle1.beginFill(0xdbdbdb, 0.5)\r\n      rectangle1.drawRect(\r\n        0,\r\n        0,\r\n        me.window_w,\r\n        (me.window_h - me.canvas_height) / 2\r\n      )\r\n      rectangle1.endFill()\r\n      rectangle1.x = 0\r\n      rectangle1.y = me.canvas_height + (me.window_h - me.canvas_height) / 2\r\n      rectangle1.interactive = false\r\n      me.p_app.stage.addChild(rectangle1)\r\n      let rectangle2 = new me.mypixi.Graphics()\r\n      rectangle2.beginFill(0xdbdbdb, 0.5)\r\n      rectangle2.drawRect(\r\n        0,\r\n        0,\r\n        (me.window_w - me.canvas_width) / 2,\r\n        me.canvas_height\r\n      )\r\n      rectangle2.endFill()\r\n      rectangle2.x = 0\r\n      rectangle2.y = (me.window_h - me.canvas_height) / 2\r\n      rectangle2.interactive = false\r\n      me.p_app.stage.addChild(rectangle2)\r\n      let rectangle3 = new me.mypixi.Graphics()\r\n      rectangle3.beginFill(0xdbdbdb, 0.5)\r\n      rectangle3.drawRect(\r\n        0,\r\n        0,\r\n        (me.window_w - me.canvas_width) / 2,\r\n        me.canvas_height\r\n      )\r\n      rectangle3.endFill()\r\n      rectangle3.x = me.canvas_width + (me.window_w - me.canvas_width) / 2\r\n      rectangle3.y = (me.window_h - me.canvas_height) / 2\r\n      rectangle3.interactive = false\r\n      me.p_app.stage.addChild(rectangle3)\r\n      rectangle3 = null\r\n      rectangle2 = null\r\n      rectangle1 = null\r\n      rectangle = null\r\n      // new Array(4).fill(null)\r\n    },\r\n    ruler: function () {\r\n      const me = this\r\n      let ruler_container = new me.mypixi.Container()\r\n      ruler_container.width = me.canvas_width\r\n      ruler_container.height = me.canvas_height\r\n      ruler_container.position.set(me.window_w / 2, me.window_h / 2)\r\n\r\n      let line = new me.mypixi.Graphics()\r\n      line.lineStyle(1, 0x827d7d, 1)\r\n      for (let i = 1; i <= me.canvas_width; i++) {\r\n        if (i % 100 == 0) {\r\n          line.moveTo(i, 0)\r\n          line.lineTo(i, -20)\r\n          let text = new me.mypixi.Text(i)\r\n          text.style.fontSize = '20px'\r\n          text.style.fill = 0x827d7d\r\n          text.x = i - me.canvas_width / 2\r\n          text.y = -35 - me.canvas_height / 2\r\n          ruler_container.addChild(text)\r\n        } else if (i % 50 == 0) {\r\n          line.moveTo(i, 0)\r\n          line.lineTo(i, -10)\r\n        } else if (i % 10 == 0) {\r\n          line.moveTo(i, 0)\r\n          line.lineTo(i, -5)\r\n        }\r\n      }\r\n      line.x = -me.canvas_width / 2\r\n      line.y = -me.canvas_height / 2\r\n\r\n      let line2 = new me.mypixi.Graphics()\r\n      line2.lineStyle(1, 0x827d7d, 1)\r\n      for (let i = 1; i <= me.canvas_height; i++) {\r\n        if (i % 100 == 0) {\r\n          line.moveTo(0, i)\r\n          line.lineTo(-20, i)\r\n          let text = new me.mypixi.Text(i)\r\n          text.style.fontSize = '20px'\r\n          text.style.fill = 0x827d7d\r\n          text.x = -45 - me.canvas_width / 2\r\n          text.y = i - me.canvas_height / 2\r\n          ruler_container.addChild(text)\r\n        } else if (i % 50 == 0) {\r\n          line.moveTo(0, i)\r\n          line.lineTo(-10, i)\r\n        } else if (i % 10 == 0) {\r\n          line.moveTo(0, i)\r\n          line.lineTo(-5, i)\r\n        }\r\n      }\r\n      line2.x = -me.canvas_width / 2\r\n      line2.y = -me.canvas_height / 2\r\n      ruler_container.addChild(line)\r\n      ruler_container.addChild(line2)\r\n      me.ruler_container = ruler_container\r\n      me.p_app.stage.addChild(ruler_container)\r\n    },\r\n    newContainer: function (set_data, render_add, func = () => { }) {\r\n      // 增加新图层新元素\r\n      const me = this\r\n      if (!me.img_loading) {\r\n        // me.cancelInMove()\r\n        set_data.type = 'image'\r\n        // set_data.file_id = set_data.file_id\r\n        set_data.id = `${set_data.id}`\r\n        me.addContainer(set_data, set_data.position)\r\n        me.loadSprite(set_data, render_add, func)\r\n      } else {\r\n        alert('已有元素再加载中')\r\n      }\r\n    },\r\n    loadSprite: function (set_data, render_add, func) {\r\n      // 加载精灵\r\n      const me = this\r\n      let my_set_data = _.cloneDeep(set_data)\r\n      let src = my_set_data.src\r\n      me.img_loading = true\r\n      let sprite\r\n      if (me.p_app.loader.resources[src]) {\r\n        if (/.svg$/.test(src)) {\r\n          me.loadSvgImg(src, sprite, my_set_data, render_add, func)\r\n        } else {\r\n          // 缓存过src的就直接新增\r\n          sprite = new me.mypixi.Sprite(me.p_app.loader.resources[src].texture)\r\n          me.addImg(sprite, my_set_data, render_add)\r\n          me.img_loading = false\r\n          func()\r\n        }\r\n      } else {\r\n        me.p_app.loader\r\n          .add(src, {\r\n            crossOrigin: 'anonymous'\r\n          })\r\n          .load(function () {\r\n            if (/.svg$/.test(src)) {\r\n              me.loadSvgImg(src, sprite, my_set_data, render_add, func)\r\n            } else {\r\n              sprite = new me.mypixi.Sprite(me.p_app.loader.resources[src].texture)\r\n              me.addImg(sprite, my_set_data, render_add)\r\n              me.img_loading = false\r\n              func()\r\n            }\r\n          })\r\n      }\r\n    },\r\n    loadSvgImg: function (src, sprite, my_set_data, render_add, func) {\r\n      const me = this\r\n      let res = new me.mypixi.resources.SVGResource(src, { scale: 1, autoLoad: true })\r\n      res.load().then(function () {\r\n        let texture = new me.mypixi.BaseTexture(res)\r\n        let texture1 = new me.mypixi.Texture(texture)\r\n        sprite = new me.mypixi.Sprite(texture1)\r\n        sprite.svg = true\r\n        me.addImg(sprite, my_set_data, render_add)\r\n        me.img_loading = false\r\n        func()\r\n      })\r\n    },\r\n    addImg: function (sprite, set_data, render_add) {\r\n      // 添加图片精灵(监听点击，有移动，拉伸功能)精灵名称和容器名称相同\r\n      const me = this\r\n      sprite.interactive = true\r\n      sprite.anchor.set(0.5)\r\n      sprite.cursor = 'grab'\r\n      sprite.name = `${set_data.id}`\r\n      sprite.file_id = set_data.file_id\r\n      sprite.type = 'image' // 精灵类型为图片\r\n      sprite.srcData = set_data.src\r\n      sprite.rotation_num = 0\r\n      sprite.originalw = sprite.width\r\n      sprite.originalh = sprite.height\r\n      sprite.position.set(0, 0)\r\n      sprite.association_name = '' // 组合名字，为空说明没有组合\r\n      sprite.m_comp_name = set_data.m_comp_name\r\n      sprite.lock = false\r\n      sprite.role = 'normal'\r\n      // 倾斜功能\r\n      if (set_data.skew) {\r\n        sprite.skew.set(set_data.skew.x, set_data.skew.y)\r\n      }\r\n      // 色相功能\r\n      if (typeof (set_data.hueNumber) === 'number') {\r\n        sprite.hueNumber = set_data.hueNumber\r\n        set_data.hueNumber *= 360\r\n        let filter = new me.mypixi.filters.ColorMatrixFilter()\r\n        filter.hue(set_data.hueNumber, true)\r\n        sprite.filters = [filter]\r\n      }\r\n      if (render_add) {\r\n        sprite.rotation = set_data.rotation\r\n        sprite.rotation_num = set_data.rotation\r\n        sprite.alpha = set_data.alpha\r\n        sprite.scale.set(set_data.scale)\r\n        sprite.association_name = set_data.association_id\r\n        sprite.role = set_data.role\r\n        // if (set_data.role.search('arc') !== -1) {\r\n        //   sprite.arc = set_data.arc\r\n        // }\r\n      }\r\n      // 监听事件\r\n      sprite\r\n        .on('rightdown', me.onRightC)\r\n        .on('mousedown', me.onDragStart)\r\n        .on('mousemove', me.onDragMove)\r\n        .on('mouseupoutside', me.onDragEnd)\r\n        .on('mouseup', me.onDragEnd)\r\n      //\r\n      //\r\n      me.container_arr[me.findCont(set_data.id)].cont.addChild(sprite)\r\n      if (!render_add) {\r\n        // me.renderStage()\r\n        me.mainStage_container.addChild(me.container_arr[me.findCont(set_data.id)].cont)\r\n        // 在图层面板增加图层\r\n        // 激活当前选中状态\r\n        me.in_move = sprite\r\n        me.containerLine(me.in_move, false, true)\r\n        me.showEdit(me.in_move.type)\r\n        // 图层面板监听\r\n      }\r\n      // sprite.off()\r\n      // sprite = null\r\n    },\r\n    addText: function (set_data, render_add, saveLog) {\r\n      const me = this\r\n      let richText = null\r\n      let style = {\r\n        fontFamily: 'default',\r\n        fontSize: 50,\r\n        lineHeight: 50,\r\n        leading: 0,\r\n        fontStyle: 'normal',\r\n        fontWeight: 'normal',\r\n        fill: '#000',\r\n        stroke: '#000',\r\n        strokeThickness: 0,\r\n        dropShadow: false,\r\n        dropShadowColor: '#000000',\r\n        dropShadowAngle: Math.PI / 6,\r\n        dropShadowBlur: 0,\r\n        dropShadowDistance: 18,\r\n        wordWrap: true,\r\n        wordWrapWidth: 400,\r\n        breakWords: true,\r\n        padding: 0,\r\n        textBaseline: 'Middle',\r\n        trim: false,\r\n        whiteSpace: 'pre'\r\n      }\r\n      if (render_add) {\r\n        richText = new me.mypixi.Text(`${set_data.text}`, set_data.style)\r\n      } else {\r\n        richText = new me.mypixi.Text(`${set_data.text}`, style)\r\n      }\r\n      richText.interactive = true\r\n      richText.anchor.set(0.5)\r\n      richText.cursor = 'grab'\r\n      richText.name = set_data.id\r\n      richText.type = 'text' // 精灵类型为文本\r\n      richText.rotation_num = 0\r\n      richText.originalw = richText.width\r\n      richText.originalh = richText.height\r\n      richText.ofonts = richText.style.fontSize\r\n      richText.position.set(0, 0)\r\n      richText.lineHeightM = richText.lineHeight - richText.fontSize\r\n      richText.association_name = '' // 组合名字，为空说明没有组合\r\n      richText.m_comp_name = set_data.m_comp_name\r\n      richText.lock = false\r\n      richText.role = 'normal'\r\n      // 倾斜功能\r\n      if (set_data.skew) {\r\n        richText.skew.set(set_data.skew.x, set_data.skew.y)\r\n      }\r\n      // 文案替换功能\r\n      if (typeof (set_data.textReplace) === 'number') {\r\n        richText.textReplace = set_data.textReplace\r\n        richText.textPosition = me.textPositionArr[set_data.textReplace]\r\n      }\r\n      // 文本倒序\r\n      if (set_data.textReverse) {\r\n        // let rtext = set_data.text.split('')\r\n        // rtext = rtext.reverse()\r\n        // richText.text = rtext.join('')\r\n        richText.textReverse = true\r\n      }\r\n      // 色相功能\r\n      if (typeof (set_data.hueNumber) === 'number') {\r\n        richText.hueNumber = set_data.hueNumber\r\n        set_data.hueNumber *= 360\r\n        let filter = new me.mypixi.filters.ColorMatrixFilter()\r\n        filter.hue(set_data.hueNumber, true)\r\n        richText.filters = [filter]\r\n      }\r\n      if (render_add) {\r\n        richText.rotation = set_data.rotation\r\n        richText.rotation_num = set_data.rotation\r\n        richText.alpha = set_data.alpha\r\n        richText.association_name = set_data.association_id\r\n        richText.ofonts = set_data.style.fontSize\r\n        richText.originalw = richText.width\r\n        richText.originalh = richText.height\r\n        richText.role = set_data.role\r\n        // if (set_data.structure && me.user_type == 'designer' && me.structure_id != '') {\r\n        //   //此处方法废弃，structure\r\n        //   richText.structure = set_data.structure\r\n        // }\r\n      }\r\n      me.container_arr[me.findCont(set_data.id)].cont.addChild(richText)\r\n      if (!saveLog) {\r\n        richText.type = 'notSave'\r\n      } else {\r\n        if (set_data.text_num) {\r\n          richText.text_num = set_data.text_num\r\n        } else {\r\n          richText.text_num = richText.width / richText.style.fontSize\r\n        }\r\n        // 监听事件\r\n        richText\r\n          .on('rightdown', me.onRightC)\r\n          .on('mousedown', me.onDragStart)\r\n          .on('mousemove', me.onDragMove)\r\n          .on('mouseupoutside', me.onDragEnd)\r\n          .on('mouseup', me.onDragEnd)\r\n        if (!render_add) {\r\n          // 新增图层逻辑，渲染模板是等所有图层挂载完毕后才统一渲染\r\n          me.mainStage_container.addChild(me.container_arr[me.findCont(set_data.id)].cont)\r\n          me.in_move = richText\r\n          me.containerLine(richText, false, true)\r\n          me.showEdit(me.in_move.type)\r\n        }\r\n      }\r\n      if (richText.role == 'arc_title') {\r\n        // 貌似要addchild或者渲染进canvas后，把对象赋值才有用\r\n        setTimeout(() => {\r\n          me.arc_obj.title_obj = richText\r\n        }, 0)\r\n        // me.$set(me.arc_obj, 'title_obj', richText)\r\n      } else if (richText.role == 'arc_subtitle') {\r\n        setTimeout(() => {\r\n          me.arc_obj.subtitle_obj = richText\r\n        }, 0)\r\n        // me.$set(me.arc_obj, 'subtitle_obj', richText)\r\n      }\r\n      set_data = null\r\n      style = null\r\n      richText.off()\r\n      richText = null\r\n      //* ********\r\n    },\r\n    addContainer: function (\r\n      set_data,\r\n      position = { x: this.canvas_width / 2, y: this.canvas_height / 2 }\r\n    ) {\r\n      const me = this\r\n      let container = new me.mypixi.Container()\r\n      container.width = me.canvas_width\r\n      container.height = me.canvas_height\r\n      container.position.set(position.x, position.y)\r\n      // container.name = `${set_data.id}_c`;\r\n      container.type = `${set_data.type}_c`\r\n      container.rotation_num = 0\r\n      // 按素材模块分类加入，找到此模块中元素的最高层级，在其后面加入\r\n      me.containerArrAdd(set_data.m_comp_name, container, set_data.id)\r\n      container = null\r\n    },\r\n    newContainerText: function (set_data, render_add, saveLog = true) {\r\n      const me = this\r\n      set_data.type = 'text'\r\n      // let time = new Date().getTime()\r\n      set_data.id = `${set_data.id}`\r\n      me.addContainer(set_data, set_data.position)\r\n      me.addText(set_data, render_add, saveLog)\r\n      set_data = null\r\n    },\r\n    containerArrAdd: function (m_comp_name, container, id) {\r\n      const me = this\r\n      let final_index = me.findFinalIndex(m_comp_name)\r\n      // 相同模块中最后一个元素的index\r\n      let arr1 = []\r\n      let arr2 = [\r\n        {\r\n          cont: container,\r\n          index: 0,\r\n          name: id,\r\n          m_comp_name: m_comp_name\r\n        }\r\n      ]\r\n      let arr3 = []\r\n      if (\r\n        final_index == me.container_arr.length - 1 ||\r\n        (final_index == 0 && me.container_arr.length == 0)\r\n      ) {\r\n        me.container_arr = [...me.container_arr, ...arr2]\r\n      } else {\r\n        for (let i = 0; i < me.container_arr.length; i++) {\r\n          if (i <= final_index) {\r\n            arr1.push(me.container_arr[i])\r\n          } else if (i > final_index) {\r\n            arr3.push(me.container_arr[i])\r\n          }\r\n        }\r\n        me.container_arr = [...arr1, ...arr2, ...arr3]\r\n      }\r\n      me.sortContainerArr(true)\r\n    },\r\n    sortContainerArr: function (clear_rotation) {\r\n      const me = this\r\n      // 将数组容器里的index排序\r\n      me.container_arr.map(function (value, index, array) {\r\n        value.index = index\r\n        if (\r\n          clear_rotation &&\r\n          (value.cont.type == 'image_c' || value.cont.type == 'text_c')\r\n        ) {\r\n          value.cont.rotation_num = 0\r\n        }\r\n      })\r\n    },\r\n    containerLine: function (obj, t_a, remove, a_r_btn = false, lock = false) {\r\n      // 增加边框的方法\r\n      // t_a用于判断是否是组合对象或者临时组合，是否添加按钮\r\n      // remove是在主container中清除边框图层\r\n      // a_r_btn是组合的按钮\r\n      // lock是否锁定\r\n      const me = this\r\n      if (remove) {\r\n        me.removeLine()\r\n        // 增加按钮线框容器\r\n        me.outLine()\r\n      }\r\n      me.createBorder(obj, t_a, a_r_btn, !lock)\r\n    },\r\n    createBorder: function (obj, t_a, a_r_btn, show_btn = true) {\r\n      let me = this\r\n      // dash是虚线空隙\r\n      let sprite_Border = new me.mypixi.Container()\r\n      sprite_Border.width = me.canvas_width\r\n      sprite_Border.height = me.canvas_height\r\n      if (obj.type == 'association_gap' || obj.type == 'association_gap_notT') {\r\n        // 是组合空白区域或者临时组合的\r\n        sprite_Border.position.set(obj.centerX, obj.centerY)\r\n      } else {\r\n        sprite_Border.position.set(obj.parent.position.x, obj.parent.position.y)\r\n      }\r\n      sprite_Border.pivot.set(0, 0)\r\n      sprite_Border.type = 'outLine_child'\r\n      sprite_Border.name = obj.name\r\n\r\n      // 参数为边框按钮容器对象和选中元素对象\r\n      if (t_a && show_btn) {\r\n        if (obj.type == 'association_gap' || obj.type == 'association_gap_notT') {\r\n          // 临时组合的缩放选择按钮\r\n          if (obj.type == 'association_gap_notT' && a_r_btn) {\r\n            me.addScaleIcon(sprite_Border, obj, false, true)\r\n            me.addRotateIcon(sprite_Border, obj, false, true)\r\n          } else if (obj.type == 'association_gap') {\r\n            me.addScaleIcon(sprite_Border, obj, t_a)\r\n            me.addRotateIcon(sprite_Border, obj, t_a)\r\n          }\r\n        }\r\n      } else if (show_btn) {\r\n        if (obj.type == 'text' && !obj.structure) {\r\n          // 骨架的文字不允许增加按钮\r\n          me.addScaleIcon(sprite_Border, obj)\r\n          me.addStretchIcon(sprite_Border, obj)\r\n          me.addRotateIcon(sprite_Border, obj)\r\n        } else if (obj.type == 'image') {\r\n          me.addScaleIcon(sprite_Border, obj)\r\n          me.addRotateIcon(sprite_Border, obj)\r\n        }\r\n      }\r\n      // 添加线框会导致内存泄露\r\n      sprite_Border.addChild(me.createBorderLine({ width: obj.width, height: obj.height }, (!show_btn ? '#D62B25' : 0x87ceff)))\r\n      // 边框图层旋转角度和对象元素选择角度一致\r\n      sprite_Border.rotation = obj.rotation\r\n      me.outLine_container.addChild(sprite_Border)\r\n      //\r\n      sprite_Border = null\r\n      // line = null\r\n      obj = null\r\n      me = null\r\n    },\r\n    createBorderLine: function (obj, color = 0x87ceff) {\r\n      let me = this\r\n      let dash = 15\r\n      let line = new me.mypixi.Graphics()\r\n      line.lineStyle(2, color, 1)\r\n      line.moveTo(0, 0)\r\n      line.type = 'line'\r\n      line.name = 'line'\r\n      // 直线\r\n      line.lineTo(obj.width, 0)\r\n      line.moveTo(obj.width, 0)\r\n      line.lineTo(obj.width, obj.height)\r\n      line.moveTo(obj.width, obj.height)\r\n      line.lineTo(0, obj.height)\r\n      line.lineTo(0, obj.height)\r\n      line.lineTo(0, 0)\r\n      line.moveTo(0, 0)\r\n      // for (let k = 0; k < Math.ceil(obj.height / dash); k++) {\r\n      //   if (k + 1 >= Math.ceil(obj.height / dash)) {\r\n      //     // line.moveTo(0, dash * k)\r\n      //     // line.lineTo(0, Math.ceil(obj.height))\r\n      //     // line.moveTo(Math.ceil(-obj.width), (k - 1 > 0 ? k - 1 : 0) * dash)\r\n      //     // line.lineTo(Math.ceil(-obj.width), Math.ceil(obj.height))\r\n      //     line.moveTo(0, 0)\r\n      //     break\r\n      //   }\r\n      //   if (k % 2 == 0 || k == 0) {\r\n      //     line.lineTo(0, dash * k)\r\n      //     line.moveTo(Math.ceil(-obj.width), (k - 1 > 0 ? k - 1 : 0) * dash)\r\n      //     line.lineTo(Math.ceil(-obj.width), dash * k)\r\n      //   } else {\r\n      //     line.moveTo(0, dash * k)\r\n      //   }\r\n      // }\r\n      // for (let k = 0; k < Math.ceil(obj.width / dash); k++) {\r\n      //   // if (k + 1 >= Math.ceil(obj.width / dash)) {\r\n      //   //   line.moveTo(-dash * k, 0)\r\n      //   //   line.lineTo(Math.ceil(-obj.width), 0)\r\n      //   //   line.moveTo((k - 1 > 0 ? k - 1 : 0) * -dash, Math.ceil(obj.height))\r\n      //   //   line.lineTo(Math.ceil(-obj.width), Math.ceil(obj.height))\r\n      //   //   break\r\n      //   // }\r\n      //   if (k % 2 == 0 || k == 0) {\r\n      //     line.lineTo(-k * dash, 0)\r\n      //     line.moveTo((k - 1 > 0 ? k - 1 : 0) * -dash, Math.ceil(obj.height))\r\n      //     line.lineTo(-k * dash, Math.ceil(obj.height))\r\n      //     line.moveTo(-k * dash, Math.ceil(obj.height))\r\n      //   } else {\r\n      //     line.moveTo(-k * dash, 0)\r\n      //   }\r\n      // }\r\n      line.position.set(-obj.width / 2, -obj.height / 2)\r\n      // line.x = Math.ceil(obj.width / 2)\r\n      // line.y = Math.ceil()\r\n      return line\r\n    },\r\n    addScaleIcon: function (outLineC, obj, t_a, a_r_btn = false) {\r\n      const me = this\r\n      let sprite\r\n      sprite = new me.mypixi.Sprite(me.p_app.loader.resources[me.scale].texture)\r\n      sprite.interactive = true\r\n      sprite.scale.set(2)\r\n      sprite.anchor.set(0.5)\r\n      sprite.name = 'scale-btn'\r\n      sprite.cursor = 'move'\r\n      sprite.type = 'btn' // 精灵类型为按钮\r\n      sprite.position.set(Math.floor(obj.width / 2), Math.floor(-obj.height / 2))\r\n      if (t_a) {\r\n        // 临时组合监听\r\n        sprite\r\n          .on('pointerdown', me.onTScaleStart)\r\n          .on('pointerup', me.onTScaleEnd)\r\n          .on('mousemove', function (event) {\r\n            me.onTScaleMove(sprite, event)\r\n          })\r\n          .on('pointerupoutside', me.onTScaleEnd)\r\n      } else if (a_r_btn) {\r\n        // 组合矩形按钮监听\r\n        sprite\r\n          .on('pointerdown', me.onAScaleStart)\r\n          .on('pointerup', me.onAScaleEnd)\r\n          .on('mousemove', function (event) {\r\n            me.onAScaleMove(sprite, event)\r\n          })\r\n          .on('pointerupoutside', me.onAScaleEnd)\r\n      } else {\r\n        // 监听事件\r\n        sprite\r\n          .on('pointerdown', me.onScaleStart)\r\n          .on('pointerup', me.onScaleEnd)\r\n          .on('mousemove', function (event) {\r\n            me.onScaleMove(sprite, event)\r\n          })\r\n          .on('pointerupoutside', me.onScaleEnd)\r\n        //\r\n      }\r\n      outLineC.addChild(sprite)\r\n      sprite.off()\r\n      if (!t_a && !a_r_btn) {\r\n        sprite = null\r\n      }\r\n      outLineC = null\r\n    },\r\n    addRotateIcon: function (outLineC, obj, t_a, a_r_btn = false) {\r\n      const me = this\r\n      let sprite\r\n      sprite = new me.mypixi.Sprite(me.p_app.loader.resources[me.rotate].texture)\r\n      sprite.interactive = true\r\n      sprite.scale.set(2)\r\n      sprite.anchor.set(0.5)\r\n      sprite.name = 'rotate-btn'\r\n      sprite.cursor = 'pointer'\r\n      sprite.type = 'btn' // 精灵类型为按钮\r\n      sprite.position.set(0, Math.floor(-obj.height / 2 - me.r_btn_h))\r\n      if (t_a) {\r\n        // 临时组合监听\r\n        sprite\r\n          .on('pointerdown', me.onTRotateStart)\r\n          .on('pointerup', me.onTRotateEnd)\r\n          .on('mousemove', me.onTRotateMove)\r\n          .on('pointerupoutside', me.onTRotateEnd)\r\n      } else if (a_r_btn) {\r\n        // 组合矩形按钮监听\r\n        sprite\r\n          .on('pointerdown', me.onARotateStart)\r\n          .on('pointerup', function (event) {\r\n            me.onARotateEnd()\r\n          })\r\n          .on('mousemove', function (event) {\r\n            me.onARotateMove(event)\r\n          })\r\n          .on('pointerupoutside', function (event) {\r\n            me.onARotateEnd()\r\n          })\r\n      } else {\r\n        // 监听事件\r\n        sprite\r\n          .on('pointerdown', me.onRotateStart)\r\n          .on('mousemove', me.onRotateMove)\r\n          .on('pointerup', me.onRotateEnd)\r\n          .on('pointerupoutside', me.onRotateEnd)\r\n      }\r\n      outLineC.addChild(sprite)\r\n      sprite.off()\r\n      sprite = null\r\n      outLineC = null\r\n    },\r\n    addStretchIcon: function (outLineC, obj) {\r\n      const me = this\r\n      let sprite\r\n      sprite = new me.mypixi.Sprite(me.p_app.loader.resources[me.stretch].texture)\r\n      sprite.interactive = true\r\n      // sprite.buttonMode = true;\r\n      sprite.scale.set(2)\r\n      sprite.anchor.set(0.5)\r\n      sprite.name = 'stretch-btn'\r\n      sprite.cursor = 'ew-resize'\r\n      sprite.type = 'btn' // 精灵类型为按钮\r\n      sprite.position.set(Math.floor(obj.width / 2), 0)\r\n      // 监听事件\r\n      sprite\r\n        .on('pointerdown', me.onStretchStart)\r\n        .on('pointerup', me.onStretchEnd)\r\n        .on('mousemove', me.onStretchMove)\r\n        .on('pointerupoutside', me.onStretchEnd)\r\n      outLineC.addChild(sprite)\r\n      sprite.off()\r\n      sprite = null\r\n      outLineC = null\r\n    },\r\n    findMinAndAdd: function (data, a_length = 0, a_name = '') {\r\n      const me = this\r\n      let index_arr = []\r\n      if ((me.ctrl_arr.length >= 2 && a_length == 0) || a_length > 1) {\r\n        me.in_move = null\r\n        // 删除之前的空白区容器，临时组合的空白区容器,不删除临时组合数组\r\n        me.clearTemAss(true) // true表示清空数组中元素的父级旋转角度\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          index_arr.push(me.findCont(me.ctrl_arr[i].name))\r\n        }\r\n        index_arr.sort((a, b) => a - b)\r\n        let container = new me.mypixi.Container()\r\n        container.width = me.canvas_width\r\n        container.height = me.canvas_height\r\n        container.pivot.set(0, 0)\r\n        container.name = 'temporary_c'\r\n        me.container_arr.splice(index_arr[0], 0, {\r\n          cont: container,\r\n          index: index_arr[0],\r\n          name: 'temporary_c'\r\n        })\r\n        // 将数组容器里的index排序\r\n        me.sortContainerArr(true)\r\n        // 找到临时组合中，最小、最大的x，y，并创建矩形\r\n        me.findRect(container, data, true)\r\n      } else if (me.ctrl_arr.length == 1 && a_length == 0) {\r\n        // 单独一个元素\r\n        me.normalStart(me.ctrl_arr[0], data)\r\n        me.in_move.dragging = false\r\n      } else if (a_length == 1) {\r\n        me.clearTemAss(true)\r\n        // 添加组合边框给组合矩形加按钮,不渲染临时边框\r\n        me.renderTLine(false, true, a_name)\r\n      }\r\n    },\r\n    findRect: function (container, data, tem_move) {\r\n      const me = this\r\n      let x_arr = []\r\n      let y_arr = []\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        let vertexData = me.ctrl_arr[i].vertexData\r\n        for (let k = 0; k < vertexData.length; k++) {\r\n          if (k % 2 == 0 || k == 0) {\r\n            x_arr.push(vertexData[k])\r\n          } else {\r\n            y_arr.push(vertexData[k])\r\n          }\r\n        }\r\n      }\r\n      x_arr.sort((a, b) => a - b)\r\n      y_arr.sort((a, b) => a - b)\r\n      let width = x_arr[x_arr.length - 1] - x_arr[0]\r\n      let height = y_arr[y_arr.length - 1] - y_arr[0]\r\n      // 设置父级矩形容器的位置\r\n      container.position.set(0, 0)\r\n      // 创建矩形\r\n      let rectangle = new me.mypixi.Graphics()\r\n      rectangle.interactive = true\r\n      rectangle.width = width\r\n      rectangle.height = height\r\n      rectangle.originalw = width\r\n      rectangle.originalh = height\r\n      rectangle.beginFill(0xff3300, 0.1)\r\n      rectangle.alpha = 0.01\r\n      rectangle.drawRect(0, 0, width, height)\r\n      rectangle.endFill()\r\n      rectangle.name = 'temporary'\r\n      rectangle.type = 'association_gap'\r\n      rectangle.rotation_num = 0\r\n      rectangle.x = x_arr[0] - (me.window_w - me.canvas_width) / 2\r\n      rectangle.y = y_arr[0] - (me.window_h - me.canvas_height) / 2\r\n      rectangle.cursor = 'grab'\r\n      // 矩形中心点\r\n      rectangle.centerX = rectangle.x + rectangle.width / 2\r\n      rectangle.centerY = rectangle.y + rectangle.height / 2\r\n      me.temporary_rect = rectangle\r\n      // 监听事件\r\n      rectangle\r\n        .on('rightdown', me.onRightC)\r\n        .on('mousedown', me.onTemporaryStart)\r\n        .on('mousemove', me.onDragMove)\r\n        .on('mouseupoutside', me.onTemporaryEnd)\r\n        .on('mouseup', me.onTemporaryEnd)\r\n      container.addChild(rectangle)\r\n      // 加入空白图层\r\n      me.renderStage()\r\n      // 添加临时组合边框\r\n      me.renderTLine(true)\r\n      // 计算临时组合的偏差值用于移动\r\n      me.ctrlDeviation(data, true, tem_move)\r\n    },\r\n    removeLine: function (id = null) {\r\n      let me = this\r\n      if (id !== null) {\r\n        let removeObj = me.outLine_container.getChildByName(id)\r\n        removeObj.removeChildren()\r\n        me.outLine_container.removeChild(removeObj)\r\n        removeObj = null\r\n      } else if (me.outLine_container) {\r\n        me.outLine_container.removeChildren()\r\n        // 清除边框container\r\n        me.mainStage_container.removeChild(me.outLine_container)\r\n        me.outLine_container = null\r\n      }\r\n      me = null\r\n    },\r\n    cancelInMove: function () {\r\n      const me = this\r\n      // 取消当前选中对象\r\n      me.removeLine()\r\n      if (me.in_move) {\r\n        me.in_move = null\r\n      } else if (me.temporary_rect) {\r\n        me.clearTemporary()\r\n      }\r\n      if (me.ctrl_arr) me.ctrl_arr.length = 0\r\n      me.click_ass_id = ''\r\n      // // 右侧编辑栏\r\n      me.$set(me.edit_bar.btn, 'show', false)\r\n      me.hide_edit_f()\r\n      me.updateLayer()\r\n    },\r\n    clearTemporary: function () {\r\n      // 情空临时组合而且清空ctrl_arr数组\r\n      const me = this\r\n      let index = me.findCont('temporary_c')\r\n      // 清空临时组合\r\n      if (index !== -1) {\r\n        me.mainStage_container.removeChildAt(index)\r\n        me.container_arr.splice(index, 1)\r\n      }\r\n      if (me.ctrl_arr.length >= 1) {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          me.ctrl_arr[i].dragging = false\r\n          me.ctrl_arr[i].data = null\r\n        }\r\n      }\r\n      me.ctrl_arr.length = 0\r\n      me.temporary_rect = null\r\n      // 将数组容器里的index排序\r\n      me.sortContainerArr(true)\r\n    },\r\n    clearTemAss: function (clear_rotation, clear_association = false) {\r\n      const me = this\r\n      // 删除之前的空白区容器，临时组合的空白区容器,不删除临时组合数组\r\n      if (me.temporary_rect !== null) {\r\n        let index_c = me.findCont('temporary_c')\r\n        if (index_c !== -1) {\r\n          me.mainStage_container.removeChildAt(index_c)\r\n          me.container_arr.splice(index_c, 1)\r\n        }\r\n        me.temporary_rect = null\r\n      }\r\n      // 是否删除数组中元素组合的矩形，新合并数组时删除\r\n      if (clear_association) {\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n            let index_c = me.findCont(me.ctrl_arr[i].name)\r\n            if (index_c !== -1) {\r\n              me.mainStage_container.removeChildAt(index_c)\r\n              me.container_arr.splice(index_c, 1)\r\n            }\r\n          }\r\n        }\r\n      }\r\n      me.sortContainerArr(clear_rotation)\r\n    },\r\n    createAssociation: function (name, m_comp_name, render_create) {\r\n      const me = this\r\n      // 情空临时矩形区域,清空包含在ctrl_arr数组里的其他组合矩形\r\n      if (!render_create) {\r\n        me.clearTemAss(true, true)\r\n      }\r\n      // 对组合元素进行排序，全部移动至组合中最高层之下，并维持原组合内顺序\r\n      // 找到组合中最高级\r\n      let index_arr = []\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        index_arr.push(me.findCont(me.ctrl_arr[i].name))\r\n      }\r\n      index_arr.sort(function (a, b) {\r\n        return a - b\r\n      })\r\n      // 保存原container_arr中组合最高级之前除去组合中的元素\r\n      let arr1 = []\r\n      let arr2 = []\r\n      let arr3 = []\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        if (i < index_arr[index_arr.length - 1]) {\r\n          if (me.container_arr[i].cont.children[0].association_name !== name) {\r\n            arr1.push(me.container_arr[i])\r\n          }\r\n        } else if (i > index_arr[index_arr.length - 1]) {\r\n          if (me.container_arr[i].cont.children[0].association_name !== name) {\r\n            arr3.push(me.container_arr[i])\r\n          }\r\n        }\r\n        if (me.container_arr[i].cont.children[0].association_name == name) {\r\n          arr2.push(me.container_arr[i])\r\n        }\r\n      }\r\n      me.container_arr = [...arr1, ...arr2, ...arr3]\r\n      // 将数组容器里的index排序\r\n      me.sortContainerArr(true)\r\n      let index_min = -1\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        if (me.container_arr[i].cont.children[0].association_name == name) {\r\n          index_min = i\r\n          break\r\n        }\r\n      }\r\n      // 创建组合空白矩形\r\n      let container = new me.mypixi.Container()\r\n      container.width = me.canvas_width\r\n      container.height = me.canvas_height\r\n      container.pivot.set(0, 0)\r\n      container.rotation_num = 0\r\n      container.name = name\r\n      me.container_arr.splice(index_min, 0, {\r\n        cont: container,\r\n        index: index_arr[0],\r\n        name: name,\r\n        m_comp_name: m_comp_name\r\n      })\r\n      // 将数组容器里的index排序\r\n      me.sortContainerArr(true)\r\n      me.createAssociationRect(container, name, render_create)\r\n    },\r\n    createAssociationRect: function (container, name, render_create) {\r\n      const me = this\r\n      let x_arr = []\r\n      let y_arr = []\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        let vertexData = me.ctrl_arr[i].vertexData\r\n        for (let k = 0; k < vertexData.length; k++) {\r\n          if (k % 2 == 0 || k == 0) {\r\n            x_arr.push(vertexData[k])\r\n          } else {\r\n            y_arr.push(vertexData[k])\r\n          }\r\n        }\r\n      }\r\n      x_arr.sort(function (a, b) {\r\n        return a - b\r\n      })\r\n      y_arr.sort(function (a, b) {\r\n        return a - b\r\n      })\r\n      let width = x_arr[x_arr.length - 1] - x_arr[0]\r\n      let height = y_arr[y_arr.length - 1] - y_arr[0]\r\n      // 设置父级矩形容器的位置\r\n      container.position.set(0, 0)\r\n      // 创建矩形\r\n      let rectangle = new me.mypixi.Graphics()\r\n      rectangle.interactive = true\r\n      // rectangle.buttonMode = true;\r\n      rectangle.width = width\r\n      rectangle.height = height\r\n      rectangle.originalw = width\r\n      rectangle.originalh = height\r\n      rectangle.beginFill(0xe6e6fa, 0.1)\r\n      rectangle.alpha = 0.01\r\n      // rectangle.pivot.set(0.5,0.5);\r\n      rectangle.drawRect(0, 0, width, height)\r\n      rectangle.endFill()\r\n      rectangle.name = name\r\n      rectangle.association_name = name\r\n      rectangle.lock = false\r\n      // 正式组合的空白矩形\r\n      rectangle.type = 'association_gap_notT'\r\n      rectangle.rotation_num = 0\r\n      rectangle.x = x_arr[0] - (me.window_w - me.canvas_width) / 2\r\n      rectangle.y = y_arr[0] - (me.window_h - me.canvas_height) / 2\r\n      rectangle.cursor = 'grab'\r\n      // 矩形中心点\r\n      rectangle.centerX = rectangle.x + rectangle.width / 2\r\n      rectangle.centerY = rectangle.y + rectangle.height / 2\r\n      me.ctrl_arr.push(rectangle) // 没有顺序之分\r\n      // 监听事件\r\n      rectangle\r\n        .on('rightdown', me.onRightC)\r\n        .on('mousedown', me.onAssociationStart)\r\n        .on('mousemove', me.onDragMove)\r\n        .on('mouseupoutside', me.onTemporaryEnd)\r\n        .on('mouseup', me.onTemporaryEnd)\r\n      container.addChild(rectangle)\r\n      if (!render_create) {\r\n        // 加入空白图层\r\n        me.renderStage()\r\n        // 添加组合边框给组合矩形加按钮,不渲染临时边框\r\n        me.renderTLine(false, true, name)\r\n        me.showEdit('association')\r\n      }\r\n    },\r\n    renderTLine: function (t_r, a_r_btn = false, name = '', lock = false) {\r\n      let me = this\r\n      // 添加临时组合边框\r\n      me.removeLine()\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (a_r_btn && me.ctrl_arr[i].association_name == name) {\r\n          if (lock) {\r\n            me.containerLine(me.ctrl_arr[i], true, (i === 0), a_r_btn, true)\r\n          } else {\r\n            me.containerLine(me.ctrl_arr[i], true, (i === 0), a_r_btn, false)\r\n          }\r\n        } else {\r\n          me.containerLine(me.ctrl_arr[i], true, (i === 0))\r\n        }\r\n      }\r\n      // 值为真则需要添加临时矩形边框\r\n      if (t_r) {\r\n        me.containerLine(me.temporary_rect, true, false)\r\n      }\r\n      me = null\r\n    },\r\n    upDownMove: function (index, up, max = '') {\r\n      const me = this\r\n      let arr1 = []\r\n      let arr2 = []\r\n      let arr3 = []\r\n      let arr4 = []\r\n      let upindex = null\r\n      if (up) {\r\n        upindex = index + 1\r\n      } else {\r\n        upindex = index - 1\r\n      }\r\n      // 找出本index是否是组合，还有前后的是否是组合\r\n      let self_f_index = null\r\n      let change_f_index = null\r\n      if (me.container_arr[index].cont.children[0].association_name !== '') {\r\n        let sa_name = me.container_arr[index].cont.children[0].association_name\r\n        for (let i = 0; i < me.container_arr.length; i++) {\r\n          if (sa_name == me.container_arr[i].cont.children[0].association_name) {\r\n            arr2.push(me.container_arr[i])\r\n            self_f_index = i\r\n          }\r\n        }\r\n        if (up) {\r\n          upindex = self_f_index + 1\r\n          for (let i = 0; i < arr2[0].index; i++) {\r\n            arr1.push(me.container_arr[i])\r\n          }\r\n        } else {\r\n          upindex = arr2[0].index - 1\r\n        }\r\n      } else {\r\n        arr2.push(me.container_arr[index])\r\n        for (let i = 0; i < arr2[0].index; i++) {\r\n          arr1.push(me.container_arr[i])\r\n        }\r\n        self_f_index = index\r\n      }\r\n      // 判断替换顺序的两个是否来自同一归属模块\r\n      if (!me.container_arr[upindex]) return false\r\n      if (\r\n        me.container_arr[index].m_comp_name !==\r\n        me.container_arr[upindex].m_comp_name\r\n      ) { return false }\r\n      if (me.container_arr[upindex]) {\r\n        if (me.container_arr[upindex].cont.children[0].association_name !== '') {\r\n          let a_name =\r\n            me.container_arr[upindex].cont.children[0].association_name\r\n          for (let i = 0; i < me.container_arr.length; i++) {\r\n            if (a_name == me.container_arr[i].cont.children[0].association_name) {\r\n              arr3.push(me.container_arr[i])\r\n              change_f_index = i\r\n            }\r\n          }\r\n        } else {\r\n          arr3.push(me.container_arr[upindex])\r\n          change_f_index = upindex\r\n        }\r\n      }\r\n      if (up) {\r\n        for (let i = change_f_index + 1; i < me.container_arr.length; i++) {\r\n          arr4.push(me.container_arr[i])\r\n        }\r\n        if (max !== '' && max == 'maxUp') {\r\n          me.container_arr = [...arr1, ...arr3, ...arr4, ...arr2]\r\n        } else {\r\n          me.container_arr = [...arr1, ...arr3, ...arr2, ...arr4]\r\n        }\r\n      } else {\r\n        for (let i = self_f_index + 1; i < me.container_arr.length; i++) {\r\n          arr4.push(me.container_arr[i])\r\n        }\r\n        let change_first_index = arr3[0].index\r\n        arr1.length = 0\r\n        for (let i = 0; i < change_first_index; i++) {\r\n          arr1.push(me.container_arr[i])\r\n        }\r\n        if (max !== '' && max == 'maxDown') {\r\n          me.container_arr = [...arr2, ...arr1, ...arr3, ...arr4]\r\n        } else {\r\n          me.container_arr = [...arr1, ...arr2, ...arr3, ...arr4]\r\n        }\r\n      }\r\n      me.sortContainerArr(true)\r\n      me.renderUpDown()\r\n      me.updateLayer()\r\n      me.$set(me.right_block, 'show', false)\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    renderUpDown: function () {\r\n      const me = this\r\n      // 保留边框层，更新元素图层\r\n      let cont = me.mainStage_container.children[me.mainStage_container.children.length - 1]\r\n      me.mainStage_container.removeChildren()\r\n      // me.addCancleRect(me.mainStage_container)\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        // 按顺序渲染容器\r\n        me.mainStage_container.addChild(me.container_arr[i].cont)\r\n        me.container_arr[i].cont.buttonMode = false\r\n      }\r\n      me.mainStage_container.addChild(cont)\r\n    },\r\n    deleteSomeone: function (name, render, callback) {\r\n      const me = this\r\n      let index_c = me.findCont(name)\r\n      if (index_c !== -1) {\r\n        me.mainStage_container.removeChildAt(index_c)\r\n        me.container_arr.splice(index_c, 1)\r\n        me.in_move = null\r\n        me.sortContainerArr(true)\r\n        if (render) {\r\n          // me.renderStage()\r\n        }\r\n        callback()\r\n      }\r\n    },\r\n    onRightDelete: function () {\r\n      const me = this\r\n      if (me.ctrl_arr.length == 0 && me.in_move) {\r\n        // 删除单个元素\r\n        me.deleteSomeone(me.in_move.name, true, function () {\r\n          // 删除回调,隐藏右键弹窗\r\n          me.$set(me.right_block, 'show', false)\r\n        })\r\n      } else {\r\n        me.clearTemAss(false)\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          me.deleteSomeone(me.ctrl_arr[i].name, false, function () { })\r\n        }\r\n        // me.renderStage()\r\n        me.$set(me.right_block, 'show', false)\r\n      }\r\n      // 更新图层tab\r\n      me.updateLayer()\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n      me.cancelInMove()\r\n    },\r\n    moveActiveLog: function (way) {\r\n      const me = this\r\n      setTimeout(() => {\r\n        // me.p_app.stage.children[0].removeChildren()\r\n        // for(let j=0;j<me.active_log[me.active_index-1].pixi.length;j++){\r\n        //   let pixiData=_.cloneDeep(me.active_log[me.active_index-1].pixi[j])\r\n        //   me.p_app.stage.children[0].addChild(pixiData)\r\n        // }\r\n        // me.p_app.renderer.render(me.p_app.stage);\r\n        // //恢复vue数据\r\n        // for(let key in me.active_log[me.active_index-1].vueData){\r\n        //   me.$set(me, key, me.active_log[me.active_index-1].vueData[key])\r\n        // }\r\n        if (way == 'prev' && me.active_index > 0) {\r\n          me.$set(me, 'render_data', me.active_log[me.active_index - 1])\r\n          me.$set(me, 'active_index', me.active_index - 1)\r\n          me.renderTemplate()\r\n          if (me.active_index == 0) {\r\n            // 回到初始状态则初始化日志\r\n            let first = _.cloneDeep(me.active_log[0])\r\n            me.active_log.length = 0\r\n            me.active_log.push(first)\r\n          }\r\n        } else if (\r\n          way == 'next' &&\r\n          me.active_log.length - 1 !== me.active_index\r\n        ) {\r\n          me.$set(me, 'render_data', me.active_log[me.active_index + 1])\r\n          me.$set(me, 'active_index', me.active_index + 1)\r\n          me.renderTemplate()\r\n        }\r\n      }, 50)\r\n    },\r\n    renderARC: function (titleType, wordArr, textReplace = null) {\r\n      const me = this\r\n      let setData = null\r\n      let imgSetData = null\r\n      if (titleType == 'arc_title') {\r\n        setData = _.cloneDeep(me.arc_obj.arc_title)\r\n        // imgSetData = {\r\n        //   position: {\r\n        //     x: 375,\r\n        //     y: 750\r\n        //   },\r\n        //   size: {\r\n        //     width: 300,\r\n        //     height: 100\r\n        //   },\r\n        //   arc: {\r\n        //     arc_deg: 80,\r\n        //     radius: 500,\r\n        //     centerToTop: 50,\r\n        //     direction: 'up'\r\n        //   }\r\n        // }\r\n        // 弧形装饰参数size可以从数据中读到或者实例中读到\r\n        imgSetData = {\r\n          position: _.cloneDeep(me.arc_obj.arc_titleImg.position.x ? me.arc_obj.arc_titleImg.position : me.arc_obj.arc_titleImg.parent.position),\r\n          size: {\r\n            width: me.arc_obj.arc_titleImg.width ? me.arc_obj.arc_titleImg.width : me.arc_obj.arc_titleImg.size.width,\r\n            height: me.arc_obj.arc_titleImg.height ? me.arc_obj.arc_titleImg.height : me.arc_obj.arc_titleImg.size.height\r\n          },\r\n          arc: _.cloneDeep(me.arc_obj.arc_titleImg.arc)\r\n        }\r\n      } else if (titleType == 'arc_subtitle') {\r\n        setData = _.cloneDeep(me.arc_obj.arc_subtitle)\r\n        imgSetData = {\r\n          position: _.cloneDeep(me.arc_obj.arc_subtitleImg.position.x ? me.arc_obj.arc_subtitleImg.position : me.arc_obj.arc_subtitleImg.parent.position),\r\n          size: {\r\n            width: me.arc_obj.arc_subtitleImg.width ? me.arc_obj.arc_subtitleImg.width : me.arc_obj.arc_subtitleImg.size.width,\r\n            height: me.arc_obj.arc_subtitleImg.height ? me.arc_obj.arc_subtitleImg.height : me.arc_obj.arc_subtitleImg.size.height\r\n          },\r\n          arc: _.cloneDeep(me.arc_obj.arc_subtitleImg.arc)\r\n        }\r\n      }\r\n      for (let m = 1; m <= wordArr.length; m++) {\r\n        let mtext = wordArr[m - 1] // 拆分的单个文字\r\n        // 深拷贝arc_title改变其中ID、文字、位置、角度\r\n        let newD = _.cloneDeep(setData)\r\n        newD.id += `${m}`\r\n        // 计算圆弧位置\r\n        let eachDeg = parseInt(imgSetData.arc.arc_deg) / wordArr.length / 2 // 每个文字间隔的角度\r\n        let [x0, y0] = [0, 0] // 圆心\r\n        x0 = imgSetData.position.x\r\n        let newDeg = 90 + parseInt(imgSetData.arc.arc_deg) / 2 // 文字起始角度,计算完位置后设置成单个字的旋转角度，已y轴为中心\r\n        let [newx, newy] = [0, 0]\r\n        if (imgSetData.arc.direction == 'down') {\r\n          y0 =\r\n            imgSetData.position.y -\r\n            imgSetData.size.height / 2 +\r\n            parseInt(imgSetData.arc.centerToTop) +\r\n            parseInt(imgSetData.arc.radius)\r\n          newx =\r\n            x0 +\r\n            parseInt(imgSetData.arc.radius) *\r\n            Math.cos(((-eachDeg * (2 * m - 1) + newDeg) * Math.PI) / 180)\r\n          newy =\r\n            y0 -\r\n            parseInt(imgSetData.arc.radius) *\r\n            Math.sin(((-eachDeg * (2 * m - 1) + newDeg) * Math.PI) / 180)\r\n          newDeg = ((90 - (newDeg - eachDeg * (2 * m - 1))) * Math.PI) / 180\r\n        } else {\r\n          newDeg = -newDeg\r\n          y0 =\r\n            imgSetData.position.y +\r\n            imgSetData.size.height / 2 -\r\n            parseInt(imgSetData.arc.centerToTop) -\r\n            parseInt(imgSetData.arc.radius)\r\n          newx =\r\n            x0 +\r\n            parseInt(imgSetData.arc.radius) *\r\n            Math.cos(((eachDeg * (2 * m - 1) + newDeg) * Math.PI) / 180)\r\n          newy =\r\n            y0 -\r\n            parseInt(imgSetData.arc.radius) *\r\n            Math.sin(((eachDeg * (2 * m - 1) + newDeg) * Math.PI) / 180)\r\n          newDeg = ((-90 - (newDeg + eachDeg * (2 * m - 1))) * Math.PI) / 180\r\n        }\r\n        // 设置新数据，渲染成新图层\r\n        newD.position.x = newx\r\n        newD.position.y = newy\r\n        newD.text = mtext\r\n        newD.rotation = newDeg\r\n        newD.role = 'normal'\r\n        newD.textReplace = textReplace\r\n        me.newContainerText(newD, true, true)\r\n      }\r\n      me.renderStage()\r\n    }\r\n  }\r\n}","// import * as PIXI from 'pixi.js'\r\n// import _ from 'lodash'\r\nimport bus from '@/eventBus.js'\r\nimport axios from 'axios'\r\nexport default {\r\n  methods: {\r\n    arrToAss: function (element_arr, association_id = -1, render_create = false) {\r\n      const me = this\r\n      if (element_arr.length > 1) {\r\n        let time = (new Date()).valueOf()\r\n        if (association_id == -1) {\r\n          association_id = `association_${time}`\r\n        }\r\n        let m_comp_name = element_arr[1].m_comp_name\r\n        let same = element_arr.every(function (item) {\r\n          if (item.type == 'association_gap_notT' || item.m_comp_name == m_comp_name) {\r\n            return true\r\n          }\r\n        })\r\n        if (same) {\r\n          for (let i = 0; i < element_arr.length; i++) {\r\n            // 组合空隙不添加成新组合\r\n            if (element_arr[i].type == 'association_gap_notT') { } else {\r\n              element_arr[i].association_name = association_id\r\n            }\r\n          }\r\n          me.createAssociation(association_id, m_comp_name, render_create)\r\n        } else {\r\n          alert('不同归属模块的元素不能组合')\r\n        }\r\n      }\r\n      me.updateLayer()\r\n    },\r\n    moveOutLine: function (x, y, obj) {\r\n      const me = this\r\n      // let outLineC = me.outLine_container;\r\n      // for (let i = 0; i < outLineC.children.length; i++) {\r\n      //   if (obj.name == outLineC.children[i].name) {\r\n      //     outLineC.children[i].position.set(x, y);\r\n      //   }\r\n      // }\r\n      // for (let item of me.outLine_container.children.values()) {\r\n      //   if (item.name == obj.name) {\r\n      //     item.position.set(x, y)\r\n      //   }\r\n      //   item = null\r\n      // }\r\n      me.outLine_container.getChildByName(obj.name).position.set(x, y)\r\n    },\r\n    changeAssociation: function (obj) {\r\n      if (obj.change) {\r\n        const me = this\r\n        let x_arr = []\r\n        let y_arr = []\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          if (obj.association_name == me.ctrl_arr[i].association_name && me.ctrl_arr[i].type !== 'association_gap_notT') {\r\n            let vertexData = me.ctrl_arr[i].vertexData\r\n            for (let k = 0; k < vertexData.length; k++) {\r\n              if (k % 2 == 0 || k == 0) {\r\n                x_arr.push(vertexData[k])\r\n              } else {\r\n                y_arr.push(vertexData[k])\r\n              }\r\n            }\r\n          }\r\n        }\r\n        x_arr.sort((a, b) => a - b)\r\n        y_arr.sort((a, b) => a - b)\r\n        let width = x_arr[x_arr.length - 1] - x_arr[0]\r\n        let height = y_arr[y_arr.length - 1] - y_arr[0]\r\n        obj.clear()\r\n        obj.width = width\r\n        obj.height = height\r\n        obj.originalw = width\r\n        obj.originalh = height\r\n        obj.rotation_num = 0\r\n        obj.rotation = 0\r\n        obj.beginFill(0xE6E6FA, 0.1)\r\n        obj.alpha = 0.01\r\n        obj.drawRect(0, 0, width, height)\r\n        obj.endFill()\r\n        obj.x = x_arr[0] - (me.window_w - me.canvas_width) / 2\r\n        obj.y = y_arr[0] - (me.window_h - me.canvas_height) / 2\r\n        // 矩形中心点\r\n        obj.centerX = obj.x + obj.width / 2\r\n        obj.centerY = obj.y + obj.height / 2\r\n        obj.change = false\r\n      }\r\n    },\r\n    downloadImg: function (imgsrc) {\r\n      fetch(imgsrc).then(res => res.blob().then(blob => {\r\n        var a = document.createElement('a')\r\n        var url = window.URL.createObjectURL(blob)\r\n        var filename = 'myImg.png'\r\n        a.href = url\r\n        a.download = filename\r\n        a.click()\r\n        window.URL.revokeObjectURL(url)\r\n      }))\r\n    },\r\n    toImage2: function (returnFile) {\r\n      // 组合或者单个元素导成图片\r\n      const me = this\r\n      let [width, height, centerX, centerY] = new Array(4).fill(0)\r\n      let img_arr = []\r\n      if (me.ctrl_arr.length > 0) {\r\n        if (me.temporary_rect) {\r\n          width = me.temporary_rect.width\r\n          height = me.temporary_rect.height\r\n          centerX = me.temporary_rect.centerX\r\n          centerY = me.temporary_rect.centerY\r\n        } else {\r\n          for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n            if (me.ctrl_arr[i].type == 'association_gap_notT') {\r\n              width = me.ctrl_arr[i].width\r\n              height = me.ctrl_arr[i].height\r\n              centerX = me.ctrl_arr[i].centerX\r\n              centerY = me.ctrl_arr[i].centerY\r\n            }\r\n          }\r\n        }\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          let data = {}\r\n          if (me.ctrl_arr[i].type !== 'association_gap_notT' && me.ctrl_arr[i].type !== 'text') {\r\n            data = {\r\n              src: me.ctrl_arr[i].srcData,\r\n              x: (width / 2) - (centerX - me.ctrl_arr[i].parent.x),\r\n              y: (height / 2) - (centerY - me.ctrl_arr[i].parent.y),\r\n              scale: me.ctrl_arr[i].scale.x,\r\n              rotation: me.ctrl_arr[i].parent.rotation,\r\n              type: me.ctrl_arr[i].type,\r\n              alpha: me.ctrl_arr[i].alpha\r\n            }\r\n            img_arr.push(data)\r\n          } else if (me.ctrl_arr[i].type == 'text') {\r\n            data = _.cloneDeep(me.ctrl_arr[i])\r\n            data.position.set((width / 2) - (centerX - me.ctrl_arr[i].parent.position.x), (height / 2) - (centerY - me.ctrl_arr[i].parent.position.y))\r\n            img_arr.push(data)\r\n          }\r\n        }\r\n      } else if (me.in_move && me.in_move.association_name == '') {\r\n        width = me.in_move.width\r\n        height = me.in_move.height\r\n        let data = {}\r\n        if (me.in_move.type !== 'text') {\r\n          data = {\r\n            src: me.in_move.srcData,\r\n            x: (width / 2),\r\n            y: (height / 2),\r\n            scale: me.in_move.scale.x,\r\n            rotation: me.in_move.parent.rotation,\r\n            type: me.in_move.type,\r\n            alpha: me.in_move.alpha\r\n          }\r\n        } else if (me.in_move.type == 'text') {\r\n          // 深拷贝\r\n          data = _.cloneDeep(me.in_move)\r\n          data.position.set(me.in_move.parent.position.x, me.in_move.parent.position.y)\r\n        }\r\n        img_arr.push(data)\r\n      }\r\n      me.img_app = null\r\n      me.img_app = new me.mypixi.Application({\r\n        backgroundColor: 0xff0000,\r\n        width: width,\r\n        height: height,\r\n        antialias: 1\r\n      })\r\n      let cont = new me.mypixi.Container()\r\n      cont.width = width\r\n      cont.height = height\r\n      cont.position.set(0, 0)\r\n      cont = me.addImgTwo(cont, img_arr)\r\n      me.img_app.stage.addChild(cont)\r\n      let img = me.img_app.renderer.plugins.extract.base64(me.img_app.stage)\r\n      if (!returnFile) {\r\n        me.downloadImg(img)\r\n        me.$set(me.right_block, 'show', false)\r\n      } else {\r\n        // 图片转文件，上传文件，拿回文件id\r\n        return me.dataURLtoFile(img, 'association_img.png')\r\n      }\r\n    },\r\n    addImgTwo: function (cont, img_arr) {\r\n      const me = this\r\n      img_arr = img_arr.reverse()\r\n      for (let i = 0; i < img_arr.length; i++) {\r\n        if (img_arr[i].type !== 'text') {\r\n          let sprite = new me.mypixi.Sprite(me.p_app.loader.resources[img_arr[i].src].texture)\r\n          sprite.anchor.set(0.5)\r\n          sprite.position.set(img_arr[i].x, img_arr[i].y)\r\n          sprite.scale.set(img_arr[i].scale)\r\n          sprite.rotation = img_arr[i].rotation\r\n          sprite.alpha = img_arr[i].alpha\r\n          cont.addChild(sprite)\r\n        } else if (img_arr[i].type == 'text') {\r\n          cont.addChild(img_arr[i])\r\n        }\r\n      }\r\n      return cont\r\n    },\r\n    idToImg: function (idArr) {\r\n      const me = this\r\n      me.addACtrlarr(idArr[0])\r\n      let file = me.toImage(true)\r\n      var formdata = new FormData()\r\n      formdata.append('upload_file_once', file)\r\n      axios({\r\n        method: 'post',\r\n        url: `${me.api.upload_file_once}1.html`,\r\n        data: formdata\r\n      }).then(function (response) {\r\n        return response.data.file_id\r\n      })\r\n    },\r\n    dataURLtoFile: function (dataurl, filename) {\r\n      var arr = dataurl.split(',')\r\n      var mime = arr[0].match(/:(.*?);/)[1]\r\n      var bstr = atob(arr[1])\r\n      var n = bstr.length\r\n      var u8arr = new Uint8Array(n)\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n)\r\n      }\r\n      // 转换成file对象\r\n      return new File([u8arr], filename, { type: mime })\r\n    },\r\n    findCont: function (containerName) {\r\n      // 组合矩形父容器name为组合id，临时组合矩形父容器name为temporary_c，其他父容器name为id\r\n      const me = this\r\n      let index = -1\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        if (me.container_arr[i].name == containerName) {\r\n          index = i\r\n        }\r\n      }\r\n      return index\r\n    },\r\n    locationMove: function (way, d_value = 0) {\r\n      const me = this\r\n      if (!me.temporary_rect && me.in_move) {\r\n        // 单个元素\r\n        let point = 0\r\n        if (way == 'up' || way == 'down' || way == 'middle') {\r\n          point = me.in_move.vertexData[1]\r\n          for (let i = 3; i < 8; i += 2) {\r\n            if (way == 'down') {\r\n              if (me.in_move.vertexData[i] > point) point = me.in_move.vertexData[i]\r\n            } else if (way == 'up') {\r\n              if (me.in_move.vertexData[i] < point) point = me.in_move.vertexData[i]\r\n            }\r\n          }\r\n        } else if (way == 'left' || way == 'right' || way == 'center') {\r\n          point = me.in_move.vertexData[0]\r\n          for (let i = 2; i < 8; i += 2) {\r\n            if (way == 'left') {\r\n              if (me.in_move.vertexData[i] < point) point = me.in_move.vertexData[i]\r\n            } else if (way == 'right') {\r\n              if (me.in_move.vertexData[i] > point) point = me.in_move.vertexData[i]\r\n            }\r\n          }\r\n        }\r\n        // 移动************************************\r\n        let centerY = me.in_move.parent.y\r\n        if (way == 'down') {\r\n          me.in_move.parent.y = me.canvas_height - ((point - (me.window_h - me.canvas_height) / 2) - centerY) + d_value\r\n        } else if (way == 'up') {\r\n          me.in_move.parent.y = centerY - (point - (me.window_h - me.canvas_height) / 2) + d_value\r\n        } else if (way == 'middle') {\r\n          me.in_move.parent.y = (me.canvas_height / 2) + d_value\r\n        } else if (way == 'left') {\r\n          me.in_move.parent.x = me.in_move.parent.x - (point - (me.window_w - me.canvas_width) / 2) + d_value\r\n        } else if (way == 'right') {\r\n          me.in_move.parent.x = me.canvas_width - ((point - (me.window_w - me.canvas_width) / 2) - me.in_move.parent.x) + d_value\r\n        } else if (way == 'center') {\r\n          me.in_move.parent.x = (me.canvas_width / 2) + d_value\r\n        }\r\n        me.moveOutLine(me.in_move.parent.x, me.in_move.parent.y, me.in_move)\r\n        if (me.in_move.association_name !== '') {\r\n          me.aSingleClickBorder(me.in_move.association_name)\r\n        }\r\n        // 移动************************************\r\n      } else if (me.temporary_rect) {\r\n        // 临时组合所有元素\r\n        let tPoint = 0\r\n        let moveStep = 0\r\n        if (way == 'up' || way == 'down' || way == 'middle') {\r\n          tPoint = me.temporary_rect.vertexData[1]\r\n          for (let i = 3; i < 8; i += 2) {\r\n            if (way == 'up') {\r\n              if (me.temporary_rect.vertexData[i] < tPoint) tPoint = me.temporary_rect.vertexData[i]\r\n            } else if (way == 'down') {\r\n              if (me.temporary_rect.vertexData[i] > tPoint) tPoint = me.temporary_rect.vertexData[i]\r\n            }\r\n          }\r\n        } else if (way == 'left' || way == 'right' || way == 'center') {\r\n          tPoint = me.temporary_rect.vertexData[0]\r\n          for (let i = 2; i < 8; i += 2) {\r\n            if (way == 'left') {\r\n              if (me.temporary_rect.vertexData[i] < tPoint) tPoint = me.temporary_rect.vertexData[i]\r\n            } else if (way == 'right') {\r\n              if (me.temporary_rect.vertexData[i] > tPoint) tPoint = me.temporary_rect.vertexData[i]\r\n            }\r\n          }\r\n        }\r\n        if (way == 'up') {\r\n          moveStep = me.temporary_rect.centerY - (me.temporary_rect.centerY - (tPoint - (me.window_h - me.canvas_height) / 2))\r\n        } else if (way == 'down') {\r\n          moveStep = -(me.canvas_height - ((tPoint - (me.window_h - me.canvas_height) / 2) - me.temporary_rect.centerY) - me.temporary_rect.centerY)\r\n        } else if (way == 'middle') {\r\n          moveStep = (me.canvas_height / 2) - me.temporary_rect.centerY\r\n          moveStep = -moveStep\r\n        } else if (way == 'left') {\r\n          moveStep = me.temporary_rect.centerX - (me.temporary_rect.centerX - (tPoint - (me.window_w - me.canvas_width) / 2))\r\n        } else if (way == 'right') {\r\n          moveStep = -(me.canvas_width - ((tPoint - (me.window_w - me.canvas_width) / 2) - me.temporary_rect.centerX) - me.temporary_rect.centerX)\r\n        } else if (way == 'center') {\r\n          moveStep = (me.canvas_width / 2) - me.temporary_rect.centerX\r\n          moveStep = -moveStep\r\n        }\r\n        // 移动ctrl_arr里所有元素，然后再组成临时组合\r\n        // 移动************************************\r\n        for (let k = 0; k < me.ctrl_arr.length; k++) {\r\n          if (me.ctrl_arr[k].type == 'association_gap_notT') {\r\n            if (way == 'up' || way == 'down' || way == 'middle') {\r\n              me.ctrl_arr[k].y -= moveStep\r\n              me.ctrl_arr[k].centerY -= moveStep\r\n            } else if (way == 'left' || way == 'right' || way == 'center') {\r\n              me.ctrl_arr[k].x -= moveStep\r\n              me.ctrl_arr[k].centerX -= moveStep\r\n            }\r\n            me.moveOutLine(me.ctrl_arr[k].centerX, me.ctrl_arr[k].centerY, me.ctrl_arr[k])\r\n          } else {\r\n            if (way == 'up' || way == 'down' || way == 'middle') {\r\n              me.ctrl_arr[k].parent.y -= moveStep\r\n            } else if (way == 'left' || way == 'right' || way == 'center') {\r\n              me.ctrl_arr[k].parent.x -= moveStep\r\n            }\r\n            // 移动icon线框位置\r\n            me.moveOutLine(me.ctrl_arr[k].parent.x, me.ctrl_arr[k].parent.y, me.ctrl_arr[k])\r\n          }\r\n        }\r\n        if (way == 'up' || way == 'down' || way == 'middle') {\r\n          me.temporary_rect.y -= moveStep\r\n          me.temporary_rect.centerY -= moveStep\r\n        } else if (way == 'left' || way == 'right' || way == 'center') {\r\n          me.temporary_rect.x -= moveStep\r\n          me.temporary_rect.centerX -= moveStep\r\n        }\r\n        me.moveOutLine(me.temporary_rect.centerX, me.temporary_rect.centerY, me.temporary_rect)\r\n        // 移动************************************\r\n      } else if (!me.temporary_rect && me.ctrl_arr.length > 0) {\r\n        // 组合所有元素\r\n        let aPoint = 0\r\n        let moveStep = 0\r\n        let assIndex = 0\r\n        for (let a = 0; a < me.ctrl_arr.length; a++) {\r\n          if (me.ctrl_arr[a].type == 'association_gap_notT') {\r\n            assIndex = a\r\n            if (way == 'up' || way == 'down' || way == 'middle') {\r\n              aPoint = me.ctrl_arr[a].vertexData[1]\r\n              for (let k = 1; k < 8; k += 2) {\r\n                if (way == 'up') {\r\n                  if (me.ctrl_arr[a].vertexData[k] < aPoint) aPoint = me.ctrl_arr[a].vertexData[k]\r\n                } else if (way == 'down') {\r\n                  if (me.ctrl_arr[a].vertexData[k] > aPoint) aPoint = me.ctrl_arr[a].vertexData[k]\r\n                }\r\n              }\r\n            } else if (way == 'left' || way == 'right' || way == 'center') {\r\n              aPoint = me.ctrl_arr[a].vertexData[0]\r\n              for (let k = 2; k < 8; k += 2) {\r\n                if (way == 'left') {\r\n                  if (me.ctrl_arr[a].vertexData[k] < aPoint) aPoint = me.ctrl_arr[a].vertexData[k]\r\n                } else if (way == 'right') {\r\n                  if (me.ctrl_arr[a].vertexData[k] > aPoint) aPoint = me.ctrl_arr[a].vertexData[k]\r\n                }\r\n              }\r\n            }\r\n            if (way == 'up') {\r\n              moveStep = me.ctrl_arr[a].centerY - (me.ctrl_arr[a].centerY - (aPoint - (me.window_h - me.canvas_height) / 2))\r\n            } else if (way == 'down') {\r\n              moveStep = -(me.canvas_height - ((aPoint - (me.window_h - me.canvas_height) / 2) - me.ctrl_arr[a].centerY) - me.ctrl_arr[a].centerY)\r\n            } else if (way == 'middle') {\r\n              moveStep = (me.canvas_height / 2) - me.ctrl_arr[a].centerY\r\n              moveStep = -moveStep\r\n            } else if (way == 'left') {\r\n              moveStep = me.ctrl_arr[a].centerX - (me.ctrl_arr[a].centerX - (aPoint - (me.window_w - me.canvas_width) / 2))\r\n            } else if (way == 'right') {\r\n              moveStep = -(me.canvas_width - ((aPoint - (me.window_w - me.canvas_width) / 2) - me.ctrl_arr[a].centerX) - me.ctrl_arr[a].centerX)\r\n            } else if (way == 'center') {\r\n              moveStep = (me.canvas_width / 2) - me.ctrl_arr[a].centerX\r\n              moveStep = -moveStep\r\n            }\r\n          }\r\n        }\r\n        // 移动组合元素\r\n        /// /移动************************************\r\n        for (let j = 0; j < me.ctrl_arr.length; j++) {\r\n          if (me.ctrl_arr[j].type !== 'association_gap_notT') {\r\n            if (way == 'up' || way == 'down' || way == 'middle') {\r\n              me.ctrl_arr[j].parent.y -= moveStep\r\n            } else {\r\n              me.ctrl_arr[j].parent.x -= moveStep\r\n            }\r\n            // 移动icon线框位置\r\n            me.moveOutLine(me.ctrl_arr[j].parent.x, me.ctrl_arr[j].parent.y, me.ctrl_arr[j])\r\n          }\r\n        }\r\n        // 移动************************************\r\n        setTimeout(() => {\r\n          me.ctrl_arr[assIndex].change = true\r\n          me.changeAssociation(me.ctrl_arr[assIndex])\r\n          let ass_name = me.ctrl_arr[assIndex].association_name\r\n          me.renderTLine(false, true, ass_name)\r\n        }, 30)\r\n      }\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    lockFunc: function () {\r\n      const me = this\r\n      me.$set(me.right_block, 'show', false)\r\n      if (me.in_move && me.ctrl_arr.length == 0 && me.in_move.association_name == '') {\r\n        // 单个元素锁定\r\n        me.in_move.lock = true\r\n        me.containerLine(me.in_move, false, true, false, true)\r\n      } else if (!me.temporary_rect && me.ctrl_arr.length > 0) {\r\n        // 组合锁定\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          me.ctrl_arr[i].lock = true\r\n        }\r\n        // me.addACtrlarr(me.ctrl_arr[0].association_name)\r\n        // 添加组合边框给组合矩形不加加按钮,不渲染临时边框\r\n        me.renderTLine(false, true, me.ctrl_arr[0].association_name, true)\r\n      }\r\n      me.$set(me.edit_bar.btn, 'show', false)\r\n    },\r\n    unlockFunc: function () {\r\n      const me = this\r\n      me.$set(me.right_block, 'show', false)\r\n      if (me.in_move && me.ctrl_arr.length == 0 && me.in_move.association_name == '') {\r\n        // 单个元素解锁\r\n        me.in_move.lock = false\r\n        me.containerLine(me.in_move, false, true)\r\n      } else if (!me.temporary_rect && me.ctrl_arr.length > 0) {\r\n        // 组合解锁\r\n        for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n          me.ctrl_arr[i].lock = false\r\n        }\r\n        me.renderTLine(false, true, me.ctrl_arr[0].association_name, false)\r\n        me.click_ass_id = me.ctrl_arr[0].association_name\r\n      }\r\n      me.$set(me.edit_bar.btn, 'show', true)\r\n    },\r\n    updateLayer: function () {\r\n      const me = this\r\n      let data = []\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        // 排除临时组合和组合矩形\r\n        if (me.container_arr[i].cont.children[0].type !== 'temporary_rect' && me.container_arr[i].cont.children[0].type !== 'association_gap_notT' && me.container_arr[i].cont.children[0].type !== 'notSave') {\r\n          let layer_data = {}\r\n          let traget = me.container_arr[i].cont.children[0]\r\n          layer_data.type = me.container_arr[i].cont.children[0].type\r\n          layer_data.srcData = me.container_arr[i].cont.children[0].srcData\r\n          layer_data.text = me.container_arr[i].cont.children[0].text\r\n          layer_data.id = me.container_arr[i].cont.children[0].name\r\n          layer_data.role = me.container_arr[i].cont.children[0].role\r\n          layer_data.replacePosition = me.container_arr[i].cont.children[0].replacePosition\r\n          if (traget.type == 'text') {\r\n            layer_data.color = traget.style.fill\r\n            layer_data.fontSize = traget.style.fontSize * 0.3\r\n            if (layer_data.fontSize <= 14) layer_data.fontSize = 14\r\n            if (layer_data.fontSize >= 52) layer_data.fontSize = 52\r\n            if (traget.textPosition) layer_data.textPosition = traget.textPosition\r\n            layer_data.fontFamily = traget.style.fontFamily\r\n            if (traget.style.dropShadow) {\r\n              layer_data.dropShadow = true\r\n              layer_data.dropShadowColor = traget.style.dropShadowColor\r\n              layer_data.dropShadowBlur = traget.style.dropShadowBlur / 2\r\n            } else {\r\n              layer_data.dropShadowColor = 'rgba(0,0,0,0)'\r\n            }\r\n          }\r\n          layer_data.select = false\r\n          if (me.in_move && me.container_arr[i].cont.children[0].name == me.in_move.name) {\r\n            layer_data.select = true\r\n          } else if (!me.in_move && me.ctrl_arr && me.ctrl_arr.length > 0) {\r\n            let inarr = me.ctrl_arr.some(item => {\r\n              return item.name == me.container_arr[i].cont.children[0].name\r\n            })\r\n            if (inarr) layer_data.select = true\r\n          }\r\n          data.push(layer_data)\r\n        }\r\n      }\r\n      // 通知tab-layer更新图层\r\n      bus.$emit('update-layer', data)\r\n    },\r\n    pushActiveLog: function (permit = false) {\r\n      /// 操作和数据存入日志\r\n      const me = this\r\n      if (me.after_move || me.after_scale || me.after_rotate || me.after_stretch || permit) {\r\n        // 存储当前画布内容以及是否有in_move或者组合激活\r\n        let ass_id = ''\r\n        let layer_data_example = {\r\n          m_comp_name: 'product',\r\n          children: [{\r\n            ass_children: [],\r\n            association_id: ''\r\n          }]\r\n        }\r\n        let obj_data_example = { // 事例\r\n          src: '',\r\n          type: '',\r\n          id: '',\r\n          m_comp_name: 'product',\r\n          rotation: 0,\r\n          scale: 1,\r\n          position: {\r\n            x: 0,\r\n            y: 0\r\n          },\r\n          text: '',\r\n          style: {},\r\n          alpha: 1,\r\n          size: {},\r\n          arc: {},\r\n          skew: {}\r\n        }\r\n        let log_data = []\r\n        let data = {}\r\n        for (let i = 0; i < me.container_arr.length; i++) {\r\n          if (me.container_arr[i].cont.children[0].type !== 'temporary_rect' && me.container_arr[i].cont.children[0].type !== 'association_gap_notT' && me.container_arr[i].cont.children[0].type !== 'notSave') {\r\n            let obj = me.container_arr[i].cont.children[0]\r\n            let element_data = _.cloneDeep(obj_data_example)\r\n            if (obj.association_name == '' || (obj.association_name !== '' && obj.association_name !== ass_id)) {\r\n              if (data.children && data.children[0].ass_children.length >= 1) {\r\n                log_data.push(data)\r\n              }\r\n              data = _.cloneDeep(layer_data_example)\r\n            }\r\n            if (obj.association_name !== '') {\r\n              data.children[0].association_id = obj.association_name\r\n              ass_id = obj.association_name\r\n            }\r\n            if (obj.type === 'image') {\r\n              element_data.src = obj.srcData\r\n              element_data.type = 'image'\r\n              element_data.file_id = obj.file_id\r\n              element_data.size.width = obj.width\r\n              element_data.size.height = obj.height\r\n              element_data.replacePosition = obj.replacePosition // 裂变的图片替换位置标记\r\n              // 如果是弧形装饰图片，要加上arc属性\r\n              if (obj.role.search('arc') !== -1) {\r\n                element_data.arc = me.arc_obj[obj.role].arc\r\n              }\r\n            } else if (obj.type === 'text') {\r\n              element_data.type = 'text'\r\n              let style = {\r\n                fontFamily: '思源黑体',\r\n                fontSize: 50,\r\n                lineHeight: 60,\r\n                fontStyle: 'normal',\r\n                fontWeight: 'bold',\r\n                fill: '#000',\r\n                stroke: '#000',\r\n                strokeThickness: 0,\r\n                dropShadow: false,\r\n                dropShadowColor: '#000000',\r\n                dropShadowAngle: Math.PI / 6,\r\n                dropShadowBlur: 0,\r\n                dropShadowDistance: 18,\r\n                wordWrap: true,\r\n                wordWrapWidth: 300,\r\n                breakWords: true,\r\n                padding: 50,\r\n                textBaseline: 'Middle',\r\n                trim: false,\r\n                whiteSpace: 'normal',\r\n                leading: 0,\r\n                letterSpacing: 0,\r\n                align: 'left'\r\n              }\r\n              for (let key in style) {\r\n                style[key] = obj.style[key]\r\n              }\r\n              element_data.style = style\r\n              element_data.style.fontSize = Math.floor(element_data.style.fontSize)\r\n              element_data.text = obj.text\r\n              element_data.size.width = obj.width\r\n              element_data.size.height = obj.height\r\n              element_data.textReplace = obj.textReplace // 记录文案替换位置序号和名称\r\n              element_data.textPosition = obj.textPosition\r\n              element_data.textReverse = obj.textReverse\r\n            }\r\n            element_data.id = obj.name\r\n            element_data.rotation = obj.rotation\r\n            element_data.scale = obj.scale.x\r\n            element_data.position.x = obj.parent.x\r\n            element_data.position.y = obj.parent.y\r\n            element_data.alpha = obj.alpha\r\n            element_data.role = obj.role\r\n            element_data.skew = {\r\n              x: obj.skew.x,\r\n              y: obj.skew.y\r\n            }\r\n            element_data.hueNumber = obj.hueNumber\r\n            data.children[0].ass_children.push(element_data)\r\n            if (i == me.container_arr.length - 1) {\r\n              log_data.push(data)\r\n            }\r\n            obj = null\r\n            element_data = null\r\n          }\r\n        }\r\n        if (me.active_log.length >= 30) {\r\n          me.active_log.splice(0, 1)\r\n        }\r\n        me.active_log.splice(me.active_index + 1, 30)\r\n        me.active_log.push(log_data)\r\n        me.$set(me, 'active_index', me.active_log.length - 1)\r\n        me.$set(me, 'after_move', false)\r\n        me.$set(me, 'after_scale', false)\r\n        me.$set(me, 'after_rotate', false)\r\n        me.$set(me, 'after_stretch', false)\r\n        bus.$emit('mould_change')\r\n        console.log('记录行为')\r\n        // console.log(me.active_log[me.active_log.length - 1])\r\n      }\r\n    },\r\n    resetCanvas: function () {\r\n      const me = this\r\n      let browser_w = document.body.clientWidth\r\n      let browser_h = document.body.clientHeight\r\n      browser_h -= 0\r\n      let browser_ratio = browser_w / browser_h\r\n      let canvas_ratio = me.canvas_width / me.canvas_height\r\n      let ratio = 0\r\n      if (canvas_ratio >= browser_ratio) {\r\n        ratio = browser_w / me.canvas_width\r\n      } else if (canvas_ratio < browser_ratio) {\r\n        ratio = browser_h / me.canvas_height\r\n      }\r\n      ratio -= 0.14\r\n      ratio = Math.floor(ratio * 100) / 100\r\n      me.$set(me, 'canvas_scale', ratio)\r\n      document.getElementById('pixiCanvas').style.transform = `scale(${ratio}) translateX(-${me.window_w / 2}px)`\r\n      // translateY(-710px)\r\n    },\r\n    onresize: function () {\r\n      const me = this\r\n      let resize = null\r\n      return function () {\r\n        if (resize) {\r\n          clearTimeout(resize)\r\n          resize = null\r\n        }\r\n        resize = setTimeout(() => {\r\n          me.resetCanvas()\r\n        }, 100)\r\n      }\r\n    },\r\n    canvasScale: function (type) {\r\n      const me = this\r\n      let ratio = me.canvas_scale\r\n      if (type == 'reduce') {\r\n        ratio -= 0.05\r\n      } else {\r\n        ratio += 0.05\r\n      }\r\n      ratio = Math.floor(ratio * 100) / 100\r\n      me.$set(me, 'canvas_scale', ratio)\r\n      document.getElementById('pixiCanvas').style.transform = `scale(${ratio}) translateX(-${me.window_w / 2}px)`\r\n    },\r\n    showRuler: function () {\r\n      const me = this\r\n      me.ruler_container.visible = !me.ruler_container.visible\r\n    },\r\n    json_f: function (obj) {\r\n      return JSON.stringify(obj)\r\n    },\r\n    obj_f: function (json) {\r\n      return JSON.parse(json)\r\n    },\r\n    moveStructureText: function () {\r\n      // 移动骨架文字\r\n      const me = this\r\n      if (me.in_move.structure) {\r\n        let up_d = 0\r\n        let left_d = 0\r\n        // a骨架的标题与副标题的位置\r\n        if (me.in_move.role == 'title') {\r\n          up_d = 75\r\n          left_d = 50\r\n        } else if (me.in_move.role == 'subtitle') {\r\n          up_d = 150\r\n          left_d = 50\r\n        }\r\n        setTimeout(() => {\r\n          me.locationMove('up', up_d)\r\n          setTimeout(() => {\r\n            me.locationMove('left', left_d)\r\n          }, 50)\r\n        }, 50)\r\n      }\r\n    },\r\n    setRole: function (content) {\r\n      const me = this\r\n      if (content.search('arc') !== -1) {\r\n        axios({\r\n          method: 'GET',\r\n          url: `arc_find_file?id=${me.in_move.file_id}`\r\n        }).then(res => {\r\n          me.in_move.arc = JSON.parse(res.data.data.arc)\r\n          // 保存弧形信息\r\n          me.$set(me.arc_obj, content, me.in_move)\r\n\r\n          me.in_move.role = content\r\n          me.updateLayer()\r\n          // 存储进活动日志\r\n          me.pushActiveLog(true)\r\n          me.$set(me.right_block, 'show', false)\r\n        })\r\n      } else {\r\n        if (content !== 'normal') {\r\n          me.$set(me.tempRoleMsg, content, me.tempRoleMsg[content] += 1)\r\n        } else if (content == 'normal') {\r\n          if (me.in_move.role.search('arc') !== -1) {\r\n            // 清空弧形信息\r\n            me.$set(me.arc_obj, content, '')\r\n          } else {\r\n            me.$set(me.tempRoleMsg, me.in_move.role, me.tempRoleMsg[me.in_move.role] -= 1)\r\n          }\r\n        }\r\n      }\r\n      me.in_move.role = content\r\n      me.updateLayer()\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n      me.$set(me.right_block, 'show', false)\r\n    },\r\n    setPosition: function (num) {\r\n      // 裂变功能的替换位置\r\n      const me = this\r\n      me.in_move.replacePosition = num\r\n      me.updateLayer()\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n      me.$set(me.right_block, 'show', false)\r\n    },\r\n    setReplaceText: function () {\r\n      const me = this\r\n      me.$set(me, 'mouldFuncShow', true)\r\n    },\r\n    updateTextPosition: function (arr) {\r\n      this.$set(this, 'textPositionArr', arr)\r\n    },\r\n    handleCommand: function (data) {\r\n      let [index, item] = data\r\n      // 选择了文案替换位置\r\n      const me = this\r\n      if (index === -1) {\r\n        me.in_move.textReplace = null\r\n        me.in_move.textPosition = ''\r\n      } else {\r\n        me.in_move.textReplace = index\r\n        me.in_move.textPosition = item\r\n      }\r\n      me.updateLayer()\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n      me.$set(me.right_block, 'show', false)\r\n    },\r\n    recommendText: function (arr) {\r\n      const me = this\r\n      me.fullscreenLoading = true\r\n      // 点击了推荐文案，要对整个模板对推荐文案部分替换。如果已经删除，则不进行替换。利用map结构，数字0，1，2等作为键名。对应的图层数组做为键值\r\n      let text = arr\r\n      let textmap = new Map()\r\n      let fontFamily = {}\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        if (typeof (me.container_arr[i].cont.children[0].textReplace) == 'number') {\r\n          let textReplace = me.container_arr[i].cont.children[0].textReplace\r\n          textmap.set(textReplace, textmap.get(textReplace) ? [...textmap.get(textReplace), me.container_arr[i].cont.children[0]] : [me.container_arr[i].cont.children[0]])\r\n          fontFamily[`${me.container_arr[i].cont.children[0].style.fontFamily}`] =\r\n            (fontFamily[`${me.container_arr[i].cont.children[0].style.fontFamily}`] ? fontFamily[`${me.container_arr[i].cont.children[0].style.fontFamily}`] : '') +\r\n            text[textReplace]\r\n        }\r\n      }\r\n      // console.log(textmap)\r\n      // 获取字体\r\n      // 字体加载\r\n      me.getfontFamilyBack(fontFamily).then(() => {\r\n        // 循环图层替换字体\r\n        setTimeout(() => {\r\n          for (let [key, value] of textmap) {\r\n            if (value.length > 1) {\r\n              // 比如 【我，爱你】去替换 【你，拜拜】则你图层在拜拜图层之下\r\n              let start = 0\r\n              for (let i = 0; i < value.length; i++) {\r\n                value[i].text = text[key].slice(start, value[i].text.length + start)\r\n                start += value[i].text.length\r\n              }\r\n            } else {\r\n              let ow = value[0].width\r\n              if (value[0].textReverse) {\r\n                let re = text[key].split('')\r\n                re = re.reverse()\r\n                value[0].text = re.join('')\r\n              } else {\r\n                value[0].text = text[key]\r\n              }\r\n              let afterw = value[0].width\r\n              console.log('原' + ow)\r\n              console.log('后' + afterw)\r\n            }\r\n            textmap.set(key, '')\r\n          }\r\n          me.fullscreenLoading = false\r\n          // 要记录日志更新layer\r\n          me.pushActiveLog(true)\r\n          me.updateLayer()\r\n        }, 300)\r\n      })\r\n    },\r\n    getfontFamilyBack: function (font_family) {\r\n      const me = this\r\n      return new Promise(function (resolve, reject) {\r\n        me.getAllfontFamily(font_family)\r\n          .then(function (res) {\r\n            if (res === 'stf') {\r\n              resolve()\r\n              return false\r\n            }\r\n            let aarr = []\r\n            // 加载css文件，从而自动加载woff文件\r\n            for (let i = 0; i < res.length; i++) {\r\n              if (res[i].data.code !== 1) continue\r\n              aarr = [...aarr, ...me.getCssWoff(res[i].data.path, res[i].data.woffPath)]\r\n              me.dynamicLoadCss(me.api.file_path + res[i].data.path)\r\n            }\r\n            axios\r\n              .all(aarr)\r\n              .then(function (response) {\r\n                // 下方的linkcss，以及字体的加载读缓存就好了。\r\n                setTimeout(() => {\r\n                  // 字体加载完毕回调\r\n                  resolve()\r\n                }, 50)\r\n              })\r\n              .catch(res => {\r\n                reject(res)\r\n              })\r\n          })\r\n          .catch(res => {\r\n            reject(res)\r\n          })\r\n      })\r\n    },\r\n    textReverse: function (hastext = null) {\r\n      const me = this\r\n      let text = hastext ? hastext.split('') : me.in_move.text.split('')\r\n      text = text.reverse()\r\n      me.in_move.text = text.join('')\r\n      me.in_move.textReverse = true\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <div id=\"mainCanvas\" v-loading.fullscreen.lock=\"(fullscreenLoading&&firstEdit)\">\r\n    <div\r\n      class=\"mouse_right_block\"\r\n      v-show=\"right_block.show\"\r\n      v-bind:style=\"{ left: right_block.rb_left, top: right_block.rb_top }\"\r\n    >\r\n      <div\r\n        class=\"mouse_right_btn right_btn_association\"\r\n        v-show=\"right_block_ass && user_type != 'designer'\"\r\n      >\r\n        <div v-if=\"right_block.menu.ass == 1\" @click=\"onRightAss\">组合</div>\r\n        <div v-else-if=\"right_block.menu.ass == 2\" @click=\"onRight_unAss\">取消组合</div>\r\n      </div>\r\n      <div class=\"mouse_right_btn\" v-show=\"right_block.menu.show_lock\">\r\n        <div v-if=\"!right_block.menu.lock\" @click=\"lockFunc\">{{ right_block.lock_text }}</div>\r\n        <div v-if=\"right_block.menu.lock\" @click=\"unlockFunc\">{{ right_block.unlock_text }}</div>\r\n      </div>\r\n      <div v-if=\"new_structure_id != ''|| true\" class=\"mouse_right_btn\" @click=\"moveIndex(true)\">上移</div>\r\n      <div v-if=\"new_structure_id != ''|| true\" class=\"mouse_right_btn\" @click=\"moveIndex(false)\">下移</div>\r\n      <div\r\n        v-if=\"new_structure_id != ''|| true\"\r\n        class=\"mouse_right_btn\"\r\n        @click=\"moveIndex(true, 'maxUp')\"\r\n      >置顶</div>\r\n      <div\r\n        v-if=\"new_structure_id != ''|| true\"\r\n        class=\"mouse_right_btn\"\r\n        @click=\"moveIndex(false, 'maxDown')\"\r\n      >置底</div>\r\n      <div\r\n        class=\"mouse_right_btn\"\r\n        @click=\"onEdit\"\r\n        v-if=\"right_block.menu.edit_text && user_type != 'designer'\"\r\n      >更改文字</div>\r\n      <div\r\n        class=\"mouse_right_btn\"\r\n        @click=\"changeImage\"\r\n        v-if=\"right_block.menu.change && user_type != 'designer'\"\r\n      >更换图片</div>\r\n      <div class=\"mouse_right_btn\" @click=\"toImage(false)\" v-if=\"user_type != 'designer'\">导出图片</div>\r\n      <div\r\n        class=\"mouse_right_btn right_btn_delete\"\r\n        v-show=\"right_block.menu.del && in_move && !in_move.structure\"\r\n        @click=\"onRightDelete\"\r\n      >删除</div>\r\n      <div v-if=\"user_type == 'designer'\">\r\n        <!-- <div class=\"mouse_right_btn\" @click=\"setRole('title')\" v-show=\"in_move && in_move.type == 'text' && in_move.role != 'title'\">设为标题</div>\r\n        <div class=\"mouse_right_btn\" @click=\"setRole('subtitle')\" v-show=\"\r\n            in_move && in_move.type == 'text' && in_move.role != 'subtitle'\r\n        \">设为副标题</div>-->\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('arc_title')\"\r\n          v-show=\"\r\n            in_move && in_move.type == 'text' && in_move.role != 'arc_title'\r\n          \"\r\n        >设为弧形标题</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('arc_subtitle')\"\r\n          v-show=\"\r\n            in_move && in_move.type == 'text' && in_move.role != 'arc_subtitle'\r\n          \"\r\n        >设为弧形副标题</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('logo')\"\r\n          v-show=\"in_move && in_move.type == 'image' && in_move.role != 'logo'\"\r\n        >设为logo</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('main')\"\r\n          v-show=\"in_move && in_move.type == 'image' && in_move.role != 'main'\"\r\n        >设为主图</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('arc_titleImg')\"\r\n          v-show=\"\r\n            in_move && in_move.type == 'image' && in_move.role != 'arc_titleImg'\r\n          \"\r\n        >设为弧形标题装饰</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('arc_subtitleImg')\"\r\n          v-show=\"\r\n            in_move &&\r\n              in_move.type == 'image' &&\r\n              in_move.role != 'arc_subtitleImg'\r\n          \"\r\n        >设为弧形副标题装饰</div>\r\n        <div\r\n          v-show=\"\r\n            in_move &&\r\n              in_move.type == 'image' &&\r\n              in_move.replacePosition == null &&\r\n              new_structure_id != ''\r\n          \"\r\n          v-for=\"(item, index) in structure_position\"\r\n          :key=\"index\"\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setPosition(item.position)\"\r\n        >\"{{ item.position_name }}\"替换位置</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setPosition(null)\"\r\n          v-if=\"\r\n            in_move &&\r\n              in_move.type == 'image' &&\r\n              in_move.replacePosition >= 0 &&\r\n              new_structure_id != '' &&\r\n              (in_move.replacePosition || in_move.replacePosition == 0)\r\n          \"\r\n        >取消替换位置</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('bg')\"\r\n          v-show=\"\r\n            in_move &&\r\n              in_move.type == 'image' &&\r\n              in_move.role != 'bg' &&\r\n              tempRoleMsg.bg == 0\r\n          \"\r\n        >设为背景</div>\r\n        <el-dropdown class=\"mouse_right_btn\" @command=\"handleCommand\">\r\n          <span class=\"el-dropdown-link\">\r\n            文案替换\r\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n          </span>\r\n          <el-dropdown-menu slot=\"dropdown\" class=\"drodown-select\">\r\n            <el-dropdown-item\r\n              v-for=\"(item, index) in textPositionArr\"\r\n              :key=\"index\"\r\n              :command=\"[index, item]\"\r\n            >{{ item }}</el-dropdown-item>\r\n            <el-dropdown-item :command=\"[-1, '']\">取消替换位置</el-dropdown-item>\r\n          </el-dropdown-menu>\r\n        </el-dropdown>\r\n        <!-- <div class=\"mouse_right_btn\" @click=\"recommendText\">测试推荐文案</div> -->\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"setRole('normal')\"\r\n          v-show=\"in_move && in_move.role != 'normal'\"\r\n        >取消角色</div>\r\n        <div\r\n          class=\"mouse_right_btn\"\r\n          @click=\"textReverse(null)\"\r\n          v-show=\"in_move && in_move.type == 'text'\"\r\n        >文本倒序</div>\r\n      </div>\r\n    </div>\r\n    <transition name=\"slide-fade\">\r\n      <div class=\"edit_bar\" v-show=\"edit_bar.btn.show\">\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"编辑\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div class=\"edit_btn editf_btn\" v-show=\"edit_bar.btn.edit\" @click=\"onEdit\"></div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"编辑文字\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn text_btn\"\r\n            v-show=\"edit_bar.btn.text\"\r\n            @click.self=\"show_text_block\"\r\n            :class=\"{ text_btn_active: edit_bar.edit_text }\"\r\n          >\r\n            <div class=\"text_block\" v-show=\"edit_bar.edit_text\">\r\n              <div class=\"block_title block_title_text\">文 字</div>\r\n              <div class=\"text_body_block\">\r\n                <el-row class=\"text_row\">\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"grid-content text_left\">字体</div>\r\n                    <el-button class=\"text_fontFamily\" @click=\"showFontFamily\">{{ ffName }}</el-button>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"text_row\">\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"grid-content text_left\">字号</div>\r\n                    <!-- <el-input v-model=\"edit_bar.text.fontSize\" @change=\"fontSize_change\" class=\"text_fontSize align_right\" type=\"number\">\r\n                    </el-input>-->\r\n                    <el-input-number\r\n                      v-model=\"edit_bar.text.fontSize\"\r\n                      controls-position=\"right\"\r\n                      @change=\"fontSize_change\"\r\n                      :min=\"1\"\r\n                      :max=\"500\"\r\n                      class=\"text_fontSize align_right\"\r\n                    ></el-input-number>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"text_row\">\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"grid-content text_left\">\r\n                      倾斜\r\n                      <el-switch\r\n                        class=\"align_right\"\r\n                        :value=\"\r\n                          edit_bar.text.fontStyle == 'normal' ? false : true\r\n                        \"\r\n                        active-color=\"#13ce66\"\r\n                        inactive-color=\"#ff4949\"\r\n                        @change=\"fontStyle_change\"\r\n                      ></el-switch>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"text_row\">\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"grid-content text_left\">\r\n                      加粗\r\n                      <el-switch\r\n                        class=\"align_right\"\r\n                        :value=\"\r\n                          this.edit_bar.text.fontWeight == 'normal'\r\n                            ? false\r\n                            : true\r\n                        \"\r\n                        active-color=\"#13ce66\"\r\n                        inactive-color=\"#ff4949\"\r\n                        @change=\"fontWeightChange\"\r\n                      ></el-switch>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"text_row\" style=\"padding-bottom:0\">\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"grid-content text_left\">\r\n                      字间距\r\n                      <el-slider\r\n                        v-model=\"edit_bar.text.letterSpacing\"\r\n                        class\r\n                        :min=\"-40\"\r\n                        :max=\"50\"\r\n                        @change=\"letterSpacing_change\"\r\n                      ></el-slider>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"text_row\" style=\"padding-bottom:0\">\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"grid-content text_left\">\r\n                      行间距\r\n                      <el-slider\r\n                        v-model=\"edit_bar.text.leading\"\r\n                        class\r\n                        :min=\"-30\"\r\n                        :max=\"100\"\r\n                        @change=\"leading_change\"\r\n                      ></el-slider>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n              <div class=\"fontFamily_select\" v-show=\"edit_bar.edit_fontFamily_select\">\r\n                <div class=\"block_title block_title_text\">字 体</div>\r\n                <div class=\"fontFamily_body_block\">\r\n                  <div\r\n                    class=\"fontFamily_option\"\r\n                    v-for=\"item in edit_bar.fontFamily\"\r\n                    :key=\"item.value\"\r\n                    @click=\"fontFamily_change(item.value)\"\r\n                    :style=\"{ 'font-family': item.value }\"\r\n                  >{{ item.name }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"颜色\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn color_btn\"\r\n            v-show=\"edit_bar.btn.color\"\r\n            @click.self=\"showColorBlock\"\r\n            :class=\"{ color_btn_active: edit_bar.edit_color }\"\r\n          >\r\n            <div class=\"align_block\" v-show=\"edit_bar.edit_color\">\r\n              <div class=\"block_title\">颜 色</div>\r\n              <div class=\"align_body_block\">\r\n                <el-row class>\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"block text_left\">\r\n                      <el-color-picker\r\n                        class=\"align_right font_color_picker\"\r\n                        v-model=\"edit_bar.text.color\"\r\n                        @active-change=\"fontColor_change\"\r\n                        popper-class=\"font_color\"\r\n                      ></el-color-picker>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"对齐\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn align_btn\"\r\n            v-show=\"edit_bar.btn.align\"\r\n            @click.self=\"showEditAlign\"\r\n            :class=\"{ align_btn_active: edit_bar.edit_align }\"\r\n          >\r\n            <div class=\"align_block\" v-show=\"edit_bar.edit_align\">\r\n              <div class=\"block_title\">对 齐</div>\r\n              <div class=\"align_body_block\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"alignChange('left')\" class=\"location_in_btn align_left\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"alignChange('center')\" class=\"location_in_btn align_center\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"alignChange('right')\" class=\"location_in_btn align_right_img\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"阴影\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn shadow_btn\"\r\n            v-show=\"edit_bar.btn.shadow\"\r\n            @click.self=\"showEditShadow\"\r\n            :class=\"{ shadow_btn_active: edit_bar.edit_shadow }\"\r\n          >\r\n            <div class=\"shadow_block\" v-show=\"edit_bar.edit_shadow\">\r\n              <div class=\"block_title\">阴 影</div>\r\n              <div class=\"shadow_body_block\">\r\n                <el-row class=\"text_row\">\r\n                  <el-col :span=\"24\">\r\n                    <div class=\"grid-content text_left\">\r\n                      开启阴影\r\n                      <el-switch\r\n                        class=\"align_right\"\r\n                        v-model=\"edit_bar.text.dropShadow\"\r\n                        active-color=\"#13ce66\"\r\n                        inactive-color=\"#ff4949\"\r\n                        @change=\"dropShadow\"\r\n                      ></el-switch>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <div v-show=\"edit_bar.text.dropShadow\">\r\n                  <el-row class=\"text_row\">\r\n                    <el-col :span=\"24\">\r\n                      <div class=\"block text_left\">\r\n                        阴影颜色\r\n                        <el-color-picker\r\n                          color-format=\"hex\"\r\n                          class=\"align_right shadow_color_picker\"\r\n                          v-model=\"edit_bar.text.dropShadowColor\"\r\n                          @active-change=\"dropShadowColorChange\"\r\n                          size=\"small\"\r\n                          popper-class=\"font_color shadow_color\"\r\n                        ></el-color-picker>\r\n                      </div>\r\n                    </el-col>\r\n                  </el-row>\r\n                  <el-row class=\"text_row\">\r\n                    <el-col :span=\"24\">\r\n                      <div class=\"grid-content text_left\">\r\n                        阴影模糊\r\n                        <el-slider\r\n                          v-model=\"edit_bar.text.dropShadowBlur\"\r\n                          class\r\n                          :min=\"0\"\r\n                          :max=\"20\"\r\n                          @change=\"dropShadowBlurChange\"\r\n                        ></el-slider>\r\n                      </div>\r\n                    </el-col>\r\n                  </el-row>\r\n                  <el-row class=\"text_row\">\r\n                    <el-col :span=\"24\">\r\n                      <div class=\"grid-content text_left\">\r\n                        阴影距离\r\n                        <el-slider\r\n                          v-model=\"edit_bar.text.dropShadowDistance\"\r\n                          class\r\n                          :min=\"0\"\r\n                          :max=\"30\"\r\n                          @change=\"dropShadowDistanceChange\"\r\n                        ></el-slider>\r\n                      </div>\r\n                    </el-col>\r\n                  </el-row>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"更换图片\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div class=\"edit_btn changef_btn\" v-show=\"edit_bar.btn.change_image\" @click=\"changeImage\"></div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"位置\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn location_btn\"\r\n            v-show=\"edit_bar.btn.location\"\r\n            @click.self=\"showEditLocation\"\r\n            :class=\"{ location_btn_active: edit_bar.edit_location }\"\r\n          >\r\n            <div class=\"location_block\" v-show=\"edit_bar.edit_location\">\r\n              <div class=\"block_title\">位 置</div>\r\n              <div class=\"location_body_block\">\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"locationMove('left')\" class=\"location_in_btn location_left\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"locationMove('center')\" class=\"location_in_btn location_center\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"locationMove('right')\" class=\"location_in_btn location_right\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\" style=\"margin-top:2px\">\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"locationMove('up')\" class=\"location_in_btn location_top\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"locationMove('middle')\" class=\"location_in_btn location_middle\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"8\">\r\n                    <div class=\"grid-content\">\r\n                      <div @click=\"locationMove('down')\" class=\"location_in_btn location_bottom\"></div>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"旋转\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn rotation_btn\"\r\n            v-show=\"edit_bar.btn.rotation\"\r\n            @click.self=\"show_rotation_block\"\r\n            :class=\"{ rotation_btn_active: edit_bar.edit_rotation }\"\r\n          >\r\n            <div class=\"rotation_block\" v-show=\"edit_bar.edit_rotation\">\r\n              <div class=\"block_title\">旋 转</div>\r\n              <div class=\"rotation_body_block\">\r\n                <el-slider\r\n                  v-model=\"edit_bar.rotation\"\r\n                  @change=\"rotationChange\"\r\n                  :min=\"-180\"\r\n                  :max=\"180\"\r\n                  :show-tooltip=\"false\"\r\n                ></el-slider>\r\n                <p>{{ edit_bar.rotation }}°</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"倾斜\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn skew_btn\"\r\n            v-show=\"edit_bar.btn.skew\"\r\n            @click.self=\"show_skew_block\"\r\n            :class=\"{ skew_btn_active: edit_bar.edit_skew }\"\r\n          >\r\n            <div class=\"skew_block\" v-show=\"edit_bar.edit_skew\">\r\n              <div class=\"block_title\">倾斜</div>\r\n              <div class=\"skew_body_block\">\r\n                <p>X轴倾斜</p>\r\n                <el-slider\r\n                  v-model=\"edit_bar.skewX\"\r\n                  @change=\"skewChange('x')\"\r\n                  :min=\"-1\"\r\n                  :max=\"1\"\r\n                  :show-tooltip=\"true\"\r\n                  :step=\"0.1\"\r\n                ></el-slider>\r\n                <p>Y轴倾斜</p>\r\n                <el-slider\r\n                  v-model=\"edit_bar.skewY\"\r\n                  @change=\"skewChange('y')\"\r\n                  :min=\"-1\"\r\n                  :max=\"1\"\r\n                  :show-tooltip=\"true\"\r\n                  :step=\"0.1\"\r\n                ></el-slider>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"透明度\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn opacity_btn\"\r\n            v-show=\"edit_bar.btn.opacity\"\r\n            @click.self=\"show_opacity_block\"\r\n            :class=\"{ opacity_btn_active: edit_bar.edit_opacity }\"\r\n          >\r\n            <div class=\"opacity_block\" v-show=\"edit_bar.edit_opacity\">\r\n              <div class=\"block_title\">透 明 度</div>\r\n              <div class=\"opacity_body_block\">\r\n                <el-slider\r\n                  v-model=\"edit_bar.opacity\"\r\n                  @change=\"opacity_change\"\r\n                  class=\"opacity_slider\"\r\n                  :show-tooltip=\"false\"\r\n                ></el-slider>\r\n                <p>{{ edit_bar.opacity }}%</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"色相\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn hue_btn\"\r\n            v-show=\"edit_bar.btn.hue\"\r\n            @click.self=\"show_hue_block\"\r\n            :class=\"{ hue_btn_active: edit_bar.edit_hue }\"\r\n          >\r\n            <div class=\"hue_block\" v-show=\"edit_bar.edit_hue\">\r\n              <div class=\"block_title\">色相</div>\r\n              <div class=\"hue_body_block\">\r\n                <el-slider\r\n                  v-model=\"edit_bar.hue\"\r\n                  class=\"opacity_slider\"\r\n                  :show-tooltip=\"true\"\r\n                  @change=\"changeHue\"\r\n                  :min=\"0\"\r\n                  :max=\"1\"\r\n                  :step=\"0.05\"\r\n                ></el-slider>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"层级\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div\r\n            class=\"edit_btn upDown_btn\"\r\n            v-show=\"edit_bar.btn.updown\"\r\n            @click=\"showLayerBlock\"\r\n            :class=\"{ upDown_btn_active: edit_bar.edit_layer }\"\r\n          >\r\n            <div class=\"layer_block\" v-show=\"edit_bar.edit_layer\">\r\n              <div class=\"block_title\">图 层</div>\r\n              <div class=\"layer_body_block\">\r\n                <div class=\"up_btn\" @click=\"moveIndex(true)\">\r\n                  <div class=\"up_btn_logo\"></div>\r\n                  <p class=\"btn_p\">上移</p>\r\n                </div>\r\n                <div class=\"down_btn\" @click=\"moveIndex(false)\">\r\n                  <div class=\"down_btn_logo\"></div>\r\n                  <p class=\"btn_p\">下移</p>\r\n                </div>\r\n                <div class=\"up_btn maxUp_btn\" @click=\"moveIndex(true, 'maxUp')\">\r\n                  <div class=\"maxUp_btn_logo\"></div>\r\n                  <p class=\"btn_p\">置顶</p>\r\n                </div>\r\n                <div class=\"down_btn maxDown_btn\" @click=\"moveIndex(false, 'maxDown')\">\r\n                  <div class=\"maxDown_btn_logo\"></div>\r\n                  <p class=\"btn_p\">置底</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-tooltip>\r\n        <el-tooltip\r\n          class=\"item\"\r\n          effect=\"light\"\r\n          content=\"删除\"\r\n          placement=\"right\"\r\n          popper-class=\"tooltip\"\r\n        >\r\n          <div class=\"edit_btn delete_btn\" v-show=\"edit_bar.btn.delete\" @click=\"onRightDelete\"></div>\r\n        </el-tooltip>\r\n      </div>\r\n    </transition>\r\n    <div class=\"mouldFuncButton\">\r\n      <el-tooltip\r\n        class=\"item\"\r\n        effect=\"dark\"\r\n        content=\"添加文案替换功能\"\r\n        placement=\"top\"\r\n        v-if=\"user_type == 'designer'\"\r\n      >\r\n        <div class=\"replaceTextButton funcButton\" @click=\"setReplaceText\"></div>\r\n      </el-tooltip>\r\n      <!-- <div class=\"hueButton funcButton\">\r\n        <div class=\"hue_block\">\r\n          <div class=\"block_title\">色相</div>\r\n          <div class=\"hue_body_block\">\r\n            <el-slider v-model=\"main_hue\" class=\"opacity_slider\" :show-tooltip=\"true\" @change=\"allHue\" :min=\"0\" :max=\"1\" :step=\"0.05\"></el-slider>\r\n          </div>\r\n        </div>\r\n      </div>-->\r\n      <div class=\"addButton funcButton\" @click=\"addPopShow(true)\"></div>\r\n    </div>\r\n    <addPop v-show=\"addPop\" />\r\n    <mould-func\r\n      v-if=\"mouldFuncShow\"\r\n      :open-block=\"openF\"\r\n      :text-position-arr=\"textPositionArr\"\r\n      v-model=\"saveTextRule\"\r\n      @update-text-position=\"updateTextPosition\"\r\n      @close-mould-funcshow=\"mouldFuncShow = false\"\r\n    />\r\n    <div class=\"bottom_f\">\r\n      <div class=\"bottom_f_btn\">{{ canvas_ratio_arr[0] }}:{{ canvas_ratio_arr[1] }}</div>\r\n      <div class=\"bottom_f_btn\" @click=\"showRuler\">\r\n        <div class=\"ruler\"></div>\r\n      </div>\r\n      <div class=\"bottom_f_btn\" @click=\"moveActiveLog('prev')\">\r\n        <div class=\"prevBtn\"></div>\r\n      </div>\r\n      <div class=\"bottom_f_btn\" @click=\"moveActiveLog('next')\">\r\n        <div class=\"nextBtn\"></div>\r\n      </div>\r\n      <div class=\"bottom_f_btn\">\r\n        <span class=\"reduce_scale\" @click=\"canvasScale('reduce')\">-</span>\r\n        <span>{{ parseInt(canvas_scale * 100) }}%</span>\r\n        <span class=\"plus_scale\" @click=\"canvasScale('plus')\">+</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<script>\r\nimport * as PIXI from 'pixi.js'\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\nimport bus from '@/eventBus.js'\r\nimport axios from 'axios'\r\nimport element_func from '@/homeComponents/pixiFunc/element_function.js'\r\nimport container_func from '@/homeComponents/pixiFunc/container_function.js'\r\nimport other_func from '@/homeComponents/pixiFunc/other_function.js'\r\nimport scale from '../assets/scale.png'\r\nimport rotate from '../assets/rotate.png'\r\nimport stretch from '../assets/stretch.png'\r\nimport '@/homeComponents/css/canvas.less'\r\ndocument.oncontextmenu = function() {\r\n  event.returnValue = false\r\n}\r\nexport default {\r\n  mixins: [element_func, container_func, other_func],\r\n  name: 'Canvas',\r\n  props: {\r\n    msg: String\r\n  },\r\n  data() {\r\n    return {\r\n      reRender: true,\r\n      scale: scale,\r\n      rotate: rotate,\r\n      stretch: stretch,\r\n      p_app: null,\r\n      img_app: null,\r\n      r_btn_h: 30, // 旋转按钮偏移量\r\n      association: [], // 组合对象数组，一个组合可以包含多个容器\r\n      ass_r_data: {}, // 补充的组合旋转时运算的数据\r\n      container_arr: [], // 容器数组中index越小，层级越低\r\n      outLine_container: null,\r\n      mainStage_container: null,\r\n      ruler_container: null,\r\n      in_move: null,\r\n      temporary_rect: null,\r\n      ctrl_arr: [],\r\n      img_loading: false, // 图片元素加载变量，控制每次只有一个图片加载\r\n      click_ass_id: '', // 上一个click对象\r\n      can_scale: 0,\r\n      can_rotate: 0,\r\n      can_stretch: 0,\r\n      after_move: false,\r\n      after_scale: false,\r\n      after_rotate: false,\r\n      after_stretch: false,\r\n      canvas_scale: 1,\r\n      addPop: false,\r\n      right_block: {\r\n        // 右键点击面板的属性数据\r\n        rb_left: '0px',\r\n        rb_top: '0px',\r\n        show: false,\r\n        menu: {\r\n          ass: 1, // 1代表组合，2代表取消组合，3代表没有组合按钮\r\n          lock: false,\r\n          del: true,\r\n          top: false,\r\n          bot: false,\r\n          cop: true,\r\n          show_lock: false,\r\n          change: false,\r\n          edit_text: false\r\n        },\r\n        delete_type: 0,\r\n        lock_text: '锁定',\r\n        unlock_text: '解锁'\r\n      },\r\n      edit_bar: {\r\n        // 右侧编辑栏按钮\r\n        btn: {\r\n          show: false,\r\n          text: true,\r\n          location: true,\r\n          rotation: true,\r\n          opacity: true,\r\n          updown: true,\r\n          delete: true,\r\n          color: true,\r\n          align: true,\r\n          shadow: true,\r\n          edit: true,\r\n          change_image: true,\r\n          skew: true,\r\n          hue: true\r\n        },\r\n        // 右侧编辑栏点击按钮出现的面板(显示与否的控制参数)\r\n        edit_text: false,\r\n        edit_location: false,\r\n        edit_layer: false,\r\n        edit_color: false,\r\n        edit_align: false,\r\n        edit_shadow: false,\r\n        edit_fontFamily_select: false,\r\n        edit_rotation: false,\r\n        edit_skew: false,\r\n        edit_hue: false,\r\n        edit_opacity: false,\r\n        text: {\r\n          fontSize: 0,\r\n          leading: 0,\r\n          letterSpacing: 0,\r\n          fontStyle: 'normal',\r\n          fontWeight: 'normal',\r\n          color: '#000000',\r\n          fontFamily: 'default',\r\n          align: 'center',\r\n          dropShadow: false,\r\n          dropShadowColor: '#000000',\r\n          dropShadowBlur: 0,\r\n          dropShadowDistance: 5\r\n        },\r\n        fontFamily: [\r\n          { name: '默认', value: 'default' },\r\n          { name: '思源黑体-Bold', value: 'syht_bold' },\r\n          { name: 'Adobe 黑体 Std', value: 'adobehtstd' },\r\n          { name: '华文宋体', value: 'STSong' },\r\n          { name: '苹方黑体', value: 'pfht' },\r\n          { name: '日本花园明朝体', value: 'japanhymc' },\r\n          { name: '杨任东竹石体-Bold', value: 'yrdzsl-Bold' },\r\n          { name: '方正粗黑繁体', value: 'fzchft' },\r\n          { name: '方正美黑繁体', value: 'fzmhft' },\r\n          { name: '方正美黑简体', value: 'fzmhjt' },\r\n          { name: '方正姚体繁体', value: 'fzytft' },\r\n          { name: '方正华隶繁体', value: 'FZHLFW' },\r\n          { name: '方正华隶_GBK', value: 'fzhlgbk' },\r\n          { name: '方正祥隶繁体', value: 'fzxlft' },\r\n          { name: '方正魏碑繁体', value: 'fzwbft' },\r\n          { name: '方正琥珀繁体', value: 'fzhpft' },\r\n          { name: '方正综艺繁体', value: 'fzzyft' },\r\n          { name: '方正综艺简体', value: 'fzzyjt' },\r\n          { name: '方正正粗黑', value: 'fzzch' },\r\n          { name: '方正艺黑体', value: 'fzyht' },\r\n          { name: '方正牟氏黑隶简体', value: 'fzmshljt' },\r\n          { name: '方正大黑简体', value: 'fzdhjt' },\r\n          { name: '方正方魅简体', value: 'fzfmjt' },\r\n          { name: '方正粗圆_GBK', value: 'fzcygbk' },\r\n          { name: '方正准雅宋_GBK', value: 'fzzys_gbk' },\r\n          { name: '方正像素24', value: 'fzxs24' },\r\n          { name: '方正像素14', value: 'fzxs14' },\r\n          { name: '方正点阵', value: 'fzdz' },\r\n          { name: '方正幼线', value: 'fzyx' },\r\n          { name: '方正兰亭中粗黑_GBK', value: 'fzltzch_gbk' },\r\n          { name: '方正粗活意简体', value: 'fzchyjt' },\r\n          { name: '方正粗雅宋扁繁体', value: 'fzcysbft' },\r\n          { name: '方正吕建德楷体', value: 'fzljdkt' },\r\n          { name: '方正黑体_GBK', value: 'fzht_gbk' },\r\n          { name: '方正大标宋_GBK', value: 'fzdbs' },\r\n          { name: '方正大标宋简体', value: 'fzdbsjt' },\r\n          { name: '方正青刻宋体', value: 'fzqkst' },\r\n          { name: '方正特粗光辉简体', value: 'fztcghjt' },\r\n          { name: '方正剑体简体', value: 'fzjtjt' },\r\n          { name: '方正古隶简体', value: 'fzgljt' },\r\n          { name: '华康勘亭流_简&繁', value: 'hkktlj' },\r\n          { name: '华康宋体W12', value: 'hkstw12' },\r\n          { name: '叶根友特楷简体', value: 'ygytkjt' },\r\n          { name: '建行儒黑中', value: 'jhrhz' },\r\n          { name: '汉仪铸字苏打黑', value: 'hyzzsdh' },\r\n          { name: '汉仪家书简', value: 'hyjsj' },\r\n          { name: 'TTTGB', value: 'tttgb' },\r\n          { name: '潮字社凌渡鲲鹏简', value: 'czsldkpj' },\r\n          { name: '华康翩翩', value: 'hkpp' },\r\n          { name: 'ALBA', value: 'alba' },\r\n          { name: 'Adobe仿宋', value: 'adobefs' },\r\n          { name: 'Adobe黑体', value: 'adobeht' },\r\n          { name: '汉仪迪升英雄体', value: 'hydsyxt' },\r\n          { name: '百度综艺简体', value: 'bdzyjt' },\r\n          { name: '锐字真言体', value: 'myrzzyt' },\r\n          { name: '锐字锐线怒放黑简', value: 'rzrxnfhj' },\r\n          { name: '明朝宋体', value: 'mcst' },\r\n          { name: '游明朝体', value: 'ymct' },\r\n          { name: '华文楷体', value: 'hwkt' },\r\n          { name: 'Herculanum', value: 'Herculanum' }\r\n          // { name: \"凌渡鲲鹏简\", value: \"REEJI-CHAO-KunPengGB\" }\r\n        ],\r\n        align: [\r\n          {\r\n            value: 'left',\r\n            label: '居左'\r\n          },\r\n          {\r\n            value: 'center',\r\n            label: '居中'\r\n          },\r\n          {\r\n            value: 'right',\r\n            label: '居右'\r\n          }\r\n        ],\r\n        opacity: 100,\r\n        rotation: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        hue: 0\r\n      },\r\n      active_log: [],\r\n      active_index: -1,\r\n      render_data: [\r\n        {\r\n          m_comp_name: 'product',\r\n          z_index: 1,\r\n          children: [\r\n            {\r\n              ass_children: [\r\n                {\r\n                  src: '',\r\n                  type: 'image',\r\n                  id: 'image123',\r\n                  m_comp_name: 'product',\r\n                  rotation: 0,\r\n                  scale: 1,\r\n                  position: {\r\n                    x: 277.7,\r\n                    y: 392.9\r\n                  },\r\n                  text: '',\r\n                  alpha: 1\r\n                }\r\n              ],\r\n              association_id: ''\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      textTime: true,\r\n      tempRoleMsg: { main: 0, logo: 0, title: 0, subtitle: 0, bg: 0 },\r\n      arc_obj: {\r\n        arc_title: '',\r\n        arc_subtitle: '',\r\n        arc_titleImg: '',\r\n        arc_subtitleImg: '',\r\n        // 上面是弧形文字的setData，不是实例\r\n        title_obj: null,\r\n        subtitle_obj: null\r\n      },\r\n      // main_hue: 0, // 色相\r\n      father_id: '',\r\n      thisTempLevel: '',\r\n      mouldFuncShow: false, // 模板添加功能（文案替换）\r\n      textPositionArr: [], // 文案替换位置数组\r\n      saveTextRule: false, // 文本规则是否更新（在保存模板之后）\r\n      openF: 'text',\r\n      defaultTextFamily: 'STSongdefault',\r\n      fullscreenLoading: true // 显示loading\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      window_w: state => state.homeCanvas.window_w,\r\n      window_h: state => state.homeCanvas.window_h,\r\n      canvas_width: state => state.homeCanvas.canvas_width,\r\n      canvas_height: state => state.homeCanvas.canvas_height,\r\n      project_m_comp: state => state.homeCanvas.project_m_comp,\r\n      user_type: state => state.user.user_type,\r\n      tempId: state => state.homeCanvas.tempId,\r\n      mould_name: state => state.homeCanvas.mould_name,\r\n      structure_id: state => state.homeCanvas.structure_id,\r\n      user_data: state => state.user.user_data,\r\n      new_structure_id: state => state.homeCanvas.new_structure_id,\r\n      structure_position: state => state.homeCanvas.structure_position,\r\n      api: state => state.api\r\n    }),\r\n    ffName: function() {\r\n      for (let item of this.edit_bar.fontFamily) {\r\n        if (item.value == this.edit_bar.text.fontFamily) {\r\n          return item.name\r\n        }\r\n      }\r\n      return ''\r\n    },\r\n    key_ctrlf: function() {\r\n      let second = 91\r\n      // 判断内核\r\n      let u = navigator.userAgent\r\n      if (u.indexOf('Trident') > -1) {\r\n        // IE内核\r\n      } else if (u.indexOf('Presto') > -1) {\r\n        // opera内核\r\n        second = 17\r\n      } else if (u.indexOf('AppleWebKit') > -1) {\r\n        // 苹果、谷歌内核\r\n        second = 91\r\n      } else if (u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1) {\r\n        // 火狐内核\r\n        second = 224\r\n      }\r\n      let ctrlf = this.keyboard(17, second)\r\n      ctrlf.press = () => {}\r\n      ctrlf.release = () => {}\r\n      return ctrlf\r\n    },\r\n    key_zf: function() {\r\n      const me = this\r\n      let zf = this.keyboard(90)\r\n      zf.press = () => {}\r\n      zf.release = () => {}\r\n      return zf\r\n    },\r\n    key_yf: function() {\r\n      let yf = this.keyboard(89)\r\n      yf.press = () => {}\r\n      yf.release = () => {}\r\n      return yf\r\n    },\r\n    key_upf: function() {\r\n      let upf = this.keyboard(38)\r\n      upf.press = () => {}\r\n      upf.release = () => {}\r\n      return upf\r\n    },\r\n    key_downf: function() {\r\n      let downf = this.keyboard(40)\r\n      downf.press = () => {}\r\n      downf.release = () => {}\r\n      return downf\r\n    },\r\n    key_leftf: function() {\r\n      let leftf = this.keyboard(37)\r\n      leftf.press = () => {}\r\n      leftf.release = () => {}\r\n      return leftf\r\n    },\r\n    key_rightf: function() {\r\n      let rightf = this.keyboard(39)\r\n      rightf.press = () => {}\r\n      rightf.release = () => {}\r\n      return rightf\r\n    },\r\n    right_block_ass: function() {\r\n      if (this.right_block.menu.ass == 1 || this.right_block.menu.ass == 2) {\r\n        return true\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n    canvas_ratio_arr: function() {\r\n      const me = this\r\n      let m = me.canvas_width\r\n      let n = me.canvas_height\r\n      var arr = []\r\n      var a = m\r\n      var b = n\r\n      a >= b ? ((a = m), (b = n)) : ((a = n), (b = m))\r\n      if (m != 1 && n != 1) {\r\n        for (var i = b; i >= 2; i--) {\r\n          if (m % i == 0 && n % i == 0) {\r\n            m = m / i\r\n            n = n / i\r\n          }\r\n        }\r\n      }\r\n      arr[0] = m\r\n      arr[1] = n\r\n      return arr\r\n    },\r\n    mypixi: function() {\r\n      return PIXI\r\n    },\r\n    firstEdit: function() {\r\n      // true为再次打开\r\n      return !!window.localStorage.getItem('firstEdit')\r\n    }\r\n  },\r\n  mounted: function() {},\r\n  watch: {},\r\n  beforeDestroy: function() {\r\n    const me = this\r\n    me.$store.dispatch('changeTempIdFunc', '')\r\n    // 尝试解决，内存泄露\r\n    // let pixi=document.getElementById(\"pixiCanvas\")\r\n    // document.getElementById(\"mainCanvas\").removeChild(pixi);\r\n    // me.key_zf = null;\r\n    // me.key_yf = null;\r\n    window.onresize = null\r\n    me.p_app = null\r\n    me.data = () => null\r\n  },\r\n  created: function() {\r\n    const me = this\r\n    this.p_app = new PIXI.Application({\r\n      backgroundColor: 0xf5f5f5,\r\n      width: me.window_w,\r\n      height: me.window_h,\r\n      antialias: 1\r\n    })\r\n    bus\r\n      .$off('add_element_func')\r\n      .$off('layer_click')\r\n      .$off('addPopShow')\r\n      .$off('change_text')\r\n      .$off('designer_save')\r\n      .$off('client_save')\r\n      .$off('change_in_move_image')\r\n      .$off('canvasDestroy')\r\n    // 摧毁实例\r\n    bus.$on('canvasDestroy', function() {\r\n      me.$destroy()\r\n    })\r\n    // 清空，初始化数据\r\n    bus.$on('add_element_func', function(data) {\r\n      // 添加元素进canvas\r\n      if (data.src !== '' && data.text == '') {\r\n        me.newContainer(data, false, function() {\r\n          me.updateLayer()\r\n          // 存储进活动日志\r\n          me.pushActiveLog(true)\r\n        })\r\n      } else if (data.src == '' && data.text !== '') {\r\n        me.newContainerText(data, false)\r\n        // 将元素加入图层tab\r\n        me.updateLayer()\r\n        // 存储进活动日志\r\n        me.pushActiveLog(true)\r\n      }\r\n    })\r\n    bus.$on('layer_click', function(id) {\r\n      me.show_click(id)\r\n    })\r\n    bus.$on('addPopShow', function(show) {\r\n      me.addPopShow(show)\r\n    })\r\n    bus.$on('change_text', function(text) {\r\n      // 加载压缩字体\r\n      let fontData = {\r\n        user_id: me.user_data.id,\r\n        font_name: me.in_move.style.fontFamily,\r\n        text: text\r\n      }\r\n      me.loadCutFont(fontData)\r\n        .then(function(res) {\r\n          if (me.in_move.textReverse) {\r\n            me.textReverse(text)\r\n          } else {\r\n            me.in_move.text = text\r\n          }\r\n          me.inMoveChangeBorder()\r\n          me.moveStructureText()\r\n          // 存储进活动日志\r\n          me.pushActiveLog(true)\r\n        })\r\n        .catch(res => res)\r\n    })\r\n    bus.$on('designer_save', function(mould_name, link) {\r\n      me.saveMould(mould_name, link)\r\n    })\r\n    bus.$on('client_save', function(mould_name, leave, link) {\r\n      me.saveMould(mould_name, link, leave)\r\n    })\r\n    bus.$on('change_in_move_image', function(data) {\r\n      me.changeInMoveImage(data)\r\n    })\r\n    bus.$off('recommendText').$on('recommendText', function(textarr) {\r\n      me.recommendText(textarr)\r\n    })\r\n    bus.$off('editbarClose').$on('editbarClose', function() {\r\n      me.$set(me.edit_bar.btn, 'show', false)\r\n    })\r\n    bus.$off('rightShow').$on('rightShow', function(tf) {\r\n      let browser_w = document.body.clientWidth\r\n      let browser_h = document.body.clientHeight\r\n      me.$set(me.right_block, 'rb_left', `${browser_w / 2 - 85}px`)\r\n      me.$set(me.right_block, 'rb_top', `${browser_h / 2 - 150}px`)\r\n      me.right_block.show = tf\r\n    })\r\n    if (!window.localStorage.getItem('firstEdit')) {\r\n      // 用户第一次打开编辑工具\r\n      me.$set(me.edit_bar.btn, 'show', true)\r\n    }\r\n    me.key_zf.press = function() {\r\n      // 快捷键监听\r\n      if (me.key_ctrlf.isDown && !me.key_ctrlf.isUp) {\r\n        me.moveActiveLog('prev')\r\n      }\r\n    }\r\n    me.key_yf.press = function() {\r\n      // 快捷键监听\r\n      if (me.key_ctrlf.isDown && !me.key_ctrlf.isUp) {\r\n        me.moveActiveLog('next')\r\n      }\r\n    }\r\n    me.key_upf.press = function() {\r\n      // 快捷键监听\r\n      me.moveInMove('up')\r\n    }\r\n    me.key_downf.press = function() {\r\n      // 快捷键监听\r\n      me.moveInMove('down')\r\n    }\r\n    me.key_leftf.press = function() {\r\n      // 快捷键监听\r\n      me.moveInMove('left')\r\n    }\r\n    me.key_rightf.press = function() {\r\n      // 快捷键监听\r\n      me.moveInMove('right')\r\n    }\r\n    window.onresize = me.onresize()\r\n    setTimeout(() => {\r\n      if (me.tempId || me.structure_id) {\r\n        me.getTemplateData()\r\n      } else {\r\n        me.initPixiApp()\r\n      }\r\n    }, 200)\r\n  },\r\n  methods: {\r\n    moveInMove: function(direction) {\r\n      let me = this\r\n      if (me.in_move) {\r\n        let xw = 0\r\n        let xy = 0\r\n        switch (direction) {\r\n          case 'up':\r\n            xy = -1\r\n            break\r\n          case 'down':\r\n            xy = 1\r\n            break\r\n          case 'left':\r\n            xw = -1\r\n            break\r\n          case 'right':\r\n            xw = 1\r\n            break\r\n        }\r\n        me.in_move.parent.position.set(me.in_move.parent.x + xw, me.in_move.parent.y + xy)\r\n        // 存储进活动日志\r\n        me.pushActiveLog(true)\r\n      }\r\n    },\r\n    setSkew: function() {\r\n      const me = this\r\n      me.in_move.skew.set(-0.5, 0)\r\n    },\r\n    changeHue: function(value) {\r\n      const me = this\r\n      me.in_move.hueNumber = value\r\n      value *= 360\r\n      let filter = new PIXI.filters.ColorMatrixFilter()\r\n      filter.hue(value, true)\r\n      me.in_move.filters = [filter]\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    dynamicLoadCss: function(url) {\r\n      var head = document.getElementsByTagName('head')[0]\r\n      var link = document.createElement('link')\r\n      link.type = 'text/css'\r\n      link.rel = 'stylesheet'\r\n      link.href = url\r\n      head.appendChild(link)\r\n    },\r\n    getCssWoff: function(cssPath, woffPath) {\r\n      const me = this\r\n      return [\r\n        axios({\r\n          headers: {\r\n            Accept: 'text/css,*/*;q=0.1'\r\n          },\r\n          method: 'get',\r\n          url: `${me.api.file_path}${cssPath}`,\r\n          responseType: 'ms-stream'\r\n        }),\r\n        axios({\r\n          method: 'get',\r\n          url: `${me.api.file_path}${woffPath}`,\r\n          responseType: 'ms-stream'\r\n        })\r\n      ]\r\n    },\r\n    loadCutFont: function(data) {\r\n      // 加载压缩字体包的请求\r\n      const me = this\r\n      return new Promise(function(resolve, reject) {\r\n        if (me.defaultTextFamily.includes(data.font_name)) {\r\n          resolve(data.font_name)\r\n        }\r\n        axios({\r\n          method: 'post',\r\n          url: me.api.cutFont,\r\n          data: data\r\n        })\r\n          .then(function(res) {\r\n            res = res.data\r\n            if (res.code == 1) {\r\n              // 加载css和字体文件用于缓存\r\n              axios\r\n                .all(me.getCssWoff(res.path, res.woffPath))\r\n                .then(function(response) {\r\n                  // 下方的linkcss，以及字体的加载读缓存就好了。\r\n                  me.dynamicLoadCss(me.api.file_path + res.path)\r\n                  setTimeout(() => {\r\n                    resolve(res)\r\n                  }, 50)\r\n                })\r\n                .catch(res => {})\r\n              // 需要判断css有没有加载完毕\r\n            } else {\r\n              reject(res)\r\n            }\r\n          })\r\n          .catch(function(err) {\r\n            reject(err)\r\n          })\r\n      })\r\n    },\r\n    // setRole: function(content) {\r\n    //   other_func.setRole.bind(this)(content)\r\n    // },\r\n    // setPosition: function(num) {\r\n    //   other_func.setPosition.bind(this)(num)\r\n    // },\r\n    getNewFont: function(fontName, text) {},\r\n    mouldImg: function() {\r\n      const me = this\r\n      me.cancelInMove()\r\n      // me.downloadImg(me.p_app.renderer.plugins.extract.base64(me.p_app.stage))\r\n      return me.ClippingImage(me.p_app.renderer.plugins.extract.base64(me.p_app.stage), me.canvas_width, me.canvas_height, 0.92, function(\r\n        base64Result\r\n      ) {\r\n        return base64Result\r\n      })\r\n    },\r\n    ClippingImage: function(base64Codes, width, height, quality, callback) {\r\n      const me = this\r\n      var img = new Image()\r\n      img.src = base64Codes\r\n      // 生成canvas\r\n      var canvas = document.createElement('canvas')\r\n      var ctx = canvas.getContext('2d')\r\n      var createw = document.createAttribute('width')\r\n      var createh = document.createAttribute('height')\r\n      createw.nodeValue = width\r\n      createh.nodeValue = height\r\n      canvas.setAttributeNode(createh)\r\n      canvas.setAttributeNode(createw)\r\n      img.onload = function() {\r\n        ctx.drawImage(img, (me.window_w - me.canvas_width) / 2, (me.window_h - me.canvas_height) / 2, width, height, 0, 0, width, height)\r\n        var base64Result = canvas.toDataURL('image/jpeg', quality)\r\n        callback(base64Result)\r\n      }\r\n    },\r\n    saveMould: function(mould_name, link, leave = false) {\r\n      const me = this\r\n      // 保存模板，第一步保存个个元素或组合为素材（图片组合需要生成预览图），第二步将所有素材id上传保存成新模板\r\n      let last = _.cloneDeep(me.active_log[me.active_log.length - 1])\r\n      let material_data = []\r\n      me.getMaterialData(last)\r\n        .then(function(res) {\r\n          let material_data = res\r\n          me.uploadMaterial(mould_name, material_data, link, leave)\r\n        })\r\n        .catch(res => {\r\n          console.log(res)\r\n          bus.$emit('saveError')\r\n        })\r\n    },\r\n    getMaterialData: function(last) {\r\n      const me = this\r\n      let allArr = []\r\n      for (let i = 0; i < last.length; i++) {\r\n        allArr.push(me.getMd(last[i]))\r\n      }\r\n      return Promise.all(allArr)\r\n    },\r\n    getMd: function(last) {\r\n      const me = this\r\n      return new Promise(function(resolve, reject) {\r\n        let material_children = {}\r\n        if (last.children[0].ass_children.length == 1) {\r\n          // 单个图片或者文字\r\n          if (last.children[0].ass_children[0].type == 'image') {\r\n            material_children.material_type = 'img'\r\n            material_children.file_id = me.json_f([parseInt(last.children[0].ass_children[0].file_id)])\r\n            material_children.author = me.user_data.id\r\n            material_children.preview = parseInt(last.children[0].ass_children[0].file_id)\r\n            material_children.content = me.json_f(last)\r\n          } else if (last.children[0].ass_children[0].type == 'text') {\r\n            material_children['material_type'] = 'text'\r\n            material_children['author'] = me.user_data.id\r\n            material_children['dimension_id'] = 0\r\n            material_children['content'] = me.json_f(last)\r\n            material_children['text_content'] = last.children[0].ass_children[0].text\r\n          }\r\n          resolve(material_children)\r\n        } else if (last.children[0].ass_children.length > 1) {\r\n          let file_id = []\r\n          for (let k = 0; k < last.children[0].ass_children.length; k++) {\r\n            if (last.children[0].ass_children[k].type == 'image') {\r\n              file_id.push(last.children[0].ass_children[k].file_id)\r\n            }\r\n          }\r\n          material_children.material_type = 'whole'\r\n          material_children.file_id = me.json_f(file_id)\r\n          material_children.author = me.user_data.id\r\n          // idToimg,上传组合预览图\r\n          me.addACtrlarr(file_id[0])\r\n          let file = me.toImage(true)\r\n          let formdata = new FormData()\r\n          formdata.append('upload_file_once', file)\r\n          axios({\r\n            method: 'post',\r\n            url: `${me.api.upload_file_once}1.html`,\r\n            data: formdata\r\n          })\r\n            .then(function(response) {\r\n              material_children.preview = response.data.data.file_id\r\n              material_children.content = me.json_f(last)\r\n              resolve(material_children)\r\n            })\r\n            .catch(function(error) {\r\n              reject(error)\r\n            })\r\n        }\r\n      })\r\n    },\r\n    uploadMaterial: function(mould_name, material_data, link, leave) {\r\n      const me = this\r\n      // 上传素材\r\n      let material_id = []\r\n      let material_id_obj = {}\r\n      me.uploadAllMaterial(material_data)\r\n        .then(function(res) {\r\n          // 获取元素id，用于上传模板\r\n          for (let i = 0; i < res.length; i++) {\r\n            material_id.push(parseInt(res[i].data.data.materialId))\r\n          }\r\n          me.uploadTemp(mould_name, material_id, link, leave)\r\n        })\r\n        .catch(function(res) {\r\n          console.log(res)\r\n          bus.$emit('saveError')\r\n        })\r\n    },\r\n    renderARCF: function() {\r\n      // 编辑模板或者保存新模板时渲染弧形文字，为了预览图\r\n      const me = this\r\n      if (me.arc_obj.arc_title != '' && me.arc_obj.arc_titleImg != '' && me.user_type == 'designer') {\r\n        let wordArr = me.arc_obj.arc_title.text.split('')\r\n        me.renderARC('arc_title', wordArr)\r\n      }\r\n      if (me.arc_obj.arc_subtitle != '' && me.arc_obj.arc_subtitleImg != '' && me.user_type == 'designer') {\r\n        let wordArr = me.arc_obj.arc_subtitle.text.split('')\r\n        me.renderARC('arc_subtitle', wordArr)\r\n      }\r\n    },\r\n    deleteARCF: function() {\r\n      const me = this\r\n      // 刚添加的弧形文字，渲染后立刻删除\r\n      let len = 0\r\n      if (me.arc_obj.arc_title != '' && me.arc_obj.arc_titleImg != '' && me.user_type == 'designer') {\r\n        let wordArr = me.arc_obj.arc_title.text.split('')\r\n        len += wordArr.length\r\n      }\r\n      if (me.arc_obj.arc_subtitle != '' && me.arc_obj.arc_subtitleImg != '' && me.user_type == 'designer') {\r\n        let wordArr = me.arc_obj.arc_subtitle.text.split('')\r\n        len += wordArr.length\r\n      }\r\n      // 依据弧形文字的字数，删除图层\r\n      let c_len = me.container_arr.length\r\n      me.container_arr.splice(c_len - len, len)\r\n      for (let i = 0; i < len; i++) {\r\n        me.mainStage_container.removeChildAt(c_len - len)\r\n      }\r\n      me.renderStage()\r\n      // 删除结束\r\n    },\r\n    uploadTemp: function(mould_name, material_id, link, leave) {\r\n      const me = this\r\n      // 上传模板\r\n      me.cancelInMove()\r\n\r\n      // 上传模板预览图文件,如果有弧形文字，需要渲染出来形成图片，但不保存进模板数据\r\n      // 判断有没有弧形文字，渲染弧形文字******************************************************************************************************************************\r\n      let beforeAlpha = 1\r\n      let subBeforeAlpha = 1\r\n      // 标题先隐藏，生成图片后显示\r\n      me.renderARCF()\r\n      if (me.arc_obj.title_obj != null) {\r\n        beforeAlpha = _.cloneDeep(me.arc_obj.title_obj.alpha)\r\n        me.arc_obj.title_obj.alpha = 0\r\n      }\r\n      if (me.arc_obj.subtitle_obj != null) {\r\n        subBeforeAlpha = _.cloneDeep(me.arc_obj.subtitle_obj.alpha)\r\n        me.arc_obj.subtitle_obj.alpha = 0\r\n      }\r\n\r\n      // 判断有没有弧形文字，渲染弧形文字****************************************************************************************************************************\r\n      //\r\n      let img = null\r\n      setTimeout(function() {\r\n        let mycanvas = document.getElementById('pixiCanvas')\r\n        me.p_app.render()\r\n        let base64Img = mycanvas.toDataURL('image/jpeg', 1)\r\n        me.ClippingImage(base64Img, me.canvas_width, me.canvas_height, 0.92, function(base64Result) {\r\n          img = base64Result\r\n          // me.downloadImg(img);\r\n          // 如果有\"弧形标题（直的）\"，则显示回来\r\n          if (me.arc_obj.title_obj != null) {\r\n            me.arc_obj.title_obj.alpha = beforeAlpha\r\n          }\r\n          if (me.arc_obj.subtitle_obj != null) {\r\n            me.arc_obj.subtitle_obj.alpha = subBeforeAlpha\r\n          }\r\n          me.deleteARCF()\r\n          // 图片转文件， 上传文件， 拿回文件id\r\n          img = me.dataURLtoFile(img, 'mould.jpg')\r\n          let formdata = new FormData()\r\n          formdata.append('upload_file_once', img)\r\n          me.uploadImgF(formdata, me.axiosTempF, {\r\n            material_id: material_id,\r\n            mould_name: mould_name,\r\n            link: link,\r\n            leave: leave\r\n          })\r\n        })\r\n      }, 400)\r\n    },\r\n    axiosTempF: function(response, funcData) {\r\n      const me = this\r\n      let preview = response.data.data.file_id\r\n      let level = ''\r\n      // 分为用户模板保存，设计师模板保存，渲染临时模板保存\r\n      let tempData = {\r\n        preview: preview,\r\n        author: me.user_data.id,\r\n        material_content: me.json_f(funcData.material_id),\r\n        name: funcData.mould_name,\r\n        id: '',\r\n        t_width: me.canvas_width,\r\n        t_height: me.canvas_height,\r\n        level: level,\r\n        has_product: 0,\r\n        has_logo: 0,\r\n        has_title: 0,\r\n        has_subtitle: 0,\r\n        condition: 1,\r\n        father_id: ''\r\n      }\r\n      if (me.user_type == 'client') {\r\n        if (me.thisTempLevel == 'storage') {\r\n          tempData.id = parseInt(me.tempId)\r\n        }\r\n        tempData.level = 'storage'\r\n        // 用户修改的模板绑定根id\r\n        tempData.father_id = me.father_id\r\n      } else if (me.user_type == 'designer') {\r\n        tempData.author = me.user_data.id\r\n        if (me.tempId) tempData.id = parseInt(me.tempId)\r\n        tempData.level = 'permanent'\r\n        // 新增骨架专属模板\r\n        if (me.new_structure_id) {\r\n          tempData.condition = 2\r\n          tempData.framework_id = me.new_structure_id\r\n        }\r\n      }\r\n      // if (me.user_type == 'render' && me.token) {\r\n      //   tempData.level = 'temporary'\r\n      //   tempData.id = parseInt(me.tempId)\r\n      //   tempData.token = me.token\r\n      //   upload_temp_url = 'http://dev.cyrd.gdinsight.com/api/template/auto_upload_template.html'\r\n      // }\r\n      if (me.tempRoleMsg.main > 0) tempData.has_product = 1\r\n      if (me.tempRoleMsg.logo > 0) tempData.has_logo = 1\r\n      if (me.tempRoleMsg.title > 0) tempData.has_title = 1\r\n      if (me.tempRoleMsg.subtitle > 0) tempData.has_subtitle = 1\r\n      // 有素材集，模板预览图id，模板名称，用户id，可以真正上传模板了\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.upload_template,\r\n        data: tempData\r\n      })\r\n        .then(function(response) {\r\n          if (me.user_type == 'designer') {\r\n            bus.$emit('designerSave')\r\n            // 如果是骨架专属模板保存成功则清除骨架id\r\n            if (me.new_structure_id) {\r\n              me.$store.dispatch('changeNewStructureIdFunc', '')\r\n            }\r\n            // 如果是新建模板，要保存文案规则\r\n            if (tempData.level === 'permanent' && me.textPositionArr.length > 0 && me.saveTextRule) {\r\n              axios({\r\n                method: 'post',\r\n                url: me.api.add_word_rule,\r\n                data: {\r\n                  template_id: parseInt(response.data.data.templateId),\r\n                  rule: me.textPositionArr\r\n                }\r\n              }).then(res => {\r\n                console.log('成功保存文案规则')\r\n              })\r\n            }\r\n          } else if (me.user_type == 'client') {\r\n            me.$store.dispatch('changeTempIdFunc', parseInt(response.data.data.templateId))\r\n            bus.$emit('clientSave')\r\n            if (funcData.leave) {\r\n              // 跳转\r\n              setTimeout(() => {\r\n                window.location.href = funcData.link\r\n              }, 500)\r\n            }\r\n          }\r\n        })\r\n        .catch(function() {\r\n          bus.$emit('saveError')\r\n        })\r\n    },\r\n    uploadImgF: function(formdata, wantF, funcData) {\r\n      // 上传图片功能函数，formdata为图片表单，wanF为回调执行方法，funcData为回调传入的函数\r\n      const me = this\r\n      return axios({\r\n        method: 'post',\r\n        url: `${me.api.upload_file_once}1.html`,\r\n        data: formdata\r\n      })\r\n        .then(function(response) {\r\n          wantF.bind(me)(response, funcData)\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error)\r\n          bus.$emit('saveError')\r\n        })\r\n    },\r\n    uploadMF: function(data) {\r\n      const me = this\r\n      return axios.post(me.api.upload_material, data)\r\n    },\r\n    uploadAllMaterial: function(material_data) {\r\n      // 上传全部素材返回素材id，有组合的为一个素材（建议设计师不要使用组合）\r\n      const me = this\r\n      let allArr = []\r\n      for (let i = 0; i < material_data.length; i++) {\r\n        allArr.push(me.uploadMF(material_data[i]))\r\n      }\r\n      return Promise.all(allArr)\r\n    },\r\n    // json_f: function(obj) {\r\n    //   return other_func.json_f.bind(this)(obj)\r\n    // },\r\n    // obj_f: function(json) {\r\n    //   return other_func.obj_f.bind(this)(json)\r\n    // },\r\n    // renderTemplate: function(firstLoad = false) {\r\n    //   const me = this\r\n    //   container_func.renderTemplate.bind(me)(firstLoad)\r\n    // },\r\n    // afterLoad: function(data, firstLoad) {\r\n    //   container_func.afterLoad.bind(this)(data, firstLoad)\r\n    // },\r\n    initPixiApp: function() {\r\n      const me = this\r\n      // 加载一些必要的配图\r\n      me.p_app.loader.add([me.scale, me.rotate, me.stretch]).load(function() {\r\n        me.p_app.view.id = 'pixiCanvas'\r\n        document.getElementById('mainCanvas').appendChild(me.p_app.view)\r\n        me.p_app.view.style.width = me.window_w + 'px'\r\n        me.p_app.view.style.height = me.window_h + 'px'\r\n        me.p_app.stage.off().on('mousedown', me.cancel_something)\r\n        // 有可能要加入一个点击的矩形，用于取消之前选中的对象\r\n        me.addCancleRect()\r\n        // 创建主内容容器，包含所有内容，固定尺寸，container_arr作为其子元素\r\n        let mainStage = new PIXI.Container()\r\n        mainStage.width = me.canvas_width\r\n        mainStage.height = me.canvas_height\r\n        mainStage.position.set((me.window_w - me.canvas_width) / 2, (me.window_h - me.canvas_height) / 2)\r\n        mainStage.accessible = true\r\n        me.mainStage_container = mainStage\r\n        me.p_app.stage.addChild(me.mainStage_container)\r\n        // 增加遮罩,遮罩加在stage\r\n        me.maskInit()\r\n        // 增加标尺加在stage\r\n        me.ruler()\r\n        me.resetCanvas()\r\n        if (me.tempId || me.structure_id) {\r\n          me.renderTemplate(true)\r\n        } else {\r\n          me.fullscreenLoading = false\r\n          me.renderStage()\r\n        }\r\n        mainStage = null\r\n      })\r\n    },\r\n    getTemplateData: function() {\r\n      const me = this\r\n      if (me.tempId) {\r\n        let tempId = parseInt(me.tempId)\r\n        axios({\r\n          method: 'post',\r\n          url: `${me.api.template}${tempId}.html`,\r\n          data: {\r\n            condition: 1\r\n          }\r\n        })\r\n          .then(function(response) {\r\n            let render_data = []\r\n            for (let i = 0; i < response.data.data.material_content.length; i++) {\r\n              if (response.data.data.material_content[i].content) {\r\n                render_data.push(me.obj_f(response.data.data.material_content[i].content))\r\n              }\r\n            }\r\n            // render_data = render_data.reverse();\r\n            me.$set(me, 'render_data', render_data)\r\n            // 设置模板宽高，名字\r\n            me.$store.dispatch('setCanvasFunc', [response.data.data.template_width, response.data.data.template_height])\r\n            me.$store.dispatch('ChangeRenderFunc', {\r\n              key: 'mould_name',\r\n              value: response.data.data.template_name\r\n            })\r\n            // 获取模板level，判断是否是设计师或者用户模板\r\n            me.thisTempLevel = response.data.data.level\r\n            // 获取模板根ID,获取推荐文案\r\n            me.father_id = response.data.data.father_id\r\n            bus.$emit('getRecommend', me.father_id)\r\n            if (response.data.data.rule && response.data.data.rule.length > 0) {\r\n              let textPosition = []\r\n              for (let item of response.data.data.rule) {\r\n                textPosition.push(item.rule_name)\r\n              }\r\n              me.$set(me, 'textPositionArr', textPosition)\r\n            }\r\n            me.initPixiApp()\r\n          })\r\n          .catch(function(error) {\r\n            console.log(error)\r\n          })\r\n      } else if (me.structure_id) {\r\n        // 骨架A：\r\n        // me.$store.dispatch(\"setCanvasFunc\", [750, 1334])\r\n        // let r_data = [{\r\n        //   m_comp_name: 'product',\r\n        //   z_index: 1,\r\n        //   children: [{\r\n        //     ass_children: [{\r\n        //       src: '',\r\n        //       type: 'text',\r\n        //       id: 'text123',\r\n        //       m_comp_name: 'product',\r\n        //       rotation: 0,\r\n        //       scale: 1,\r\n        //       position: {\r\n        //         x: 200,\r\n        //         y: 100\r\n        //       },\r\n        //       structure: me.structure_id,\r\n        //       text: '请输入主标题',\r\n        //       style: {\r\n        //         fontFamily: '思源黑体',\r\n        //         fontSize: 50,\r\n        //         lineHeight: 50,\r\n        //         leading: 0,\r\n        //         fontStyle: 'normal',\r\n        //         fontWeight: 'normal',\r\n        //         fill: '#000',\r\n        //         stroke: '#000',\r\n        //         strokeThickness: 0,\r\n        //         dropShadow: false,\r\n        //         dropShadowColor: '#000000',\r\n        //         dropShadowAngle: Math.PI / 6,\r\n        //         dropShadowBlur: 0,\r\n        //         dropShadowDistance: 18,\r\n        //         wordWrap: true,\r\n        //         wordWrapWidth: 700,\r\n        //         breakWords: true,\r\n        //         padding: 0,\r\n        //         textBaseline: 'Middle',\r\n        //         trim: true,\r\n        //         whiteSpace: 'pre'\r\n        //       },\r\n        //       alpha: 1,\r\n        //       role: 'title'\r\n        //     }],\r\n        //     association_id: ''\r\n        //   }]\r\n        // }, {\r\n        //   m_comp_name: 'product',\r\n        //   z_index: 1,\r\n        //   children: [{\r\n        //     ass_children: [{\r\n        //       src: '',\r\n        //       type: 'text',\r\n        //       id: 'text563',\r\n        //       m_comp_name: 'product',\r\n        //       rotation: 0,\r\n        //       scale: 1,\r\n        //       position: {\r\n        //         x: 200,\r\n        //         y: 175\r\n        //       },\r\n        //       structure: me.structure_id,\r\n        //       text: '请输入副标题',\r\n        //       style: {\r\n        //         fontFamily: '思源黑体',\r\n        //         fontSize: 30,\r\n        //         lineHeight: 30,\r\n        //         leading: 0,\r\n        //         fontStyle: 'normal',\r\n        //         fontWeight: 'normal',\r\n        //         fill: '#000',\r\n        //         stroke: '#000',\r\n        //         strokeThickness: 0,\r\n        //         dropShadow: false,\r\n        //         dropShadowColor: '#000000',\r\n        //         dropShadowAngle: Math.PI / 6,\r\n        //         dropShadowBlur: 0,\r\n        //         dropShadowDistance: 18,\r\n        //         wordWrap: true,\r\n        //         wordWrapWidth: 700,\r\n        //         breakWords: true,\r\n        //         padding: 0,\r\n        //         textBaseline: 'Middle',\r\n        //         trim: true,\r\n        //         whiteSpace: 'pre'\r\n        //       },\r\n        //       alpha: 1,\r\n        //       role: 'subtitle'\r\n        //     }],\r\n        //     association_id: ''\r\n        //   }]\r\n        // }]\r\n        // me.$set(me, 'render_data', r_data)\r\n        // me.initPixiApp()\r\n      }\r\n    },\r\n    cancel_something: function(event) {\r\n      const me = this\r\n      me.$set(me.right_block, 'show', false)\r\n    },\r\n    hide_edit_f: function() {\r\n      const me = this\r\n      // 隐藏编辑面板按钮里的功能面板\r\n      for (let key in me.edit_bar) {\r\n        if (key.startsWith('edit_')) {\r\n          me.edit_bar[key] = false\r\n        }\r\n      }\r\n      // me.$set(me.edit_bar, \"edit_opacity\", false);\r\n      // me.$set(me.edit_bar, \"edit_location\", false);\r\n      // me.$set(me.edit_bar, \"edit_rotation\", false);\r\n      // me.$set(me.edit_bar, \"edit_text\", false);\r\n      // me.$set(me.edit_bar, \"edit_layer\", false);\r\n      // me.$set(me.edit_bar, \"edit_color\", false);\r\n      // me.$set(me.edit_bar, \"edit_align\", false);\r\n      // me.$set(me.edit_bar, \"edit_shadow\", false);\r\n      // me.$set(me.edit_bar, \"edit_fontFamily_select\", false);\r\n      // me.$set(me.edit_bar, \"edit_skew\", false);\r\n    },\r\n    showEdit: function(type) {\r\n      const me = this\r\n      let edit_btn = {}\r\n      me.hide_edit_f()\r\n      if (me.in_move && me.in_move.type == 'text' && me.in_move.structure) {\r\n        type = 'structure_text'\r\n      }\r\n      switch (type) {\r\n        case 'image':\r\n          edit_btn = {\r\n            show: true,\r\n            text: false,\r\n            location: true,\r\n            rotation: true,\r\n            opacity: true,\r\n            updown: true,\r\n            delete: true,\r\n            color: false,\r\n            align: false,\r\n            shadow: false,\r\n            edit: false,\r\n            change_image: true,\r\n            skew: true,\r\n            hue: true\r\n          }\r\n          break\r\n        case 'text':\r\n          edit_btn = {\r\n            show: true,\r\n            text: true,\r\n            location: true,\r\n            rotation: true,\r\n            opacity: true,\r\n            updown: true,\r\n            delete: true,\r\n            color: true,\r\n            align: true,\r\n            shadow: true,\r\n            edit: true,\r\n            change_image: false,\r\n            skew: true,\r\n            hue: true\r\n          }\r\n          break\r\n        case 'structure_text':\r\n          edit_btn = {\r\n            show: true,\r\n            text: true,\r\n            location: false,\r\n            rotation: false,\r\n            opacity: true,\r\n            updown: true,\r\n            delete: false,\r\n            color: true,\r\n            align: false,\r\n            shadow: true,\r\n            edit: true,\r\n            change_image: false,\r\n            skew: false\r\n          }\r\n          break\r\n        case 'temporary':\r\n          edit_btn = {\r\n            show: true,\r\n            text: false,\r\n            location: true,\r\n            rotation: true,\r\n            opacity: false,\r\n            updown: false,\r\n            delete: true,\r\n            color: false,\r\n            align: false,\r\n            shadow: false,\r\n            edit: false,\r\n            change_image: false,\r\n            skew: false\r\n          }\r\n          break\r\n        case 'association':\r\n          edit_btn = {\r\n            show: true,\r\n            text: false,\r\n            location: true,\r\n            rotation: false,\r\n            opacity: false,\r\n            updown: true,\r\n            delete: true,\r\n            color: false,\r\n            align: false,\r\n            shadow: false,\r\n            edit: false,\r\n            change_image: false,\r\n            skew: false\r\n          }\r\n          break\r\n        case 'image_in':\r\n          edit_btn = {\r\n            show: true,\r\n            text: false,\r\n            location: true,\r\n            rotation: true,\r\n            opacity: true,\r\n            updown: false,\r\n            delete: false,\r\n            color: false,\r\n            align: false,\r\n            shadow: false,\r\n            edit: false,\r\n            change_image: true,\r\n            skew: true,\r\n            hue: true\r\n          }\r\n          break\r\n        case 'text_in':\r\n          edit_btn = {\r\n            show: true,\r\n            text: true,\r\n            location: true,\r\n            rotation: true,\r\n            opacity: true,\r\n            updown: false,\r\n            delete: false,\r\n            color: true,\r\n            align: true,\r\n            shadow: true,\r\n            edit: true,\r\n            change_image: false,\r\n            skew: true,\r\n            hue: true\r\n          }\r\n          break\r\n      }\r\n      me.change_edit_bar(edit_btn)\r\n      me.updateLayer()\r\n    },\r\n    change_edit_bar: function(data) {\r\n      const me = this\r\n      for (let key in me.edit_bar.btn) {\r\n        me.$set(me.edit_bar.btn, key, data[key])\r\n      }\r\n    },\r\n    showEditLocation: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.$set(me.edit_bar, 'edit_location', true)\r\n    },\r\n    showEditAlign: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.$set(me.edit_bar, 'edit_align', true)\r\n    },\r\n    show_text_block: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.updateText()\r\n      me.$set(me.edit_bar, 'edit_text', true)\r\n    },\r\n    updateText: function() {\r\n      const me = this\r\n      let text_data = {\r\n        fontSize: Math.floor(me.in_move.style.fontSize),\r\n        leading: me.in_move.style.leading,\r\n        letterSpacing: me.in_move.style.letterSpacing,\r\n        fontStyle: me.in_move.style.fontStyle,\r\n        fontWeight: me.in_move.style.fontWeight,\r\n        color: me.in_move.style.fill,\r\n        fontFamily: me.in_move.style.fontFamily,\r\n        align: me.in_move.style.align,\r\n        dropShadow: me.in_move.style.dropShadow,\r\n        dropShadowColor: me.in_move.style.dropShadowColor,\r\n        dropShadowBlur: me.in_move.style.dropShadowBlur,\r\n        dropShadowDistance: me.in_move.style.dropShadowDistance\r\n      }\r\n      me.$set(me.edit_bar, 'text', text_data)\r\n    },\r\n    fontFamily_change: function(value) {\r\n      const me = this\r\n      if (value == me.in_move.style.fontFamily) return false\r\n      if (me.defaultTextFamily.includes(value)) {\r\n        me.in_move.style.fontFamily = value\r\n        me.$set(me.edit_bar, 'edit_fontFamily_select', false)\r\n        me.updateText()\r\n        // 存储进活动日志\r\n        me.pushActiveLog(true)\r\n        return false\r\n      }\r\n      let fontData = {\r\n        user_id: me.user_data.id,\r\n        font_name: value,\r\n        text: me.in_move.text\r\n      }\r\n      me.loadCutFont(fontData)\r\n        .then(function(res) {\r\n          me.in_move.style.fontFamily = value\r\n          me.$set(me.edit_bar, 'edit_fontFamily_select', false)\r\n          me.updateText()\r\n          me.updateLayer()\r\n          // 存储进活动日志\r\n          me.pushActiveLog(true)\r\n        })\r\n        .catch(res => res)\r\n    },\r\n    showFontFamily: function() {\r\n      const me = this\r\n      me.$set(me.edit_bar, 'edit_fontFamily_select', true)\r\n    },\r\n    fontSize_change: function(value) {\r\n      value = parseInt(value)\r\n      const me = this\r\n      // start\r\n      let num = me.in_move.width / me.in_move.style.fontSize\r\n      me.in_move.text_num = num\r\n      // move\r\n      let style = me.in_move.style\r\n      style.wordWrapWidth = num * value\r\n      if (me.in_move.style.fontStyle == 'normal') {\r\n        style.wordWrapWidth += style.fontSize * 0.2\r\n      }\r\n      me.in_move.style = style\r\n      me.in_move.style.fontSize = value\r\n      // me.in_move.style.lineHeight = me.in_move.style.fontSize + me.in_move.lineHeightM;\r\n      // me.p_app.renderer.render(me.in_move);\r\n      //\r\n      me.containerLine(me.in_move, false, true)\r\n      me.scaleTextEnd(me.in_move)\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    alignChange: function(value) {\r\n      const me = this\r\n      me.in_move.style.align = value\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    fontStyle_change: function(value) {\r\n      const me = this\r\n      if (value) {\r\n        me.in_move.style.fontStyle = 'italic'\r\n        me.$set(me.edit_bar.text, 'fontStyle', 'italic')\r\n      } else {\r\n        me.in_move.style.fontStyle = 'normal'\r\n        me.$set(me.edit_bar.text, 'fontStyle', 'normal')\r\n      }\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    fontWeightChange: function(value) {\r\n      const me = this\r\n      if (value) {\r\n        me.in_move.style.fontWeight = 'bolder'\r\n        me.$set(me.edit_bar.text, 'fontWeight', 'bolder')\r\n      } else {\r\n        me.in_move.style.fontWeight = 'normal'\r\n        me.$set(me.edit_bar.text, 'fontWeight', 'normal')\r\n      }\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    leading_change: function(value) {\r\n      value = parseInt(value)\r\n      const me = this\r\n      me.in_move.style.leading = value\r\n      me.containerLine(me.in_move, false, true)\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    letterSpacing_change: function(value) {\r\n      value = parseInt(value)\r\n      const me = this\r\n      me.in_move.style.letterSpacing = value\r\n      me.containerLine(me.in_move, false, true)\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    fontColor_change: function(value) {\r\n      const me = this\r\n      me.in_move.style.fill = value\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    dropShadow: function(value) {\r\n      const me = this\r\n      me.in_move.style.dropShadow = value\r\n      me.inMoveChangeBorder()\r\n      me.updateLayer()\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    inMoveChangeBorder: function() {\r\n      // 单个元素改变边框\r\n      const me = this\r\n      if ((me.ctrl_arr && me.ctrl_arr.length == 0) || !me.ctrl_arr) {\r\n        me.containerLine(me.in_move, false, true)\r\n      } else if (me.ctrl_arr && me.ctrl_arr.length > 0) {\r\n        me.aSingleClickBorder(me.in_move.association_name)\r\n      }\r\n    },\r\n    dropShadowColorChange: function(value) {\r\n      const me = this\r\n      let color = me.colorRGB2Hex(value)\r\n      me.in_move.style.dropShadowColor = color\r\n      me.updateLayer()\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    colorRGB2Hex: function(color) {\r\n      var rgb = color.split(',')\r\n      var r = parseInt(rgb[0].split('(')[1])\r\n      var g = parseInt(rgb[1])\r\n      var b = parseInt(rgb[2].split(')')[0])\r\n      var hex = '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)\r\n      return hex\r\n    },\r\n    dropShadowBlurChange: function(value) {\r\n      const me = this\r\n      me.in_move.style.dropShadowBlur = value\r\n      me.containerLine(me.in_move, false, true)\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    dropShadowDistanceChange: function(value) {\r\n      const me = this\r\n      me.in_move.style.dropShadowDistance = value\r\n      me.containerLine(me.in_move, false, true)\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    onEdit: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.$set(me.right_block, 'show', false)\r\n      me.$set(me, 'addPop', true)\r\n      bus.$emit('text_edit_mode', me.in_move.text)\r\n    },\r\n    show_opacity_block: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.$set(me.edit_bar, 'opacity', me.in_move.alpha * 100)\r\n      me.$set(me.edit_bar, 'edit_opacity', true)\r\n    },\r\n    show_hue_block: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.edit_bar.hue = me.in_move.hueNumber\r\n      me.$set(me.edit_bar, 'edit_hue', true)\r\n    },\r\n    showLayerBlock: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.$set(me.edit_bar, 'edit_layer', true)\r\n    },\r\n    opacity_change: function(value) {\r\n      const me = this\r\n      me.in_move.alpha = value / 100\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    show_rotation_block: function() {\r\n      // 初始化旋转值，和in_move一样或者和临时组合、组合一样\r\n      const me = this\r\n      me.hide_edit_f()\r\n      if (me.in_move && !me.temporary_rect) {\r\n        me.$set(me.edit_bar, 'rotation', Math.floor((me.in_move.rotation * 180) / Math.PI))\r\n      } else if (me.temporary_rect) {\r\n        me.$set(me.edit_bar, 'rotation', Math.floor((me.temporary_rect.rotation * 180) / Math.PI))\r\n      }\r\n      me.$set(me.edit_bar, 'edit_rotation', true)\r\n    },\r\n    show_skew_block: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.$set(me.edit_bar, 'skewX', me.in_move.skew.x)\r\n      me.$set(me.edit_bar, 'skewY', me.in_move.skew.y)\r\n      me.$set(me.edit_bar, 'edit_skew', true)\r\n    },\r\n    showColorBlock: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.updateText()\r\n      me.$set(me.edit_bar, 'edit_color', true)\r\n    },\r\n    showEditShadow: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.updateText()\r\n      me.$set(me.edit_bar, 'edit_shadow', true)\r\n    },\r\n    rotationChange: function(value) {\r\n      const me = this\r\n      if (me.in_move && !me.temporary_rect) {\r\n        me.in_move.rotation = (value * Math.PI) / 180\r\n        me.outLine_container.getChildByName(me.in_move.name).rotation = (value * Math.PI) / 180\r\n        setTimeout(() => {\r\n          if (me.in_move.association_name !== '') {\r\n            me.aSingleClickBorder(me.in_move.association_name)\r\n          }\r\n        }, 25)\r\n      } else if (me.temporary_rect) {\r\n        me.onTRotateStart()\r\n        if (value > 0) {\r\n          me.tRotateOBj((value * Math.PI) / 180, 10000)\r\n        } else {\r\n          me.tRotateOBj((-value * Math.PI) / 180, -10000)\r\n        }\r\n        me.onTRotateEnd()\r\n      } else if (!me.temporary_rect && me.ctrl_arr.length > 0) {\r\n        // 组合旋转\r\n      }\r\n      // 存储进活动日志\r\n      me.pushActiveLog(true)\r\n    },\r\n    skewChange: function(xy) {\r\n      const me = this\r\n      let [x, y] = xy === 'x' ? [me.edit_bar.skewX, me.in_move.skew.y] : [me.in_move.skew.x, me.edit_bar.skewY]\r\n      me.in_move.skew.set(x, y)\r\n    },\r\n    // locationMove: function(way, d_value = 0) {\r\n    //   other_func.locationMove.bind(this)(way, d_value)\r\n    // },\r\n    // newContainer: function(set_data, render_add, func = () => {}) {\r\n    //   container_func.newContainer.bind(this)(set_data, render_add, func)\r\n    // },\r\n    // addContainer: function(set_data, position = { x: this.canvas_width / 2, y: this.canvas_height / 2 }) {\r\n    //   container_func.addContainer.bind(this)(set_data, position)\r\n    // },\r\n    // containerArrAdd: function(m_comp_name, container, id) {\r\n    //   container_func.containerArrAdd.bind(this)(m_comp_name, container, id)\r\n    // },\r\n    findFinalIndex: function(m_comp_name) {\r\n      // 递归函数好像放不进container_func\r\n      const me = this\r\n      let final_index = -100 // 相同模块中最后一个元素的index\r\n      let len = me.project_m_comp.length - 1\r\n      if (me.container_arr.length == 0) {\r\n        final_index = 0\r\n        return final_index\r\n      } else if (me.project_m_comp[0].name == m_comp_name && me.container_arr.length > 0) {\r\n        final_index = me.container_arr.length - 1\r\n        return final_index\r\n      } else {\r\n        me.container_arr.map(function(value, index, array) {\r\n          if (value.m_comp_name == m_comp_name) {\r\n            final_index = index\r\n          }\r\n        })\r\n        if (final_index == -100) {\r\n          if (me.project_m_comp[len].name == m_comp_name) {\r\n            return (final_index = -1)\r\n          } else {\r\n            for (let i = 0; i < me.project_m_comp.length; i++) {\r\n              if (me.project_m_comp[i].name == m_comp_name) {\r\n                return me.findFinalIndex(me.project_m_comp[i + 1].name)\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          return final_index\r\n        }\r\n      }\r\n    },\r\n    onRightFunc: function(f_parm, event = null) {\r\n      const me = this\r\n      if (f_parm.type == 1) {\r\n        // 类型1 为单个元素的删除功能,模拟单个元素点击\r\n        me.normalStart(f_parm.currentTarget, f_parm.data)\r\n        f_parm.currentTarget.dragging = false\r\n        me.$set(me.right_block.menu, 'ass', 3) // 没有组合功能\r\n        me.$set(me.right_block, 'delete_type', 1) // 设置成单个元素的删除\r\n        me.$set(me.right_block.menu, 'change', false)\r\n        me.$set(me.right_block.menu, 'edit_text', false)\r\n        if (f_parm.currentTarget.type == 'image') {\r\n          // 更换图片功能\r\n          me.$set(me.right_block.menu, 'change', true)\r\n        } else if (f_parm.currentTarget.type == 'text') {\r\n          me.$set(me.right_block.menu, 'edit_text', true)\r\n        }\r\n        // 锁定解锁功能判断\r\n        me.$set(me.right_block.menu, 'show_lock', true)\r\n        if (!f_parm.currentTarget.lock) {\r\n          me.$set(me.right_block.menu, 'lock', false)\r\n          me.$set(me.right_block, 'lock_text', '锁定')\r\n        } else {\r\n          me.$set(me.right_block.menu, 'lock', true)\r\n          me.$set(me.right_block, 'unlock_text', '解锁')\r\n          me.containerLine(f_parm.currentTarget, false, true, false, true)\r\n        }\r\n      } else if (f_parm.type == 2) {\r\n        // 类型2 为临时组合的删除功能\r\n        me.$set(me.right_block.menu, 'change', false)\r\n        me.$set(me.right_block.menu, 'edit_text', false)\r\n        me.$set(me.right_block.menu, 'ass', 1)\r\n        me.$set(me.right_block, 'delete_type', 2) // 设置成临时组合的删除\r\n        me.$set(me.right_block.menu, 'show_lock', false)\r\n      } else if (f_parm.type == 3) {\r\n        // 类型3 为组合的删除功能，模拟组合点击\r\n        me.onAssociationStart(event, true)\r\n        me.$set(me.right_block.menu, 'ass', 2)\r\n        me.$set(me.right_block.menu, 'change', false)\r\n        me.$set(me.right_block.menu, 'edit_text', false)\r\n        // 锁定解锁功能判断\r\n        me.$set(me.right_block.menu, 'show_lock', true)\r\n        if (!event.currentTarget.lock) {\r\n          me.$set(me.right_block.menu, 'lock', false)\r\n          me.$set(me.right_block, 'lock_text', '锁定组合')\r\n        } else {\r\n          me.$set(me.right_block.menu, 'lock', true)\r\n          me.$set(me.right_block, 'unlock_text', '解锁组合')\r\n        }\r\n      }\r\n    },\r\n    // onRightDelete: function() {\r\n    //   container_func.onRightDelete.bind(this)()\r\n    // },\r\n    // deleteSomeone: function(name, render, callback) {\r\n    //   container_func.deleteSomeone.bind(this)(name, render, callback)\r\n    // },\r\n    onRightAss: function() {\r\n      const me = this\r\n      // 将临时组合设置为组合，不同元素模块的不能组合\r\n      me.arrToAss(me.ctrl_arr)\r\n      me.$set(me.right_block, 'show', false)\r\n    },\r\n    // arrToAss: function(element_arr, association_id = -1, render_create = false) {\r\n    //   other_func.arrToAss.bind(this)(element_arr, association_id, render_create)\r\n    // },\r\n    onRight_unAss: function() {\r\n      const me = this\r\n      // 取消组合，删除组合矩形，清空元素的组合名称\r\n      // 情空临时矩形区域,清空包含在ctrl_arr数组里的其他组合矩形\r\n      me.removeLine()\r\n      me.clearTemAss(true, true)\r\n      me.ctrl_arr.map(function(value, index, array) {\r\n        value.association_name = ''\r\n      })\r\n      me.ctrl_arr.length = 0\r\n      me.$set(me.right_block, 'show', false)\r\n      me.cancelInMove() // 取消右侧编辑栏\r\n    },\r\n    addACtrlarr: function(a_name) {\r\n      const me = this\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        if (me.container_arr[i].cont.children[0].association_name == a_name) {\r\n          me.ctrl_arr.push(me.container_arr[i].cont.children[0])\r\n        }\r\n      }\r\n    },\r\n    setCtrlArrAssname: function() {\r\n      const me = this\r\n      let a = []\r\n      for (let i = 0; i < me.ctrl_arr.length; i++) {\r\n        if (me.ctrl_arr[i].association_name !== '') {\r\n          a.push(me.ctrl_arr[i].association_name)\r\n        }\r\n      }\r\n      a = new Set(a)\r\n      return [...a]\r\n    },\r\n    ctrlAddAss: function(name, ass_name_arr) {\r\n      const me = this\r\n      for (let i = 0; i < me.container_arr.length; i++) {\r\n        if (name == me.container_arr[i].cont.children[0].association_name) {\r\n          me.ctrl_arr.push(me.container_arr[i].cont.children[0])\r\n        }\r\n      }\r\n      return ass_name_arr.push(name)\r\n    },\r\n    ctrlDisAss: function(name, ass_name_arr) {\r\n      const me = this\r\n      me.ctrl_arr = me.ctrl_arr.filter(function(item) {\r\n        me.removeLine(item.name)\r\n        return item.association_name !== name\r\n      })\r\n      return ass_name_arr.filter(item => item !== name)\r\n    },\r\n    // updateLayer: function() {\r\n    //   other_func.updateLayer.bind(this)()\r\n    // },\r\n    // moveActiveLog: function(way) {\r\n    //   container_func.moveActiveLog.bind(this)(way)\r\n    // },\r\n    show_click: function(id) {\r\n      const me = this\r\n      let index = me.findCont(id)\r\n      me.in_move = me.container_arr[index].cont.children[0]\r\n      if (me.in_move.association_name == '') {\r\n        if (me.in_move.lock) {\r\n          me.containerLine(me.in_move, false, true, false, true)\r\n          me.$set(me.edit_bar.btn, 'show', false)\r\n        } else {\r\n          // 没有组合的单个图层\r\n          me.clearTemporary()\r\n          // 删除之前的边框按钮图层，增加此对象的边框按钮\r\n          me.containerLine(me.in_move, false, true)\r\n          me.showEdit(me.in_move.type)\r\n        }\r\n      } else {\r\n        me.ctrl_arr.length = 0\r\n        me.addACtrlarr(me.in_move.association_name)\r\n        // 锁定的组合的点击\r\n        if (me.in_move.lock) {\r\n          // 渲染锁定后的组合边框\r\n          me.renderTLine(false, true, me.in_move.association_name, true)\r\n          me.$set(me.edit_bar.btn, 'show', false)\r\n        } else {\r\n          me.aSingleClickBorder(me.in_move.association_name)\r\n          me.click_ass_id = me.in_move.association_name\r\n          if (me.in_move.type == 'image') {\r\n            me.showEdit('image_in')\r\n          } else if (me.in_move.type == 'text') {\r\n            me.showEdit('text_in')\r\n          }\r\n        }\r\n        //\r\n      }\r\n    },\r\n    // moveStructureText: function() {\r\n    //   other_func.moveStructureText.bind(this)()\r\n    // },\r\n    // lockFunc: function() {\r\n    //   other_func.lockFunc.bind(this)()\r\n    // },\r\n    // unlockFunc: function() {\r\n    //   other_func.unlockFunc.bind(this)()\r\n    // },\r\n    moveIndex: function(up, max = '') {\r\n      const me = this\r\n      if (me.in_move) {\r\n        me.upDownMove(me.findCont(me.in_move.name), up, max)\r\n      } else {\r\n        me.upDownMove(me.findCont(me.ctrl_arr[0].name), up, max)\r\n      }\r\n    },\r\n    // upDownMove: function(index, up, max = '') {\r\n    //   container_func.upDownMove.bind(this)(index, up, max)\r\n    // },\r\n    // renderUpDown: function() {\r\n    //   container_func.renderUpDown.bind(this)()\r\n    // },\r\n    toImage: function(returnFile = false) {\r\n      if (!returnFile) {\r\n        this.toImage2(returnFile)\r\n      } else {\r\n        return this.toImage2(returnFile)\r\n      }\r\n    },\r\n    // addImgTwo: function(cont, img_arr) {\r\n    //   return other_func.addImgTwo.bind(this)(cont, img_arr)\r\n    // },\r\n    // downloadImg: function(imgsrc) {\r\n    //   other_func.downloadImg.bind(this)(imgsrc)\r\n    // },\r\n    canvasToimg: function() {\r\n      const me = this\r\n      let img = me.p_app.renderer.plugins.extract.base64(me.p_app.stage)\r\n    },\r\n    keyboard: function(keyCode, second) {\r\n      let key = {}\r\n      key.code = keyCode\r\n      key.secondCode = second || -111\r\n      key.isDown = false\r\n      key.isUp = true\r\n      key.press = undefined\r\n      key.release = undefined\r\n      let agent = navigator.userAgent.toLowerCase()\r\n      let isMac = /macintosh|mac os x/i.test(navigator.userAgent)\r\n      // The `downHandler`\r\n      key.downHandler = event => {\r\n        if (event.keyCode === key.code || event.keyCode === key.secondCode) {\r\n          if ((key.isUp || isMac) && key.press) {\r\n            key.press()\r\n          }\r\n          key.isDown = true\r\n          key.isUp = false\r\n          if (event.keyCode == 91 || event.keyCode == 93 || event.keyCode == 38 || event.keyCode == 40) {\r\n            event.preventDefault()\r\n          }\r\n        }\r\n      }\r\n      // The `upHandler`\r\n      key.upHandler = event => {\r\n        if (event.keyCode === key.code || event.keyCode === key.secondCode) {\r\n          if (key.isDown && key.release) key.release()\r\n          key.isDown = false\r\n          key.isUp = true\r\n          if (event.keyCode == 91 || event.keyCode == 93 || event.keyCode == 38 || event.keyCode == 40) {\r\n            event.preventDefault()\r\n          }\r\n        }\r\n      }\r\n      // Attach event listeners\r\n      window.addEventListener('keydown', key.downHandler.bind(key), false)\r\n      window.addEventListener('keyup', key.upHandler.bind(key), false)\r\n      return key\r\n    },\r\n    addPopShow: function(show) {\r\n      const me = this\r\n      me.$set(me, 'addPop', show)\r\n    },\r\n    // canvasScale: function(type) {\r\n    //   other_func.canvasScale.bind(this)(type)\r\n    // },\r\n    // showRuler: function() {\r\n    //   other_func.showRuler.bind(this)()\r\n    // },\r\n    // idToImg: function(idArr) {\r\n    //   return other_func.idToImg.bind(this)(idArr)\r\n    // },\r\n    // dataURLtoFile: function(dataurl, filename) {\r\n    //   return other_func.dataURLtoFile.bind(this)(dataurl, filename)\r\n    // },\r\n    changeImage: function() {\r\n      const me = this\r\n      me.hide_edit_f()\r\n      me.$set(me, 'addPop', true)\r\n      bus.$emit('image_change')\r\n      me.$set(me.right_block, 'show', false)\r\n    },\r\n    changeInMoveImage: function(data) {\r\n      const me = this\r\n      let last = _.cloneDeep(me.active_log[me.active_log.length - 1])\r\n      for (let i = 0; i < last.length; i++) {\r\n        if (last[i].children[0].ass_children.length == 1) {\r\n          if (last[i].children[0].ass_children[0].type == 'image' && last[i].children[0].ass_children[0].file_id == me.in_move.file_id) {\r\n            last[i].children[0].ass_children[0].file_id = data.file_id\r\n            last[i].children[0].ass_children[0].src = data.src\r\n          }\r\n        }\r\n      }\r\n      if (me.active_log.length >= 30) {\r\n        me.active_log.splice(0, 1)\r\n      }\r\n      me.active_log.splice(me.active_index + 1, 30)\r\n      me.active_log.push(last)\r\n      // 渲染\r\n      me.$set(me, 'render_data', me.active_log[me.active_log.length - 1])\r\n      me.$set(me, 'active_index', me.active_log.length - 1)\r\n      me.renderTemplate()\r\n    }\r\n  },\r\n  components: {\r\n    addPop: () => import('./addPop.vue'),\r\n    'mould-func': () => import('./mould-func.vue')\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Canvas.vue?vue&type=template&id=5692ce5b&\"\nimport script from \"./Canvas.vue?vue&type=script&lang=js&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAALVBMVEUAAAD////////////////////////////gIzD/+fn6wsP4u7z1oqTkOkLwg4YCo7cpAAAAB3RSTlMAU/Pc2aWK4C2QgAAAAFBJREFUCNdjAAOVQAYYKC83RDDLE6DMU9PLy6DMjtvl5QJQZsfzcgMYs7u8EMbsnV4KY3YsL4EzjxdhMBEKENoQhiGsQFiMcA7CkShOR3gIAPtHKq1l+wA8AAAAAElFTkSuQmCC\"","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/forced-string-html-method');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/parse-float');\n\n// `parseFloat` method\n// https://tc39.github.io/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.github.io/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar SLOPPY_METHOD = sloppyArrayMethod('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || SLOPPY_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}