(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d617b9c"],{"0a01":function(e,t,i){"use strict";var a=i("caea"),l=i.n(a);l.a},caea:function(e,t,i){},ee32:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"myMaterial"},[i("el-upload",{attrs:{action:e.uploadUrl,"list-type":"picture-card","on-success":e.inputMsg,"file-list":e.fileList,data:e.mydata,"before-upload":e.before_upload},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return i("div",{staticClass:"imgDiv"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.url,expression:"file.url"}],staticClass:"el-upload-list__item-thumbnail",attrs:{alt:""}}),i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.handlePictureCardPreview(a)}}},[i("i",{staticClass:"el-icon-zoom-in"})]),e.disabled?e._e():i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleData(a)}}},[i("i",{staticClass:"el-icon-tickets"})]),3==a.status?i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[i("i",{staticClass:"el-icon-paperclip lock"})]):e._e()])])}}])},[i("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e.setNew?i("div",{staticClass:"alertBg"},[i("div",{staticClass:"layoutBlock"},[i("div",{staticClass:"inputBlock"},[i("el-input",{attrs:{placeholder:"单位(px)",size:"small",type:"number"},model:{value:e.file.size.height,callback:function(t){e.$set(e.file.size,"height",t)},expression:"file.size.height"}},[i("template",{slot:"prepend"},[e._v("图片高")])],2)],1),i("div",{staticClass:"inputBlock"},[i("el-input",{attrs:{placeholder:"单位(px)",size:"small",type:"number"},model:{value:e.file.size.width,callback:function(t){e.$set(e.file.size,"width",t)},expression:"file.size.width"}},[i("template",{slot:"prepend"},[e._v("图片宽")])],2)],1),i("el-button",{staticClass:"arcBtn",attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.showArc}},[e._v("弧形文字装饰 "),i("i",{class:e.edit_arc?"el-icon-arrow-up":"el-icon-arrow-down"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.edit_arc,expression:"edit_arc"}],staticClass:"arc"},[i("div",{staticClass:"inputBlock"},[i("el-input",{attrs:{placeholder:"单位(deg)",size:"small",type:"number"},model:{value:e.file.arc.arc_deg,callback:function(t){e.$set(e.file.arc,"arc_deg",t)},expression:"file.arc.arc_deg"}},[i("template",{slot:"prepend"},[e._v("角度")])],2)],1),i("div",{staticClass:"inputBlock"},[i("el-input",{attrs:{placeholder:"单位(px)",size:"small",type:"number"},model:{value:e.file.arc.radius,callback:function(t){e.$set(e.file.arc,"radius",t)},expression:"file.arc.radius"}},[i("template",{slot:"prepend"},[e._v("半径")])],2)],1),i("div",{staticClass:"inputBlock"},[i("el-input",{attrs:{placeholder:"文字中线至顶部距离——单位(px)",size:"small",type:"number"},model:{value:e.file.arc.centerToTop,callback:function(t){e.$set(e.file.arc,"centerToTop",t)},expression:"file.arc.centerToTop"}},[i("template",{slot:"prepend"},[e._v("距离")])],2)],1),i("div",{staticClass:"inputBlock"},[i("el-input",{attrs:{placeholder:"弧形方向(up,down)",size:"small",type:"text"},model:{value:e.file.arc.direction,callback:function(t){e.$set(e.file.arc,"direction",t)},expression:"file.arc.direction"}},[i("template",{slot:"prepend"},[e._v("弧形方向")])],2)],1)]),i("div",{staticClass:"setBtn"},[i("el-button",{staticClass:"saveBtn",attrs:{type:"primary",round:"",size:"small"},on:{click:e.saveUpload}},[e._v("保存")]),i("el-button",{staticClass:"cancelBtn",attrs:{type:"info",round:"",size:"small"},on:{click:e.cancelBlock}},[e._v("取消")])],1)],1)]):e._e()],1)},l=[],s=(i("3acb"),i("536e"),i("c9a0"),i("82a7"),i("f32a"),i("20a8"),i("69af"),i("9d37")),n=i("08c1"),c=i("2427"),r=i.n(c);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){Object(s["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={name:"myMaterial",data:function(){return{dialogImageUrl:"",dialogVisible:!1,disabled:!1,fileList:[],mydata:{upload_file_once:{}},file:{size:{height:0,width:0},arc:{arc_deg:0,radius:0,centerToTop:0,direction:"down"}},file_id:"",setNew:!1,edit_arc:!1,newAdd:!0}},computed:d({},Object(n["b"])({user_type:function(e){return e.user.user_type},user_data:function(e){return e.user.user_data},api:function(e){return e.api}}),{uploadUrl:function(){return"".concat(this.api.upload_file_once).concat(this.user_data.id,".html")}}),created:function(){},mounted:function(){var e=this;e.getImg()},methods:{getImg:function(){var e=this,t=e.user_data.id;r()({method:"post",url:e.api.find_file,data:{id:t}}).then((function(t){if("200"==t.data.code){for(var i=t.data.data,a=0;a<i.length;a++)i[a].file_id=i[a].id,i[a].url="".concat(e.api.images).concat(i[a].path);e.$nextTick((function(){e.$set(e,"fileList",i)}))}})).catch((function(e){}))},showArc:function(){var e=this;e.$set(e,"edit_arc",!e.edit_arc)},before_upload:function(e){this.$set(this.mydata,"upload_file_once",e)},inputMsg:function(e,t,i){var a=this;e&&0==e.code&&(a.$set(a,"setNew",!0),a.$set(a,"file_id",e.data.file_id))},handleData:function(e){var t=this;e.response?t.$set(t,"file_id",e.response.data.file_id):e.file_id&&(t.$set(t,"file_id",e.file_id),e.size?t.$set(t.file,"size",e.size):t.$set(t.file,"size",{height:null,width:null}),e.arc?t.$set(t.file,"arc",JSON.parse(e.arc)):t.$set(t.file,"arc",{arc_deg:null,radius:null,centerToTop:null,direction:null})),t.$set(t,"newAdd",!1),t.$set(t,"setNew",!0)},cancelBlock:function(){var e=this;e.$set(e,"setNew",!1)},saveUpload:function(){var e=this;r()({method:"post",url:e.api.change_file_rule,data:{size:JSON.stringify(e.file.size),arc:JSON.stringify(e.file.arc),file_id:e.file_id}}).then((function(t){e.$message({message:"图片参数设置成功",type:"success"}),e.$set(e,"setNew",!1)})).catch((function(e){}))},handleRemove:function(e){me.$message({message:"该图片已经被添加，锁定",type:"warning"})},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleDownload:function(e){}}},p=u,f=(i("0a01"),i("5511")),m=Object(f["a"])(p,a,l,!1,null,"0d164182",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-3d617b9c.fcc19c87.js.map