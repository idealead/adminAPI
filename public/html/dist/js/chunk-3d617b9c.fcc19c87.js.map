{"version":3,"sources":["webpack:///./src/designerComponents/myMaterial.vue?85ff","webpack:///./src/designerComponents/myMaterial.vue?528e","webpack:///src/designerComponents/myMaterial.vue","webpack:///./src/designerComponents/myMaterial.vue?bcae","webpack:///./src/designerComponents/myMaterial.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","uploadUrl","inputMsg","fileList","mydata","before_upload","scopedSlots","_u","key","fn","ref","file","directives","name","rawName","value","expression","on","$event","handlePictureCardPreview","disabled","_e","handleData","status","handleRemove","slot","dialogVisible","dialogImageUrl","model","size","callback","$$v","$set","_v","showArc","class","edit_arc","arc","saveUpload","cancelBlock","staticRenderFns","data","upload_file_once","height","width","arc_deg","radius","centerToTop","direction","file_id","setNew","newAdd","computed","created","mounted","me","getImg","methods","method","url","api","find_file","id","response","code","imgA","i","$nextTick","JSON","parse","change_file_rule","stringify","$message","message","type","handleDownload","component"],"mappings":"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","file":"js/chunk-3d617b9c.fcc19c87.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myMaterial.vue?vue&type=style&index=0&id=0d164182&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@3.4.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myMaterial.vue?vue&type=style&index=0&id=0d164182&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"myMaterial\"},[_c('el-upload',{attrs:{\"action\":_vm.uploadUrl,\"list-type\":\"picture-card\",\"on-success\":_vm.inputMsg,\"file-list\":_vm.fileList,\"data\":_vm.mydata,\"before-upload\":_vm.before_upload},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\nvar file = ref.file;\nreturn _c('div',{staticClass:\"imgDiv\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(file.url),expression:\"file.url\"}],staticClass:\"el-upload-list__item-thumbnail\",attrs:{\"alt\":\"\"}}),_c('span',{staticClass:\"el-upload-list__item-actions\"},[_c('span',{staticClass:\"el-upload-list__item-preview\",on:{\"click\":function($event){return _vm.handlePictureCardPreview(file)}}},[_c('i',{staticClass:\"el-icon-zoom-in\"})]),(!_vm.disabled)?_c('span',{staticClass:\"el-upload-list__item-delete\",on:{\"click\":function($event){return _vm.handleData(file)}}},[_c('i',{staticClass:\"el-icon-tickets\"})]):_vm._e(),(file.status==3)?_c('span',{staticClass:\"el-upload-list__item-delete\",on:{\"click\":function($event){return _vm.handleRemove(file)}}},[_c('i',{staticClass:\"el-icon-paperclip lock\"})]):_vm._e()])])}}])},[_c('i',{staticClass:\"el-icon-plus\",attrs:{\"slot\":\"default\"},slot:\"default\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})]),(_vm.setNew)?_c('div',{staticClass:\"alertBg\"},[_c('div',{staticClass:\"layoutBlock\"},[_c('div',{staticClass:\"inputBlock\"},[_c('el-input',{attrs:{\"placeholder\":\"单位(px)\",\"size\":\"small\",\"type\":\"number\"},model:{value:(_vm.file.size.height),callback:function ($$v) {_vm.$set(_vm.file.size, \"height\", $$v)},expression:\"file.size.height\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"图片高\")])],2)],1),_c('div',{staticClass:\"inputBlock\"},[_c('el-input',{attrs:{\"placeholder\":\"单位(px)\",\"size\":\"small\",\"type\":\"number\"},model:{value:(_vm.file.size.width),callback:function ($$v) {_vm.$set(_vm.file.size, \"width\", $$v)},expression:\"file.size.width\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"图片宽\")])],2)],1),_c('el-button',{staticClass:\"arcBtn\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.showArc}},[_vm._v(\"弧形文字装饰 \"),_c('i',{class:_vm.edit_arc?'el-icon-arrow-up':'el-icon-arrow-down'})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit_arc),expression:\"edit_arc\"}],staticClass:\"arc\"},[_c('div',{staticClass:\"inputBlock\"},[_c('el-input',{attrs:{\"placeholder\":\"单位(deg)\",\"size\":\"small\",\"type\":\"number\"},model:{value:(_vm.file.arc.arc_deg),callback:function ($$v) {_vm.$set(_vm.file.arc, \"arc_deg\", $$v)},expression:\"file.arc.arc_deg\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"角度\")])],2)],1),_c('div',{staticClass:\"inputBlock\"},[_c('el-input',{attrs:{\"placeholder\":\"单位(px)\",\"size\":\"small\",\"type\":\"number\"},model:{value:(_vm.file.arc.radius),callback:function ($$v) {_vm.$set(_vm.file.arc, \"radius\", $$v)},expression:\"file.arc.radius\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"半径\")])],2)],1),_c('div',{staticClass:\"inputBlock\"},[_c('el-input',{attrs:{\"placeholder\":\"文字中线至顶部距离——单位(px)\",\"size\":\"small\",\"type\":\"number\"},model:{value:(_vm.file.arc.centerToTop),callback:function ($$v) {_vm.$set(_vm.file.arc, \"centerToTop\", $$v)},expression:\"file.arc.centerToTop\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"距离\")])],2)],1),_c('div',{staticClass:\"inputBlock\"},[_c('el-input',{attrs:{\"placeholder\":\"弧形方向(up,down)\",\"size\":\"small\",\"type\":\"text\"},model:{value:(_vm.file.arc.direction),callback:function ($$v) {_vm.$set(_vm.file.arc, \"direction\", $$v)},expression:\"file.arc.direction\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"弧形方向\")])],2)],1)]),_c('div',{staticClass:\"setBtn\"},[_c('el-button',{staticClass:\"saveBtn\",attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.saveUpload}},[_vm._v(\"保存\")]),_c('el-button',{staticClass:\"cancelBtn\",attrs:{\"type\":\"info\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.cancelBlock}},[_vm._v(\"取消\")])],1)],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"myMaterial\">\r\n    <el-upload :action=\"uploadUrl\" list-type=\"picture-card\" :on-success=\"inputMsg\" :file-list=\"fileList\" :data=\"mydata\" :before-upload=\"before_upload\">\r\n      <i slot=\"default\" class=\"el-icon-plus\"></i>\r\n      <div slot=\"file\" slot-scope=\"{file}\" class=\"imgDiv\">\r\n        <img\r\n        class=\"el-upload-list__item-thumbnail\"\r\n        v-lazy=\"file.url\" alt=\"\"\r\n        >\r\n        <span class=\"el-upload-list__item-actions\">\r\n        <span\r\n          class=\"el-upload-list__item-preview\"\r\n          @click=\"handlePictureCardPreview(file)\"\r\n        >\r\n          <i class=\"el-icon-zoom-in\"></i>\r\n        </span>\r\n        <span\r\n          v-if=\"!disabled\"\r\n          class=\"el-upload-list__item-delete\"\r\n          @click=\"handleData(file)\"\r\n        >\r\n          <i class=\"el-icon-tickets\"></i>\r\n        </span>\r\n        <span\r\n          v-if=\"file.status==3\"\r\n          class=\"el-upload-list__item-delete\"\r\n          @click=\"handleRemove(file)\"\r\n        >\r\n          <i class=\"el-icon-paperclip lock\"></i>\r\n        </span>\r\n        </span>\r\n      </div>\r\n    </el-upload>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n    </el-dialog>\r\n      <div class=\"alertBg\" v-if=\"setNew\">\r\n        <div class=\"layoutBlock\">\r\n          <div class=\"inputBlock\">\r\n            <el-input placeholder=\"单位(px)\" v-model=\"file.size.height\" size=\"small\" type=\"number\">\r\n              <template slot=\"prepend\">图片高</template>\r\n            </el-input>\r\n          </div>\r\n          <div class=\"inputBlock\">\r\n            <el-input placeholder=\"单位(px)\" v-model=\"file.size.width\" size=\"small\" type=\"number\">\r\n              <template slot=\"prepend\">图片宽</template>\r\n            </el-input>\r\n          </div>\r\n          <el-button type=\"primary\" plain size=\"mini\" @click=\"showArc\" class=\"arcBtn\">弧形文字装饰 <i :class=\"edit_arc?'el-icon-arrow-up':'el-icon-arrow-down'\"></i></el-button>\r\n          <div class=\"arc\" v-show=\"edit_arc\">\r\n            <div class=\"inputBlock\">\r\n              <el-input placeholder=\"单位(deg)\" v-model=\"file.arc.arc_deg\" size=\"small\" type=\"number\">\r\n                <template slot=\"prepend\">角度</template>\r\n              </el-input>\r\n            </div>\r\n            <div class=\"inputBlock\">\r\n              <el-input placeholder=\"单位(px)\" v-model=\"file.arc.radius\" size=\"small\" type=\"number\">\r\n                <template slot=\"prepend\">半径</template>\r\n              </el-input>\r\n            </div>\r\n            <div class=\"inputBlock\">\r\n              <el-input placeholder=\"文字中线至顶部距离——单位(px)\" v-model=\"file.arc.centerToTop\" size=\"small\" type=\"number\">\r\n                <template slot=\"prepend\">距离</template>\r\n              </el-input>\r\n            </div>\r\n            <div class=\"inputBlock\">\r\n              <el-input placeholder=\"弧形方向(up,down)\" v-model=\"file.arc.direction\" size=\"small\" type=\"text\">\r\n                <template slot=\"prepend\">弧形方向</template>\r\n              </el-input>\r\n            </div>\r\n          </div>\r\n          <div class=\"setBtn\">\r\n            <el-button type=\"primary\" round class=\"saveBtn\" @click=\"saveUpload\" size=\"small\">保存</el-button>\r\n            <el-button type=\"info\" round class=\"cancelBtn\" @click=\"cancelBlock\" size=\"small\">取消</el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n<style type=\"text/css\" scoped>\r\n.myMaterial {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  padding-top: 100px;\r\n  overflow-y: auto;\r\n  text-align: left;\r\n}\r\n\r\n.alertBg {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  background-color: rgba(0, 0, 0, .5);\r\n  z-index: 9\r\n}\r\n\r\n.layoutBlock {\r\n  width: 600px;\r\n  height: 400px;\r\n  background-color: white;\r\n  border-radius: 30px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translateX(-50%) translateY(-50%);\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n}\r\n\r\n.inputBlock {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.arcBtn {\r\n  margin-bottom: 10px\r\n}\r\n\r\n.setBtn {\r\n  position: absolute;\r\n  width: 100%;\r\n  bottom: 20px;\r\n  left: 0;\r\n}\r\n\r\n.saveBtn {\r\n  position: absolute;\r\n  left: 20%;\r\n  bottom: 0\r\n}\r\n\r\n.cancelBtn {\r\n  position: absolute;\r\n  right: 20%;\r\n  bottom: 0;\r\n}\r\n\r\n.lock {\r\n  color: red\r\n}\r\n.imgDiv{\r\n  position: relative; \r\n  height: 100%;\r\n}\r\n.el-upload-list__item-thumbnail{\r\n  object-fit: contain;\r\n}\r\n</style>\r\n<script>\r\n// @ is an alias to /src\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\n// import bus from \"@/eventBus.js\"\r\nimport axios from 'axios'\r\nexport default {\r\n  name: 'myMaterial',\r\n  data: function() {\r\n    return {\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      fileList: [],\r\n      mydata: {\r\n        upload_file_once: {}\r\n      },\r\n      file: {\r\n        size: {\r\n          height: 0,\r\n          width: 0\r\n        },\r\n        arc: {\r\n          arc_deg: 0,\r\n          radius: 0,\r\n          centerToTop: 0,\r\n          direction: 'down'\r\n        }\r\n      },\r\n      file_id: '',\r\n      setNew: false,\r\n      edit_arc: false,\r\n      newAdd: true, //判断是新上传还是，修改之前的信息\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      user_type: state => state.user.user_type,\r\n      user_data: state => state.user.user_data,\r\n      api: state => state.api\r\n    }),\r\n    uploadUrl: function() {\r\n      return `${this.api.upload_file_once}${this.user_data.id}.html`\r\n    }\r\n  },\r\n  created: function() {\r\n    \r\n  },\r\n  mounted: function() {\r\n    const me = this;\r\n    //获取用户之前上传的图片\r\n    me.getImg()\r\n  },\r\n  methods: {\r\n    getImg: function() {\r\n      const me = this;\r\n      let id = me.user_data.id\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.find_file,\r\n        data: {\r\n          id: id\r\n        }\r\n      }).then(function(response) {\r\n        if (response.data.code == '200') {\r\n          let imgA = response.data.data;\r\n          for (let i = 0; i < imgA.length; i++) {\r\n            imgA[i].file_id = imgA[i].id;\r\n            imgA[i].url = `${me.api.images}${imgA[i].path}`\r\n          }\r\n          me.$nextTick(()=>{\r\n            me.$set(me, 'fileList', imgA)\r\n          })\r\n        }\r\n      }).catch(function(error) {\r\n\r\n      });\r\n    },\r\n    showArc: function() {\r\n      const me = this;\r\n      me.$set(me, 'edit_arc', !me.edit_arc)\r\n    },\r\n    before_upload: function(file) {\r\n      this.$set(this.mydata, 'upload_file_once', file)\r\n    },\r\n    inputMsg: function(response, file, fileList) {\r\n      const me = this;\r\n      if (response && response.code == 0) {\r\n        //上传文件成功\r\n        me.$set(me, 'setNew', true)\r\n        me.$set(me, 'file_id', response.data.file_id)\r\n      }\r\n    },\r\n    handleData: function(file) {\r\n      //修改上传图片的数据\r\n      const me = this\r\n      console.log(file)\r\n      if (file.response) {\r\n        me.$set(me, 'file_id', file.response.data.file_id)\r\n      } else if (file.file_id) {\r\n        me.$set(me, 'file_id', file.file_id)\r\n        //重置属性\r\n        if (file.size) {\r\n          me.$set(me.file, 'size', file.size)\r\n        } else {\r\n          me.$set(me.file, 'size', {\r\n            height: null,\r\n            width: null\r\n          })\r\n        }\r\n        if (file.arc) {\r\n          me.$set(me.file, 'arc', JSON.parse(file.arc))\r\n        } else {\r\n          me.$set(me.file, 'arc', {\r\n            arc_deg: null,\r\n            radius: null,\r\n            centerToTop: null,\r\n            direction: null\r\n          })\r\n        }\r\n      }\r\n\r\n      me.$set(me, 'newAdd', false)\r\n      me.$set(me, 'setNew', true)\r\n    },\r\n    cancelBlock: function() {\r\n      //取消输入数据面板\r\n      const me = this;\r\n      // if(me.newAdd)me.beforeList.splice(-1,1)\r\n      me.$set(me, 'setNew', false)\r\n    },\r\n    saveUpload: function() {\r\n      //设置参数\r\n      const me = this;\r\n      axios({\r\n        method: 'post',\r\n        url: me.api.change_file_rule,\r\n        data: {\r\n          size: JSON.stringify(me.file.size),\r\n          arc: JSON.stringify(me.file.arc),\r\n          file_id: me.file_id\r\n        }\r\n      }).then(function(response) {\r\n        me.$message({\r\n          message: '图片参数设置成功',\r\n          type: 'success'\r\n        });\r\n        me.$set(me, 'setNew', false)\r\n      }).catch(function(error) {\r\n\r\n      });\r\n    },\r\n    handleRemove(file) {\r\n      me.$message({\r\n        message: '该图片已经被添加，锁定',\r\n        type: 'warning'\r\n      });\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    handleDownload (file) {\r\n      console.log(file)\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myMaterial.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/index.js??vue-loader-options!./myMaterial.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myMaterial.vue?vue&type=template&id=0d164182&scoped=true&\"\nimport script from \"./myMaterial.vue?vue&type=script&lang=js&\"\nexport * from \"./myMaterial.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myMaterial.vue?vue&type=style&index=0&id=0d164182&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.8.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d164182\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}