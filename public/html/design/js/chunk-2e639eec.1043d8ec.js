(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e639eec"],{"4a1e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myMaterial_w"},[a("el-upload",{staticClass:"material_upload material_b",attrs:{action:"http://dev.cyrd.gdinsight.com/webApi/User_images/upload_file_once?user_id="+t.authorId,"list-type":"picture-card","show-file-list":!1,data:t.picData,"on-success":t.uploadSuccess,"before-upload":t.beforeUpload,"on-error":t.uploadFail}},[a("i",{staticClass:"el-icon-plus"})]),t._l(t.material_own,(function(e,i){return a("div",{staticClass:"material_b"},[a("img",{attrs:{src:"http://dev.cyrd.gdinsight.com"+e.path}}),a("span",{staticClass:"delete_material close_btn",on:{click:function(a){return t.deleteFunc(e.check_status,e.id,i)}}},[a("i")])])}))],2)},n=[],o=(a("99af"),a("d81d"),a("a434"),a("284c")),c=(a("f5ef"),a("2f62"),a("bc3a")),s=a.n(c),r={name:"myMaterial",props:{authorId:""},data:function(){return{picData:{upload_file_once:{}},material_own_origin:[],material_own_cutout:[]}},created:function(){},mounted:function(){},computed:{material_own:function(){return this.material_own_origin.map((function(t){t.check_status=1})),this.material_own_cutout.map((function(t){t.check_status=2})),[].concat(Object(o["a"])(this.material_own_origin),Object(o["a"])(this.material_own_cutout))}},methods:{updatePage:function(t){var e=this;e.material_own_origin.unshift({author:e.authorId,check_status:1,id:t.data.file_id,path:t.data.savepath}),e.$message("上传成功！")},beforeUpload:function(t){console.log(t);var e=this,a="image/jpeg"===t.type||"image/png"===t.type,i=t.size/1024/1024<2;return e.$set(e.picData,"upload_file_once",t),a||this.$message.error("上传头像图片只能是 JPG 或者 PNG 格式!"),a&&!i&&this.$message.error("上传头像图片大小不能超过 2MB!"),a&&i},uploadSuccess:function(t,e){console.log(t),this.updatePage(t)},uploadFail:function(t,e,a){this.$message(t)},deleteFunc:function(t,e,a){var i=this;s.a.get("/User_images/del_images_self?check_status=".concat(t,"&id=").concat(e)).then((function(e){var n=i.material_own_origin.len;1==t?i.material_own_origin.splice(a,1):i.material_own_cutout.splice(a-n,1),i.$message("删除成功！")})).catch((function(t){console.log(t)}))}},beforeRouteEnter:function(t,e,a){a((function(t){s.a.get("/User_images/find_images_self").then((function(e){console.log(e.data),t.material_own_origin=e.data.dataImage,t.material_own_cutout=e.data.dataCutout})).catch((function(t){console.log(t)}))}))}},l=r,u=(a("e1b2"),a("2877")),d=Object(u["a"])(l,i,n,!1,null,null,null);e["default"]=d.exports},a434:function(t,e,a){"use strict";var i=a("23e7"),n=a("23cb"),o=a("a691"),c=a("50c4"),s=a("7b0b"),r=a("65f0"),l=a("8418"),u=a("1dde"),d=Math.max,_=Math.min,f=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!u("splice")},{splice:function(t,e){var a,i,u,m,h,g,w=s(this),b=c(w.length),v=n(t,b),k=arguments.length;if(0===k?a=i=0:1===k?(a=0,i=b-v):(a=k-2,i=_(d(o(e),0),b-v)),b+a-i>f)throw TypeError(p);for(u=r(w,i),m=0;m<i;m++)h=v+m,h in w&&l(u,m,w[h]);if(u.length=i,a<i){for(m=v;m<b-i;m++)h=m+i,g=m+a,h in w?w[g]=w[h]:delete w[g];for(m=b;m>b-i+a;m--)delete w[m-1]}else if(a>i)for(m=b-i;m>v;m--)h=m+i-1,g=m+a-1,h in w?w[g]=w[h]:delete w[g];for(m=0;m<a;m++)w[m+v]=arguments[m+2];return w.length=b-i+a,u}})},d8a2:function(t,e,a){},e1b2:function(t,e,a){"use strict";var i=a("d8a2"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-2e639eec.1043d8ec.js.map