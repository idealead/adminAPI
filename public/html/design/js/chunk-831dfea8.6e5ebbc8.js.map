{"version":3,"sources":["webpack:///./src/components/personal_page/collect.vue?0850","webpack:///src/components/personal_page/collect.vue","webpack:///./src/components/personal_page/collect.vue?db3a","webpack:///./src/components/personal_page/collect.vue","webpack:///./src/assets/person/download.png","webpack:///./src/components/personal_page/collect.vue?ad2a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","directives","name","rawName","value","loading","expression","attrs","path","on","cout_load_img","_e","watermark_path","$event","delete_collect_func","template_id","level","_v","download_collection_func","staticRenderFns","component","module","exports"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAIP,EAAuB,qBAAE,SAASQ,EAAKC,GAAO,OAAOL,EAAG,MAAM,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQb,EAAIc,QAASC,WAAW,aAAaT,YAAY,cAAc,CAAEN,EAAW,QAAEI,EAAG,MAAM,CAACY,MAAM,CAAC,IAAM,uBAAyBR,EAAKS,MAAMC,GAAG,CAAC,KAAOlB,EAAImB,iBAAiBnB,EAAIoB,KAAKhB,EAAG,MAAM,CAACE,YAAY,eAAeU,MAAM,CAAC,IAAMR,EAAKa,kBAAkBjB,EAAG,OAAO,CAACE,YAAY,4BAA4BY,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOtB,EAAIuB,oBAAoBf,EAAKgB,YAAahB,EAAKiB,MAAOhB,MAAU,CAACL,EAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACJ,EAAI0B,GAAG,SAAStB,EAAG,MAAM,CAACE,YAAY,eAAeU,MAAM,CAAC,IAAM,EAAQ,QAAoC,IAAM,YAAYE,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOtB,EAAI2B,yBAAyBnB,EAAKS,KAAMT,EAAKgB,wBAAwBxB,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,UAAUJ,EAAIoB,KAAMpB,EAAgB,aAAEI,EAAG,IAAI,CAACE,YAAY,gBAAgB,CAACN,EAAI0B,GAAG,cAAc1B,EAAIoB,MAAM,IACrlCQ,EAAkB,G,oCC2GtB,GACA,eACA,SAGA,gBACA,OACA,WACA,gBACA,gBACA,2BAGA,QAbA,aAgBA,QAhBA,aAkBA,UACA,+BACA,iCAGA,SACA,yBAGA,sBACA,qDACA,kBAGA,oCAEA,WACA,IAEA,EADA,eACA,EAEA,EAGA,oBACA,kBAEA,iCAEA,mBAGA,0EAEA,wBAIA,uCAEA,yCAGA,iBA7DA,SA6DA,OACA,eAEA,iBACA,kBAEA,qBACA,aACA,aAEA,mBACA,2FACA,gCAIA,uBACA,mCACA,UAEA,aACA,qBAGA,4BCjMgW,I,wBCQ5VC,EAAY,eACd,EACA9B,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,uDCnBfC,EAAOC,QAAU,81C,oCCAjB,yBAAwf,EAAG","file":"js/chunk-831dfea8.6e5ebbc8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"collect_w\"},[_vm._l((_vm.filter_collect_data),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"material_b\"},[(_vm.loading)?_c('img',{attrs:{\"src\":'/uploadFiles/images/' + item.path},on:{\"load\":_vm.cout_load_img}}):_vm._e(),_c('img',{staticClass:\"template_pic\",attrs:{\"src\":item.watermark_path}}),_c('span',{staticClass:\"delete_material close_btn\",on:{\"click\":function($event){return _vm.delete_collect_func(item.template_id, item.level, index)}}},[_c('i')]),_c('div',{staticClass:\"design_control_block\"},[_c('span',[_vm._v(\"未命名\")]),_c('img',{staticClass:\"download_btn\",attrs:{\"src\":require(\"../../assets/person/download.png\"),\"alt\":\"download\"},on:{\"click\":function($event){return _vm.download_collection_func(item.path, item.template_id)}}})])])}),(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('span')]):_vm._e(),(_vm.none_content)?_c('p',{staticClass:\"none_content\"},[_vm._v(\"还没收藏的设计稿\")]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"collect_w\">\r\n\t\t<div class=\"material_b\" v-for=\"(item, index) in filter_collect_data\" v-show=\"!loading\">\r\n\t\t\t<!-- <img :src=\"'http://ht.idealead.hbindex.com/uploadFiles/images/'+ item.path\" @load=\"cout_load_img\"> -->\r\n\t\t\t<img :src=\"'/uploadFiles/images/' + item.path\" @load=\"cout_load_img\" v-if=\"loading\">\r\n\t\t\t<img :src=\"item.watermark_path\" class=\"template_pic\">\r\n\t\t\t<span class=\"delete_material close_btn\" @click=\"delete_collect_func(item.template_id, item.level, index)\"><i></i></span>\r\n\t\t\t<div class=\"design_control_block\">\r\n\t\t\t\t<span>未命名</span>\r\n\t\t\t\t<img src=\"../../assets/person/download.png\" class=\"download_btn\" alt=\"download\" @click=\"download_collection_func(item.path, item.template_id)\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"loading\" v-if=\"loading\">\r\n\t\t\t<span></span>\r\n\t\t</div>\r\n\t\t<p v-if=\"none_content\" class=\"none_content\">还没收藏的设计稿</p>\r\n\t</div>\r\n</template>\r\n\r\n<style type=\"text/css\" scoped>\r\n\t/*common*/\r\n\t.material_b{\r\n\t\twidth: 2.24rem;\r\n\t\theight: 2.24rem;\r\n\t\tbackground: url(../../assets/answer/icon_1.png) repeat top center;\r\n\t\tmargin: .1rem .1rem;\r\n\t\tborder-radius: .1rem;\r\n\t\tposition: relative;\r\n\t\ttransition: all .2s ease\r\n\t}\r\n\r\n\t.collect_w .material_b{\r\n\t\theight: auto;\r\n\t\tbackground: none;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.collect_w .material_b:hover .design_control_block{\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\t.design_control_block{\r\n\t\twidth: 100%;\r\n\t\theight: .47rem;\r\n\t\tbackground: rgba(30,30,30,.9);\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\ttransition: all .2s ease;\r\n\t\ttransform: translateY(100%);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\t.design_control_block span {\r\n\t\tcolor: #e6e6e6;\r\n\t\tfont-size: .16rem;\r\n\t}\r\n\t.download_btn{\r\n\t\twidth: .14rem;\r\n\t\tborder-radius: 0;\r\n\t\ttransition: all .2s ease;\r\n\t}\r\n\t.download_btn:active{\r\n\t\ttransform: scale(.8)\r\n\t}\r\n\r\n\t.close_btn {\r\n\t\twidth: .29rem;\r\n\t\theight: .29rem;\r\n\t\tbackground-color: #ff392c;\r\n\t\tborder-radius: 50%;\r\n\t\ttransition: all .2s ease;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.close_btn i {\r\n\t\tcolor: #fff!important;\r\n\t\tfont-size: .22rem;\r\n\t\tline-height: .29rem;\r\n\t\ttransition: all .2s ease;\r\n\t\tfont-family: element-icons!important;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: bolder;\r\n\t\tdisplay: inherit;\r\n\t}\r\n\r\n\t.delete_material{\r\n\t\tposition: absolute;\r\n\t\tright: 3%;\r\n\t\ttop: 3%;\r\n\t\tbox-shadow: 0.05rem 0.05rem 0.05rem rgba(0,0,0,.1);\r\n\t}\r\n\t.material_b .template_pic {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t\tborder-radius: .1rem;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.material_b:hover {\r\n\t\ttransform: translateY(-.05rem);\r\n\t\tbox-shadow: 0.05rem 0.05rem 0.05rem rgba(0,0,0,.2);\r\n\t}\r\n\r\n\r\n</style>\r\n\r\n<script type=\"text/javascript\">\r\nimport bus from \"@/bus.js\"\r\nimport {mapState, mapGetters, mapMutations} from 'vuex' //引入state，getters，mutations\r\nimport {getUserAllCollectTem, cancelCollectTempate} from '@/api/service.js' \r\nexport default {\r\n\tname: 'collect',\r\n\tprops: {\r\n\t\t// download_tips_dia: Boolean\r\n\t},\r\n\tdata: function(){\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\tnone_content: false,\r\n\t\t\tloading_count:0,\r\n\t\t\torigin_design_data: Array,\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\t\r\n\t},\r\n\tmounted() {\r\n\t},\r\n\tcomputed: {\r\n\t\tfilter_collect_data: function() {\r\n\t\t\treturn this.origin_design_data\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcout_load_img: function() {\r\n\t\t\t// 全部load完解除loading\r\n\t\t\tconst me =this;\r\n\t\t\tthis.loading_count+=1;\r\n\t\t\tif( this.loading_count >= this.origin_design_data.length){\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdelete_collect_func: function(id, level, index) {\r\n\t\t\t// 删除收藏模板\r\n\t\t\tconst me =this;\r\n\t\t\tlet\tis_user = 0;\r\n\t\t\tif(level == \"permanent\") {\r\n\t\t\t\tis_user = 2\r\n\t\t\t}else{\r\n\t\t\t\tis_user = 1\r\n\t\t\t}\r\n\t\t\t// me.axios.get(`/Collection/change_collection?template_id=${id}&is_user=${is_user}`)\r\n\t\t\tcancelCollectTempate(id,is_user)\r\n\t\t\t.then(function(data) {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tme.origin_design_data.splice(index,1)\r\n\t\t\t\tconsole.log(me.filter_collect_data)\r\n\t\t\t\tme.$message('取消成功');\r\n\r\n\t\t\t\t// 统计\r\n\t\t\t\tme.mtj_baidu('deleteCollect','click',`deleteCollectTemplate${id}`)\r\n\t\t\t})\r\n\t\t\t.catch(function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t})\r\n\t\t},\r\n\t\tdownload_collection_func: function(path,id) {\r\n\t\t\tconst me =this;\r\n\t\t\tbus.$emit('download', {'path': path, 'id': id})\r\n\t\t},\r\n\t},\r\n\tbeforeRouteEnter(to, from, next) {\r\n\t\tnext((vm) => {\r\n\t\t\t// vm.axios.get(\"/Collection/find_collection\")\r\n\t\t\tgetUserAllCollectTem()\r\n\t\t\t.then(function(data) {\r\n\t\t\t\tconsole.log(data.data)\r\n\t\t\t\tif(data.data.length != 0){\r\n\t\t\t\t\tlet tem_data = data.data;\r\n\t\t\t\t\tvm.loading = true\r\n\t\t\t\t\t// 加水印\r\n\t\t\t\t\ttem_data.map((item) => {\r\n\t\t\t\t\t\tvm.watermark('http://ht.idealead.hbindex.com/uploadFiles/images/' + item.path).then(function(value) {\r\n\t\t\t\t\t\t\treturn item.watermark_path =  value\r\n\t\t\t\t\t\t})\t\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tvm.origin_design_data = tem_data.reverse()\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvm.loading = false\r\n\t\t\t\t\tvm.none_content = true\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t})\r\n\t\t})\r\n\t},\r\n}\r\n\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./collect.vue?vue&type=template&id=45659e99&scoped=true&\"\nimport script from \"./collect.vue?vue&type=script&lang=js&\"\nexport * from \"./collect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collect.vue?vue&type=style&index=0&id=45659e99&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45659e99\",\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI4MzEwODBGMEQwQzExRUFCODJCQ0ZFMUMzNjAxMjYzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI4MzEwODEwMEQwQzExRUFCODJCQ0ZFMUMzNjAxMjYzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjgzMTA4MEQwRDBDMTFFQUI4MkJDRkUxQzM2MDEyNjMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjgzMTA4MEUwRDBDMTFFQUI4MkJDRkUxQzM2MDEyNjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6+7DzUAAAAY0lEQVR42tSSUQrAIAxD2+HBc/NsoEMJrQ7HPhYQpM37SeMkLZAOXQ2HbeqHIFogDIIx2aFOrlTbA9fC7R/BFYzRq2AGQ30RqDAiT0lCQ/LvVWLvnD+8BF/dsUyK/U1zTgEGAELx0U+YOrnGAAAAAElFTkSuQmCC\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collect.vue?vue&type=style&index=0&id=45659e99&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./collect.vue?vue&type=style&index=0&id=45659e99&scoped=true&lang=css&\""],"sourceRoot":""}