(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-96d2f11e"],{"4a1e":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"myMaterial_w"},[e("el-upload",{staticClass:"material_upload material_b",attrs:{action:"http://dev.cyrd.gdinsight.com/webApi/User_images/upload_file_once?user_id="+t.authorId,"list-type":"picture-card","show-file-list":!1,data:t.picData,"on-success":t.uploadSuccess,"before-upload":t.beforeUpload,"on-error":t.uploadFail}},[e("i",{staticClass:"el-icon-plus"})]),t._l(t.material_own,(function(a,n){return e("div",{staticClass:"material_b"},[e("img",{attrs:{src:"http://dev.cyrd.gdinsight.com"+a.path}}),e("span",{staticClass:"delete_material close_btn",on:{click:function(e){return t.deleteFunc(a.check_status,a.id,n)}}},[e("i")])])}))],2)},i=[],o=(e("f5ef"),e("2f62"),e("bc3a")),r=e.n(o);function c(t){return l(t)||u(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var a=0,e=new Array(t.length);a<t.length;a++)e[a]=t[a];return e}}var d={name:"myMaterial",props:{authorId:""},data:function(){return{picData:{upload_file_once:{}},material_own_origin:[],material_own_cutout:[]}},created:function(){},mounted:function(){},computed:{material_own:function(){return this.material_own_origin.map((function(t){t.check_status=1})),this.material_own_cutout.map((function(t){t.check_status=2})),[].concat(c(this.material_own_origin),c(this.material_own_cutout))}},methods:{updatePage:function(t){var a=this;a.material_own_origin.unshift({author:a.authorId,check_status:1,id:t.data.file_id,path:t.data.savepath}),a.$message("上传成功！")},beforeUpload:function(t){console.log(t);var a=this,e="image/jpeg"===t.type||"image/png"===t.type,n=t.size/1024/1024<2;return a.$set(a.picData,"upload_file_once",t),e||this.$message.error("上传头像图片只能是 JPG 或者 PNG 格式!"),e&&!n&&this.$message.error("上传头像图片大小不能超过 2MB!"),e&&n},uploadSuccess:function(t,a){console.log(t),this.updatePage(t)},uploadFail:function(t,a,e){this.$message(t)},deleteFunc:function(t,a,e){var n=this;r.a.get("/User_images/del_images_self?check_status=".concat(t,"&id=").concat(a)).then((function(a){var i=n.material_own_origin.len;1==t?n.material_own_origin.splice(e,1):n.material_own_cutout.splice(e-i,1),n.$message("删除成功！")})).catch((function(t){console.log(t)}))}},beforeRouteEnter:function(t,a,e){e((function(t){r.a.get("/User_images/find_images_self").then((function(a){console.log(a.data),t.material_own_origin=a.data.dataImage,t.material_own_cutout=a.data.dataCutout})).catch((function(t){console.log(t)}))}))}},_=d,f=(e("e1b2"),e("2877")),p=Object(f["a"])(_,n,i,!1,null,null,null);a["default"]=p.exports},d8a2:function(t,a,e){},e1b2:function(t,a,e){"use strict";var n=e("d8a2"),i=e.n(n);i.a}}]);
//# sourceMappingURL=chunk-96d2f11e.6fff8282.js.map