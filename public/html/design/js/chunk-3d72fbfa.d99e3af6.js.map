{"version":3,"sources":["webpack:///./src/components/personal_page/edited.vue?7a0f","webpack:///./src/assets/person/download.png","webpack:///./src/components/personal_page/edited.vue?9c56","webpack:///./src/components/personal_page/edited.vue?61ce","webpack:///src/components/personal_page/edited.vue","webpack:///./src/components/personal_page/edited.vue?bbd8","webpack:///./src/components/personal_page/edited.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","directives","name","rawName","value","loading","expression","attrs","path","on","cout_load_img","_e","watermark_path","$event","delete_material","id","_v","download_collection_func","origin_design_data","length","staticRenderFns","component"],"mappings":"gHAAA,yBAA+d,EAAG,G,qBCAleA,EAAOC,QAAU,81C,6DCAjB,yBAAuf,EAAG,G,2CCA1f,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACN,EAAIO,GAAIP,EAAsB,oBAAE,SAASQ,EAAKC,GAAO,OAAOL,EAAG,MAAM,CAACM,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQb,EAAIc,QAASC,WAAW,aAAaT,YAAY,cAAc,CAAEN,EAAW,QAAEI,EAAG,MAAM,CAACY,MAAM,CAAC,IAAM,sBAAwBR,EAAKS,MAAMC,GAAG,CAAC,KAAOlB,EAAImB,iBAAiBnB,EAAIoB,KAAKhB,EAAG,MAAM,CAACY,MAAM,CAAC,IAAMR,EAAKa,kBAAkBjB,EAAG,OAAO,CAACE,YAAY,4BAA4BY,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOtB,EAAIuB,gBAAgBd,EAAOD,EAAKgB,OAAO,CAACpB,EAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,OAAO,CAACJ,EAAIyB,GAAG,SAASrB,EAAG,MAAM,CAACE,YAAY,eAAeU,MAAM,CAAC,IAAM,EAAQ,QAAoC,IAAM,YAAYE,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOtB,EAAI0B,yBAAyBlB,EAAKS,iBAAiBjB,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,UAAUJ,EAAIoB,KAAuC,GAAjCpB,EAAI2B,mBAAmBC,OAAaxB,EAAG,IAAI,CAACE,YAAY,gBAAgB,CAACN,EAAIyB,GAAG,kBAAkBzB,EAAIoB,MAAM,IACliCS,EAAkB,G,YCkEtB,G,oBAAA,CACA,cACA,SAGA,gBACA,OACA,WACA,gBAiCA,wBAIA,QA7CA,aAgDA,QAhDA,aAkDA,YAGA,SACA,yBAGA,sBAEA,qDACA,kBAGA,qCAEA,4BAEA,8BACA,WACA,kCACA,gBAEA,kBACA,oBACA,oCACA,uBAEA,mBACA,oBAKA,iBAnFA,SAmFA,OACA,eACA,oCACA,kBAEA,GADA,oBACA,uBACA,kBAEA,mBACA,2FACA,gCAIA,eACA,uBACA,sCAGA,mBACA,kBAGA,+BACA,aAEA,mBChL+V,I,kCCS3VC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-3d72fbfa.d99e3af6.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edited.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edited.vue?vue&type=style&index=1&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI4MzEwODBGMEQwQzExRUFCODJCQ0ZFMUMzNjAxMjYzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI4MzEwODEwMEQwQzExRUFCODJCQ0ZFMUMzNjAxMjYzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjgzMTA4MEQwRDBDMTFFQUI4MkJDRkUxQzM2MDEyNjMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MjgzMTA4MEUwRDBDMTFFQUI4MkJDRkUxQzM2MDEyNjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6+7DzUAAAAY0lEQVR42tSSUQrAIAxD2+HBc/NsoEMJrQ7HPhYQpM37SeMkLZAOXQ2HbeqHIFogDIIx2aFOrlTbA9fC7R/BFYzRq2AGQ30RqDAiT0lCQ/LvVWLvnD+8BF/dsUyK/U1zTgEGAELx0U+YOrnGAAAAAElFTkSuQmCC\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edited.vue?vue&type=style&index=0&id=747f2e2f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edited.vue?vue&type=style&index=0&id=747f2e2f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edited_w\"},[_vm._l((_vm.origin_design_data),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loading),expression:\"!loading\"}],staticClass:\"material_b\"},[(_vm.loading)?_c('img',{attrs:{\"src\":'uploadFiles/images/' + item.path},on:{\"load\":_vm.cout_load_img}}):_vm._e(),_c('img',{attrs:{\"src\":item.watermark_path}}),_c('span',{staticClass:\"delete_material close_btn\",on:{\"click\":function($event){return _vm.delete_material(index, item.id)}}},[_c('i')]),_c('div',{staticClass:\"design_control_block\"},[_c('span',[_vm._v(\"未命名\")]),_c('img',{staticClass:\"download_btn\",attrs:{\"src\":require(\"../../assets/person/download.png\"),\"alt\":\"download\"},on:{\"click\":function($event){return _vm.download_collection_func(item.path)}}})])])}),(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('span')]):_vm._e(),(_vm.origin_design_data.length == 0)?_c('p',{staticClass:\"none_content\"},[_vm._v(\"目前没有任何已编辑的设计\")]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"edited_w\">\r\n\t\t<div class=\"material_b\" v-for=\"(item, index) in origin_design_data\" v-show=\"!loading\">\r\n\t\t\t<img :src=\"'uploadFiles/images/' + item.path\" @load=\"cout_load_img\" v-if=\"loading\">\r\n\t\t\t<img :src=\"item.watermark_path\" >\r\n\t\t\t<span class=\"delete_material close_btn\" @click=\"delete_material(index, item.id)\"><i></i></span>\r\n\t\t\t<div class=\"design_control_block\">\r\n\t\t\t\t<span>未命名</span>\r\n\t\t\t\t<img src=\"../../assets/person/download.png\" class=\"download_btn\" alt=\"download\" @click=\"download_collection_func(item.path)\">\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"loading\" v-if=\"loading\">\r\n\t\t\t<span></span>\r\n\t\t</div>\r\n\t\t<p v-if=\"origin_design_data.length == 0\" class=\"none_content\">目前没有任何已编辑的设计</p>\r\n\t</div>\r\n</template>\r\n\r\n<style type=\"text/css\" scoped>\r\n\t.edited_w .material_b{\r\n\t\theight: auto;\r\n\t\tbackground: none;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.edited_w .material_b:hover .design_control_block{\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\t.design_control_block{\r\n\t\twidth: 100%;\r\n\t\theight: .47rem;\r\n\t\tbackground: rgba(30,30,30,.9);\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\ttransition: all .2s ease;\r\n\t\ttransform: translateY(100%);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-around;\r\n\t}\r\n\t.design_control_block span {\r\n\t\tcolor: #e6e6e6;\r\n\t\tfont-size: .16rem;\r\n\t}\r\n\t.download_btn{\r\n\t\twidth: .14rem;\r\n\t\tborder-radius: 0;\r\n\t\ttransition: all .2s ease;\r\n\t}\r\n\t.download_btn:active{\r\n\t\ttransform: scale(.8)\r\n\t}\r\n\t\r\n\r\n</style>\r\n<style type=\"text/css\">\r\n\t.none_content{\r\n\t\tcolor: #333;\r\n\t\tfont-size: 0.4rem;\r\n\t\ttext-align: center;\r\n\t\twidth: 100%;\r\n\t}\r\n</style>\r\n\r\n<script type=\"text/javascript\">\r\nimport bus from \"@/bus.js\"\r\nimport {mapState, mapGetters, mapMutations} from 'vuex' //引入state，getters，mutations\r\nimport watermark from '../../plugins/watermark.js'\r\nexport default {\r\n\tname: 'edited',\r\n\tprops: {\r\n\r\n\t},\r\n\tdata: function(){\r\n\t\treturn {\r\n\t\t\tloading: false,\r\n\t\t\tloading_count:0,\r\n\t\t\t// origin_design_data: [\r\n\t\t\t// \t{\r\n\t\t\t// \t\t'design_img': require('@/assets/design/design_1.jpg'),\r\n\t\t\t// \t\t'integral' : 10,\r\n\t\t\t// \t\t'isCollect': false,\r\n\t\t\t// \t\t'labels': ['新年', '红包', '对联']\r\n\t\t\t// \t},\r\n\t\t\t// \t{\r\n\t\t\t// \t\t'design_img': require('@/assets/design/design_2.jpg'),\r\n\t\t\t// \t\t'integral' : 10,\r\n\t\t\t// \t\t'isCollect': false,\r\n\t\t\t// \t\t'labels': ['灯笼', '红包', '对联']\r\n\t\t\t// \t},\r\n\t\t\t// \t{\r\n\t\t\t// \t\t'design_img': require('@/assets/design/design_3.jpg'),\r\n\t\t\t// \t\t'integral' : 10,\r\n\t\t\t// \t\t'isCollect': false,\r\n\t\t\t// \t\t'labels': ['祝福', '红包', '对联']\r\n\t\t\t// \t},\r\n\t\t\t// \t{\r\n\t\t\t// \t\t'design_img': require('@/assets/design/design_2.jpg'),\r\n\t\t\t// \t\t'integral' : 10,\r\n\t\t\t// \t\t'isCollect': false,\r\n\t\t\t// \t\t'labels': ['利是', '红包', '对联']\r\n\t\t\t// \t},\r\n\t\t\t// \t{\r\n\t\t\t// \t\t'design_img': require('@/assets/design/design_2.jpg'),\r\n\t\t\t// \t\t'integral' : 10,\r\n\t\t\t// \t\t'isCollect': false,\r\n\t\t\t// \t\t'labels': ['灯笼', '红包', '对联']\r\n\t\t\t// \t},\r\n\t\t\t// ],\r\n\t\t\torigin_design_data: []\r\n\t\t\t\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\t\r\n\t},\r\n\tmounted() {\r\n\t},\r\n\tcomputed: {\r\n\t\t\r\n\t},\r\n\tmethods: {\r\n\t\tcout_load_img: function() {\r\n\t\t\t// 全部load完解除loading\r\n\t\t\tconst me =this;\r\n\t\t\tthis.loading_count+=1;\r\n\t\t\t// console.log(this.loading_count)\r\n\t\t\tif( this.loading_count >= this.origin_design_data.length){\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tdownload_collection_func: function(path) {\r\n\t\t\tconst me =this;\r\n\t\t\tbus.$emit('download', path)\r\n\t\t},\r\n\t\tdelete_material: function(index, id) {\r\n\t\t\tconst me =this;\r\n\t\t\tthis.axios.post(\"/Save/del_save\",{\r\n\t\t\t\ttemplate_id: id\r\n\t\t\t})\r\n\t\t\t.then(function(data) {\r\n\t\t\t\tconsole.log(data.data)\r\n\t\t\t\tme[`origin_design_data`].splice(index, 1)\r\n\t\t\t\tme.$message('删除成功！')\r\n\t\t\t})\r\n\t\t\t.catch(function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t})\r\n\t\t},\r\n\t\t\r\n\t},\r\n\tbeforeRouteEnter(to, from, next) {\r\n\t\tnext((vm) => {\r\n\t\t\tvm.axios.get(\"/Save/find_save_list\")\r\n\t\t\t.then(function(data) {\r\n\t\t\t\tconsole.log(data.data)\r\n\t\t\t\tif(data.data.data.length != 0){\r\n\t\t\t\t\tlet tem_data = data.data.data;\r\n\t\t\t\t\t// 加水印\r\n\t\t\t\t\ttem_data.map((item) => {\r\n\t\t\t\t\t\tvm.watermark('http://ht.idealead.hbindex.com/uploadFiles/images/' + item.path).then(function(value) {\r\n\t\t\t\t\t\t\treturn item.watermark_path =  value\r\n\t\t\t\t\t\t})\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(tem_data)\r\n\t\t\t\t\tvm.origin_design_data = tem_data\r\n\t\t\t\t\tconsole.log(vm.origin_design_data)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(function(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif(vm.origin_design_data.length!=0) {\r\n\t\t\t\tvm.loading = true\r\n\t\t\t}else{\r\n\t\t\t\tvm.loading = false\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n}\r\n\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edited.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edited.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edited.vue?vue&type=template&id=747f2e2f&scoped=true&\"\nimport script from \"./edited.vue?vue&type=script&lang=js&\"\nexport * from \"./edited.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edited.vue?vue&type=style&index=0&id=747f2e2f&scoped=true&lang=css&\"\nimport style1 from \"./edited.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"747f2e2f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}